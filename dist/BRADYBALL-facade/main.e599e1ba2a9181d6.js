(self.webpackChunkBRADYBALL_facade=self.webpackChunkBRADYBALL_facade||[]).push([[179],{7638:(Vi,pn,jt)=>{"use strict";function ln(n){return"function"==typeof n}function fn(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const On=fn(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Rn(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class $e{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ln(r))try{r()}catch(s){e=s instanceof On?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{en(s)}catch(o){e=e??[],o instanceof On?e=[...e,...o.errors]:e.push(o)}}if(e)throw new On(e)}}add(e){var t;if(e&&e!==this)if(this.closed)en(e);else{if(e instanceof $e){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Rn(t,e)}remove(e){const{_finalizers:t}=this;t&&Rn(t,e),e instanceof $e&&e._removeParent(this)}}$e.EMPTY=(()=>{const n=new $e;return n.closed=!0,n})();const rt=$e.EMPTY;function Mt(n){return n instanceof $e||n&&"closed"in n&&ln(n.remove)&&ln(n.add)&&ln(n.unsubscribe)}function en(n){ln(n)?n():n.unsubscribe()}const It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tr={setTimeout(n,e,...t){const{delegate:r}=tr;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=tr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function nr(n){tr.setTimeout(()=>{const{onUnhandledError:e}=It;if(!e)throw n;e(n)})}function rr(){}const Xr=qo("C",void 0,void 0);function qo(n,e,t){return{kind:n,value:e,error:t}}let Br=null;function ns(n){if(It.useDeprecatedSynchronousErrorHandling){const e=!Br;if(e&&(Br={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Br;if(Br=null,t)throw r}}else n()}class _a extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mt(e)&&e.add(this)):this.destination=fS}static create(e,t,r){return new tl(e,t,r)}next(e){this.isStopped?D0(function Us(n){return qo("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?D0(function Fi(n){return qo("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?D0(Xr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ll=Function.prototype.bind;function ip(n,e){return Ll.call(n,e)}class bc{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ba(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ba(r)}else ba(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ba(t)}}}class tl extends _a{constructor(e,t,r){let i;if(super(),ln(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&It.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ip(e.next,s),error:e.error&&ip(e.error,s),complete:e.complete&&ip(e.complete,s)}):i=e}this.destination=new bc(i)}}function ba(n){It.useDeprecatedSynchronousErrorHandling?function wa(n){It.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=n)}(n):nr(n)}function D0(n,e){const{onStoppedNotification:t}=It;t&&tr.setTimeout(()=>t(n,e))}const fS={closed:!0,next:rr,error:function hS(n){throw n},complete:rr},F0="function"==typeof Symbol&&Symbol.observable||"@@observable";function xc(n){return n}function S1(n){return 0===n.length?xc:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let yi=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function gS(n){return n&&n instanceof _a||function pS(n){return n&&ln(n.next)&&ln(n.error)&&ln(n.complete)}(n)&&Mt(n)}(t)?t:new tl(t,r,i);return ns(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=R0(r))((i,s)=>{const o=new tl({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[F0](){return this}pipe(...t){return S1(t)(this)}toPromise(t){return new(t=R0(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function R0(n){var e;return null!==(e=n??It.Promise)&&void 0!==e?e:Promise}const mS=fn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xo=(()=>{class n extends yi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new B1(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new mS}next(t){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ns(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?rt:(this.currentObservers=null,s.push(t),new $e(()=>{this.currentObservers=null,Rn(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new yi;return t.source=this,t}}return n.create=(e,t)=>new B1(e,t),n})();class B1 extends Xo{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:rt}}function rf(n){return ln(n?.lift)}function Gi(n){return e=>{if(rf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wi(n,e,t,r,i){return new vS(n,e,t,r,i)}class vS extends _a{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ar(n,e){return Gi((t,r)=>{let i=0;t.subscribe(wi(r,s=>{r.next(n.call(e,s,i++))}))})}function To(n){return this instanceof To?(this.v=n,this):new To(n)}function TA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function P0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const uf=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Af(n){return ln(n?.then)}function lp(n){return ln(n[F0])}function G0(n){return Symbol.asyncIterator&&ln(n?.[Symbol.asyncIterator])}function L1(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const z0=function CS(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Jn(n){return ln(n?.[z0])}function hf(n){return function Zs(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},a("next"),a("throw"),a("return",function o(h){return function(g){return Promise.resolve(g).then(h,A)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(h,g){r[h]&&(i[h]=function(w){return new Promise(function(v,p){s.push([h,w,v,p])>1||l(h,w)})},g&&(i[h]=g(i[h])))}function l(h,g){try{!function c(h){h.value instanceof To?Promise.resolve(h.value.v).then(u,A):f(s[0][2],h)}(r[h](g))}catch(w){f(s[0][3],w)}}function u(h){l("next",h)}function A(h){l("throw",h)}function f(h,g){h(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield To(t.read());if(i)return yield To(void 0);yield yield To(r)}}finally{t.releaseLock()}})}function cp(n){return ln(n?.getReader)}function _i(n){if(n instanceof yi)return n;if(null!=n){if(lp(n))return function j0(n){return new yi(e=>{const t=n[F0]();if(ln(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(uf(n))return function U1(n){return new yi(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Af(n))return function P1(n){return new yi(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,nr)})}(n);if(G0(n))return W0(n);if(Jn(n))return function ES(n){return new yi(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(cp(n))return function SS(n){return W0(hf(n))}(n)}throw L1(n)}function W0(n){return new yi(e=>{(function BS(n,e){var t,r,i,s;return function BA(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=TA(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function xa(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function hs(n,e,t=1/0){return ln(e)?hs((r,i)=>ar((s,o)=>e(r,s,i,o))(_i(n(r,i))),t):("number"==typeof e&&(t=e),Gi((r,i)=>function N1(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,A=!1;const f=()=>{A&&!l.length&&!c&&e.complete()},h=w=>c<r?g(w):l.push(w),g=w=>{s&&e.next(w),c++;let v=!1;_i(t(w,u++)).subscribe(wi(e,p=>{i?.(p),s?h(p):e.next(p)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){const p=l.shift();o?xa(e,o,()=>g(p)):g(p)}f()}catch(p){e.error(p)}}))};return n.subscribe(wi(e,h,()=>{A=!0,f()})),()=>{a?.()}}(r,i,n,t)))}function DA(n=1/0){return hs(xc,n)}const nl=new yi(n=>n.complete());function wu(n){return n[n.length-1]}function $0(n){return ln(wu(n))?n.pop():void 0}function Cc(n){return function TS(n){return n&&ln(n.schedule)}(wu(n))?n.pop():void 0}function FA(n,e=0){return Gi((t,r)=>{t.subscribe(wi(r,i=>xa(r,n,()=>r.next(i),e),()=>xa(r,n,()=>r.complete(),e),i=>xa(r,n,()=>r.error(i),e)))})}function k1(n,e=0){return Gi((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function H1(n,e){if(!n)throw new Error("Iterable cannot be null");return new yi(t=>{xa(t,e,()=>{const r=n[Symbol.asyncIterator]();xa(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function pi(n,e){return e?function Ap(n,e){if(null!=n){if(lp(n))return function IS(n,e){return _i(n).pipe(k1(e),FA(e))}(n,e);if(uf(n))return function ff(n,e){return new yi(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Af(n))return function up(n,e){return _i(n).pipe(k1(e),FA(e))}(n,e);if(G0(n))return H1(n,e);if(Jn(n))return function DS(n,e){return new yi(t=>{let r;return xa(t,e,()=>{r=n[z0](),xa(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ln(r?.return)&&r.return()})}(n,e);if(cp(n))return function FS(n,e){return H1(hf(n),e)}(n,e)}throw L1(n)}(n,e):_i(n)}class Yo extends Xo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function nn(...n){return pi(n,Cc(n))}function Q1(n={}){const{connector:e=(()=>new Xo),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,A=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,u=A=!1},g=()=>{const w=o;h(),w?.unsubscribe()};return Gi((w,v)=>{c++,!A&&!u&&f();const p=l=l??e();v.add(()=>{c--,0===c&&!A&&!u&&(a=K0(g,i))}),p.subscribe(v),!o&&c>0&&(o=new tl({next:C=>p.next(C),error:C=>{A=!0,f(),a=K0(h,t,C),p.error(C)},complete:()=>{u=!0,f(),a=K0(h,r),p.complete()}}),_i(w).subscribe(o))})(s)}}function K0(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new tl({next:()=>{r.unsubscribe(),n()}});return _i(e(...t)).subscribe(r)}function Ca(n,e){return Gi((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(wi(r,l=>{i?.unsubscribe();let c=0;const u=s++;_i(n(l,u)).subscribe(i=wi(r,A=>r.next(e?e(l,A,u,c++):A),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function LS(n,e){return n===e}function Mr(n){for(let e in n)if(n[e]===Mr)return e;throw Error("Could not find renamed property on target object.")}function hp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function zi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(zi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function RA(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const US=Mr({__forward_ref__:Mr});function Rr(n){return n.__forward_ref__=Rr,n.toString=function(){return zi(this())},n}function Sn(n){return q0(n)?n():n}function q0(n){return"function"==typeof n&&n.hasOwnProperty(US)&&n.__forward_ref__===Rr}function fp(n){return n&&!!n.\u0275providers}const Ec="https://g.co/ng/security#xss";class yt extends Error{constructor(e,t){super(function dp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Mn(n){return"string"==typeof n?n:null==n?"":String(n)}function X0(n,e){throw new yt(-201,!1)}function Zo(n,e){null==n&&function rn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function un(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gi(n){return{providers:n.providers||[],imports:n.imports||[]}}function _u(n){return Y0(n,bu)||Y0(n,j1)}function Y0(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ea(n){return n&&(n.hasOwnProperty(gf)||n.hasOwnProperty(VS))?n[gf]:null}const bu=Mr({\u0275prov:Mr}),gf=Mr({\u0275inj:Mr}),j1=Mr({ngInjectableDef:Mr}),VS=Mr({ngInjectorDef:Mr});var er=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(er||{});let Z0;function Js(n){const e=Z0;return Z0=n,e}function $1(n,e,t){const r=_u(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&er.Optional?null:void 0!==e?e:void X0(zi(n))}const Gr=globalThis;class Wt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=un({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const UA={},xu="__NG_DI_FLAG__",Ul="ngTempTokenPath",jS=/\n/gm,rv="__source";let Sa;function Bc(n){const e=Sa;return Sa=n,e}function Mc(n,e=er.Default){if(void 0===Sa)throw new yt(-203,!1);return null===Sa?$1(n,void 0,e):Sa.get(n,e&er.Optional?null:void 0,e)}function Tt(n,e=er.Default){return(function W1(){return Z0}()||Mc)(Sn(n),e)}function St(n,e=er.Default){return Tt(n,PA(e))}function PA(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sl(n){const e=[];for(let t=0;t<n.length;t++){const r=Sn(n[t]);if(Array.isArray(r)){if(0===r.length)throw new yt(900,!1);let i,s=er.Default;for(let o=0;o<r.length;o++){const a=r[o],l=zr(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Tt(i,s))}else e.push(Tt(r))}return e}function Pl(n,e){return n[xu]=e,n.prototype[xu]=e,n}function zr(n){return n[xu]}function ol(n){return{toString:n}.toString()}var mf=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(mf||{}),eo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(eo||{});const Ba={},hr=[],Ps=Mr({\u0275cmp:Mr}),al=Mr({\u0275dir:Mr}),ll=Mr({\u0275pipe:Mr}),ji=Mr({\u0275mod:Mr}),Bs=Mr({\u0275fac:Mr}),NA=Mr({__NG_ELEMENT_ID__:Mr}),sv=Mr({__NG_ENV_ID__:Mr});function gp(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function mp(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];OA(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Z1(n){return 3===n||4===n||6===n}function OA(n){return 64===n.charCodeAt(0)}function Do(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||J1(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function J1(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const e_="ng-template";function vp(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==gp(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ov(n){return 4===n.type&&n.value!==e_}function WS(n,e,t){return e===(4!==n.type||t?n.value:e_)}function $S(n,e,t){let r=4;const i=n.attrs||[],s=function yp(n){for(let e=0;e<n.length;e++)if(Z1(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!WS(n,l,t)||""===l&&1===e.length){if(bi(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!vp(n.attrs,c,t)){if(bi(r))return!1;o=!0}continue}const A=t_(8&r?"class":l,i,ov(n),t);if(-1===A){if(bi(r))return!1;o=!0;continue}if(""!==c){let f;f=A>s?"":i[A+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==gp(h,c,0)||2&r&&c!==f){if(bi(r))return!1;o=!0}}}}else{if(!o&&!bi(r)&&!bi(l))return!1;if(o&&bi(l))continue;o=!1,r=l|1&r}}return bi(r)||o}function bi(n){return 0==(1&n)}function t_(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function qS(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function n_(n,e,t=!1){for(let r=0;r<e.length;r++)if($S(n,e[r],t))return!0;return!1}function av(n,e){return n?":not("+e.trim()+")":e}function i_(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!bi(o)&&(e+=av(s,i),i=""),r=o,s=s||!bi(r);t++}return""!==i&&(e+=av(s,i)),e}function rs(n){return ol(()=>{const e=u_(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===mf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||eo.Emulated,styles:n.styles||hr,_:null,schemas:n.schemas||null,tView:null,id:""};HA(t);const r=n.dependencies;return t.directiveDefs=wp(r,!1),t.pipeDefs=wp(r,!0),t.id=function _p(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function l_(n){return ir(n)||fs(n)}function XS(n){return null!==n}function ei(n){return ol(()=>({type:n.type,bootstrap:n.bootstrap||hr,declarations:n.declarations||hr,imports:n.imports||hr,exports:n.exports||hr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function c_(n,e){if(null==n)return Ba;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function yn(n){return ol(()=>{const e=u_(n);return HA(e),e})}function to(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ir(n){return n[Ps]||null}function fs(n){return n[al]||null}function Ns(n){return n[ll]||null}function Fo(n,e){const t=n[ji]||null;if(!t&&!0===e)throw new Error(`Type ${zi(n)} does not have '\u0275mod' property.`);return t}function u_(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ba,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||hr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:c_(n.inputs,e),outputs:c_(n.outputs)}}function HA(n){n.features?.forEach(e=>e(n))}function wp(n,e){if(!n)return null;const t=e?Ns:l_;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(XS)}const mi=0,Ot=1,Dn=2,ti=3,no=4,vf=5,Ms=6,QA=7,xi=8,Ma=9,VA=10,Tn=11,yf=12,A_=13,Nl=14,Ci=15,wf=16,GA=17,cl=18,_f=19,h_=20,Tc=21,Ol=22,bf=23,xf=24,Kn=25,lv=1,cv=2,ul=7,Ic=9,ds=11;function ro(n){return Array.isArray(n)&&"object"==typeof n[lv]}function Os(n){return Array.isArray(n)&&!0===n[lv]}function uv(n){return 0!=(4&n.flags)}function Cu(n){return n.componentOffset>-1}function Eu(n){return 1==(1&n.flags)}function Ta(n){return!!n.template}function Av(n){return 0!=(512&n[Dn])}function Su(n,e){return n.hasOwnProperty(Bs)?n[Bs]:null}let sr=null,xp=!1;function Jo(n){const e=sr;return sr=n,e}const d_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function g_(n){if(!Cf(n)||n.dirty){if(!n.producerMustRecompute(n)&&!v_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function m_(n){n.dirty=!0,function dv(n){if(void 0===n.liveConsumerNode)return;const e=xp;xp=!0;try{for(const t of n.liveConsumerNode)t.dirty||m_(t)}finally{xp=e}}(n),n.consumerMarkedDirty?.(n)}function gv(n){return n&&(n.nextProducerIndex=0),Jo(n)}function mv(n,e){if(Jo(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Cf(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Gt(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function v_(n){zA(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(g_(t),r!==t.version))return!0}return!1}function y_(n){if(zA(n),Cf(n))for(let e=0;e<n.producerNode.length;e++)Gt(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Gt(n,e){if(function Cp(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),zA(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Gt(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];zA(i),i.producerIndexOfThis[r]=e}}function Cf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function zA(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let w_=null;const E_=()=>{},cB=(()=>({...d_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:E_}))();class S_{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ks(){return B_}function B_(n){return n.type.prototype.ngOnChanges&&(n.setInput=M_),uB}function uB(){const n=Bf(this),e=n?.current;if(e){const t=n.previous;if(t===Ba)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function M_(n,e,t,r){const i=this.declaredInputs[t],s=Bf(n)||function AB(n,e){return n[T_]=e}(n,{previous:Ba,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new S_(l&&l.currentValue,e,a===Ba),n[r]=e}ks.ngInherit=!0;const T_="__ngSimpleChanges__";function Bf(n){return n[T_]||null}const Ia=function(n,e,t){};function Lr(n){for(;Array.isArray(n);)n=n[mi];return n}function jA(n,e){return Lr(e[n])}function Hs(n,e){return Lr(e[n.index])}function bv(n,e){return n.data[e]}function Mu(n,e){return n[e]}function Qs(n,e){const t=e[n];return ro(t)?t:t[mi]}function Wi(n,e){return null==e?null:n[e]}function Bp(n){n[GA]=0}function pB(n){1024&n[Dn]||(n[Dn]|=1024,R_(n,1))}function F_(n){1024&n[Dn]&&(n[Dn]&=-1025,R_(n,-1))}function R_(n,e){let t=n[ti];if(null===t)return;t[vf]+=e;let r=t;for(t=t[ti];null!==t&&(1===e&&1===r[vf]||-1===e&&0===r[vf]);)t[vf]+=e,r=t,t=t[ti]}const xn={lFrame:V_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mp(){return xn.bindingsEnabled}function At(){return xn.lFrame.lView}function cr(){return xn.lFrame.tView}function gs(){let n=O_();for(;null!==n&&64===n.type;)n=n.parent;return n}function O_(){return xn.lFrame.currentTNode}function Al(n,e){const t=xn.lFrame;t.currentTNode=n,t.isParent=e}function xv(){return xn.lFrame.isParent}function ms(){const n=xn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Hl(){return xn.lFrame.bindingIndex}function WA(){return xn.lFrame.bindingIndex++}function Ql(n){const e=xn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function CB(n,e){const t=xn.lFrame;t.bindingIndex=t.bindingRootIndex=n,Rf(e)}function Rf(n){xn.lFrame.currentDirectiveIndex=n}function Ev(){return xn.lFrame.currentQueryIndex}function Fp(n){xn.lFrame.currentQueryIndex=n}function EB(n){const e=n[Ot];return 2===e.type?e.declTNode:1===e.type?n[Ms]:null}function Lf(n,e,t){if(t&er.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&er.Host||(i=EB(s),null===i||(s=s[Nl],10&i.type))););if(null===i)return!1;e=i,n=s}const r=xn.lFrame=Sv();return r.currentTNode=e,r.lView=n,!0}function Rp(n){const e=Sv(),t=n[Ot];xn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Sv(){const n=xn.lFrame,e=null===n?null:n.child;return null===e?V_(n):e}function V_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function G_(){const n=xn.lFrame;return xn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Bv=G_;function Rc(){const n=G_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vs(){return xn.lFrame.selectedIndex}function Iu(n){xn.lFrame.selectedIndex=n}function li(){const n=xn.lFrame;return bv(n.tView,n.selectedIndex)}let Up=!0;function Uf(){return Up}function Vl(n){Up=n}function Du(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Fu(n,e,t){$_(n,e,3,t)}function Pf(n,e,t,r){(3&n[Dn])===t&&$_(n,e,t,r)}function Pp(n,e){let t=n[Dn];(3&t)===e&&(t&=8191,t+=1,n[Dn]=t)}function $_(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[GA]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[GA]+=65536),(a<s||-1==s)&&(K_(n,t,e,l),n[GA]=(4294901760&n[GA])+l+2),l++}function Dv(n,e){Ia(4,n,e);const t=Jo(null);try{e.call(n)}finally{Jo(t),Ia(5,n,e)}}function K_(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[Dn]>>13<n[GA]>>16&&(3&n[Dn])===e&&(n[Dn]+=8192,Dv(a,s)):Dv(a,s)}const $A=-1;class Nf{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Da(n){return n!==$A}function YA(n){return 32767&n}function ZA(n,e){let t=function q_(n){return n>>16}(n),r=e;for(;t>0;)r=r[Nl],t--;return r}let Of=!0;function Uc(n){const e=Of;return Of=n,e}const Fv=255,kf=5;let TB=0;const hl={};function Op(n,e){const t=kp(n,e);if(-1!==t)return t;const r=e[Ot];r.firstCreatePass&&(n.injectorIndex=e.length,Rv(r.data,n),Rv(e,null),Rv(r.blueprint,null));const i=Hp(n,e),s=n.injectorIndex;if(Da(i)){const o=YA(i),a=ZA(i,e),l=a[Ot].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Rv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function kp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Hp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=kt(i),null===r)return $A;if(t++,i=i[Nl],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return $A}function Lv(n,e,t){!function IB(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(NA)&&(r=t[NA]),null==r&&(r=t[NA]=TB++);const i=r&Fv;e.data[n+(i>>kf)]|=1<<i}(n,e,t)}function X_(n,e,t){if(t&er.Optional||void 0!==n)return n;X0()}function Y_(n,e,t,r){if(t&er.Optional&&void 0===r&&(r=null),!(t&(er.Self|er.Host))){const i=n[Ma],s=Js(void 0);try{return i?i.get(e,r,t&er.Optional):$1(e,r,t&er.Optional)}finally{Js(s)}}return X_(r,0,t)}function Qp(n,e,t,r=er.Default,i){if(null!==n){if(2048&e[Dn]&&!(r&er.Self)){const o=function RB(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[Dn]&&!(512&o[Dn]);){const a=Vp(s,o,t,r|er.Self,hl);if(a!==hl)return a;let l=s.parent;if(!l){const c=o[h_];if(c){const u=c.get(t,hl,r);if(u!==hl)return u}l=kt(o),o=o[Nl]}s=l}return i}(n,e,t,r,hl);if(o!==hl)return o}const s=Vp(n,e,t,r,hl);if(s!==hl)return s}return Y_(e,t,r,i)}function Vp(n,e,t,r,i){const s=function J_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(NA)?n[NA]:void 0;return"number"==typeof e?e>=0?e&Fv:Uv:e}(t);if("function"==typeof s){if(!Lf(e,n,r))return r&er.Host?X_(i,0,r):Y_(e,t,r,i);try{let o;if(o=s(r),null!=o||r&er.Optional)return o;X0()}finally{Bv()}}else if("number"==typeof s){let o=null,a=kp(n,e),l=$A,c=r&er.Host?e[Ci][Ms]:null;for((-1===a||r&er.SkipSelf)&&(l=-1===a?Hp(n,e):e[a+8],l!==$A&&tb(r,!1)?(o=e[Ot],a=YA(l),e=ZA(l,e)):a=-1);-1!==a;){const u=e[Ot];if(eb(s,a,u.data)){const A=Z_(a,e,t,o,r,c);if(A!==hl)return A}l=e[a+8],l!==$A&&tb(r,e[Ot].data[a+8]===c)&&eb(s,a,e)?(o=u,a=YA(l),e=ZA(l,e)):a=-1}}return i}function Z_(n,e,t,r,i,s){const o=e[Ot],a=o.data[n+8],u=Gp(a,o,t,null==r?Cu(a)&&Of:r!=o&&0!=(3&a.type),i&er.Host&&s===a);return null!==u?Lu(e,o,u,a):hl}function Gp(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,f=i?a+u:n.directiveEnd;for(let h=r?a:a+u;h<f;h++){const g=o[h];if(h<l&&t===g||h>=l&&g.type===t)return h}if(i){const h=o[l];if(h&&Ta(h)&&h.type===t)return l}return null}function Lu(n,e,t,r){let i=n[t];const s=e.data;if(function KA(n){return n instanceof Nf}(i)){const o=i;o.resolving&&function PS(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new yt(-200,`Circular dependency in DI detected for ${n}${t}`)}(function lr(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Mn(n)}(s[t]));const a=Uc(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Js(o.injectImpl):null;Lf(n,r,er.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function SB(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=B_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Js(c),Uc(a),o.resolving=!1,Bv()}}return i}function eb(n,e,t){return!!(t[e+(n>>kf)]&1<<n)}function tb(n,e){return!(n&er.Self||n&er.Host&&e)}class Gs{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Qp(this._tNode,this._lView,e,PA(r),t)}}function Uv(){return new Gs(gs(),At())}function vs(n){return ol(()=>{const e=n.prototype.constructor,t=e[Bs]||Qf(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Bs]||Qf(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Qf(n){return q0(n)?()=>{const e=Qf(Sn(n));return e&&e()}:Su(n)}function kt(n){const e=n[Ot],t=e.type;return 2===t?e.declTNode:1===t?n[Ms]:null}const ys="__parameters__";function jl(n,e,t){return ol(()=>{const r=function jr(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const A=l.hasOwnProperty(ys)?l[ys]:Object.defineProperty(l,ys,{value:[]})[ys];for(;A.length<=u;)A.push(null);return(A[u]=A[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function th(n,e){n.forEach(t=>Array.isArray(t)?th(t,e):e(t))}function rb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Lo(n,e,t){let r=Fa(n,e);return r>=0?n[1|r]=t:(r=~r,function Wp(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Vf(n,e){const t=Fa(n,e);if(t>=0)return n[1|t]}function Fa(n,e){return function ib(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Kp=Pl(jl("Optional"),8),qp=Pl(jl("SkipSelf"),4);function La(n){return 128==(128&n.flags)}var so=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(so||{});const Ou=new Map;let B9=0;const $B="__ngContext__";function oo(n,e){ro(e)?(n[$B]=e[_f],function T9(n){Ou.set(n[_f],n)}(e)):n[$B]=e}let KB;function qB(n,e){return KB(n,e)}function Vv(n){const e=n[ti];return Os(e)?e[ti]:e}function jU(n){return $U(n[yf])}function WU(n){return $U(n[no])}function $U(n){for(;null!==n&&!Os(n);)n=n[no];return n}function Yp(n,e,t,r,i){if(null!=r){let s,o=!1;Os(r)?s=r:ro(r)&&(o=!0,r=r[mi]);const a=Lr(r);0===n&&null!==t?null==i?YU(e,t,a):Gf(e,t,a,i||null,!0):1===n&&null!==t?Gf(e,t,a,i||null,!0):2===n?function db(n,e,t){const r=hb(n,e);r&&function K9(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Y9(n,e,t,r,i){const s=t[ul];s!==Lr(t)&&Yp(e,n,r,s,i);for(let a=ds;a<t.length;a++){const l=t[a];zv(l[Ot],l,n,e,r,s)}}(e,n,s,t,i)}}function ub(n,e,t){return n.createElement(e,t)}function qU(n,e){const t=n[Ic],r=t.indexOf(e);F_(e),t.splice(r,1)}function Ab(n,e){if(n.length<=ds)return;const t=ds+e,r=n[t];if(r){const i=r[wf];null!==i&&i!==n&&qU(i,r),e>0&&(n[t-1][no]=r[no]);const s=jp(n,ds+e);!function H9(n,e){zv(n,e,e[Tn],2,null,null),e[mi]=null,e[Ms]=null}(r[Ot],r);const o=s[cl];null!==o&&o.detachView(s[Ot]),r[ti]=null,r[no]=null,r[Dn]&=-129}return r}function YB(n,e){if(!(256&e[Dn])){const t=e[Tn];e[bf]&&y_(e[bf]),e[xf]&&y_(e[xf]),t.destroyNode&&zv(n,e,t,3,null,null),function G9(n){let e=n[yf];if(!e)return ZB(n[Ot],n);for(;e;){let t=null;if(ro(e))t=e[yf];else{const r=e[ds];r&&(t=r)}if(!t){for(;e&&!e[no]&&e!==n;)ro(e)&&ZB(e[Ot],e),e=e[ti];null===e&&(e=n),ro(e)&&ZB(e[Ot],e),t=e&&e[no]}e=t}}(e)}}function ZB(n,e){if(!(256&e[Dn])){e[Dn]&=-129,e[Dn]|=256,function $9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Nf)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Ia(4,a,l);try{l.call(a)}finally{Ia(5,a,l)}}else{Ia(4,i,s);try{s.call(i)}finally{Ia(5,i,s)}}}}}(n,e),function W9(n,e){const t=n.cleanup,r=e[QA];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[QA]=null);const i=e[Tc];if(null!==i){e[Tc]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[Ot].type&&e[Tn].destroy();const t=e[wf];if(null!==t&&Os(e[ti])){t!==e[ti]&&qU(t,e);const r=e[cl];null!==r&&r.detachView(n)}!function I9(n){Ou.delete(n[_f])}(e)}}function JB(n,e,t){return function XU(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[mi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===eo.None||s===eo.Emulated)return null}return Hs(r,t)}}(n,e.parent,t)}function Gf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function YU(n,e,t){n.appendChild(e,t)}function ZU(n,e,t,r,i){null!==r?Gf(n,e,t,r,i):YU(n,e,t)}function hb(n,e){return n.parentNode(e)}let eM,iM,gb,tP=function eP(n,e,t){return 40&n.type?Hs(n,t):null};function fb(n,e,t,r){const i=JB(n,r,e),s=e[Tn],a=function JU(n,e,t){return tP(n,e,t)}(r.parent||e[Ms],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)ZU(s,i,t[l],a,!1);else ZU(s,i,t,a,!1);void 0!==eM&&eM(s,r,e,t,i)}function Gv(n,e){if(null!==e){const t=e.type;if(3&t)return Hs(e,n);if(4&t)return tM(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Gv(n,r);{const i=n[e.index];return Os(i)?tM(-1,i):Lr(i)}}if(32&t)return qB(e,n)()||Lr(n[e.index]);{const r=rP(n,e);return null!==r?Array.isArray(r)?r[0]:Gv(Vv(n[Ci]),r):Gv(n,e.next)}}return null}function rP(n,e){return null!==e?n[Ci][Ms].projection[e.projection]:null}function tM(n,e){const t=ds+n+1;if(t<e.length){const r=e[t],i=r[Ot].firstChild;if(null!==i)return Gv(r,i)}return e[ul]}function nM(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&oo(Lr(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)nM(n,e,t.child,r,i,s,!1),Yp(e,n,i,a,s);else if(32&l){const c=qB(t,r);let u;for(;u=c();)Yp(e,n,i,u,s);Yp(e,n,i,a,s)}else 16&l?sP(n,e,r,t,i,s):Yp(e,n,i,a,s);t=o?t.projectionNext:t.next}}function zv(n,e,t,r,i,s){nM(t,r,n.firstChild,e,i,s,!1)}function sP(n,e,t,r,i,s){const o=t[Ci],l=o[Ms].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Yp(e,n,i,l[c],s);else{let c=l;const u=o[ti];La(r)&&(c.flags|=128),nM(n,e,c,u,i,s,!0)}}function oP(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function aP(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&mp(n,e,r),null!==i&&oP(n,e,i),null!==s&&function J9(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function uP(n){return function sM(){if(void 0===gb&&(gb=null,Gr.trustedTypes))try{gb=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return gb}()?.createScriptURL(n)||n}class AP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ec})`}}function ih(n){return n instanceof AP?n.changingThisBreaksApplicationSecurity:n}function jv(n,e){const t=function cj(n){return n instanceof AP&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ec})`)}return t===e}const fj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var eg=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(eg||{});function vP(n){const e=$v();return e?e.sanitize(eg.URL,n)||"":jv(n,"URL")?ih(n):function oM(n){return(n=String(n)).match(fj)?n:"unsafe:"+n}(Mn(n))}function yP(n){const e=$v();if(e)return uP(e.sanitize(eg.RESOURCE_URL,n)||"");if(jv(n,"ResourceURL"))return uP(ih(n));throw new yt(904,!1)}function $v(){const n=At();return n&&n[VA].sanitizer}const Kv=new Wt("ENVIRONMENT_INITIALIZER"),_P=new Wt("INJECTOR",-1),bP=new Wt("INJECTOR_DEF_TYPES");class uM{get(e,t=UA){if(t===UA){const r=new Error(`NullInjectorError: No provider for ${zi(e)}!`);throw r.name="NullInjectorError",r}return t}}function Sj(...n){return{\u0275providers:xP(0,n),\u0275fromNgModule:!0}}function xP(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return th(e,o=>{const a=o;vb(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&CP(i,s),t}function CP(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];hM(i,s=>{e(s,r)})}}function vb(n,e,t,r){if(!(n=Sn(n)))return!1;let i=null,s=Ea(n);const o=!s&&ir(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Ea(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)vb(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{th(s.imports,u=>{vb(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&CP(c,e)}if(!a){const c=Su(i)||(()=>new i);e({provide:i,useFactory:c,deps:hr},i),e({provide:bP,useValue:i,multi:!0},i),e({provide:Kv,useValue:()=>Tt(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;hM(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function hM(n,e){for(let t of n)fp(t)&&(t=t.\u0275providers),Array.isArray(t)?hM(t,e):e(t)}const Bj=Mr({provide:String,useValue:Mr});function fM(n){return null!==n&&"object"==typeof n&&Bj in n}function zf(n){return"function"==typeof n}const dM=new Wt("Set Injector scope."),yb={},Tj={};let pM;function wb(){return void 0===pM&&(pM=new uM),pM}class Ua{}class tg extends Ua{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mM(e,o=>this.processProvider(o)),this.records.set(_P,ng(void 0,this)),i.has("environment")&&this.records.set(Ua,ng(void 0,this));const s=this.records.get(dM);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(bP.multi,hr,er.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Bc(this),r=Js(void 0);try{return e()}finally{Bc(t),Js(r)}}get(e,t=UA,r=er.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sv))return e[sv](this);r=PA(r);const s=Bc(this),o=Js(void 0);try{if(!(r&er.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function Lj(n){return"function"==typeof n||"object"==typeof n&&n instanceof Wt}(e)&&_u(e);l=c&&this.injectableDefInScope(c)?ng(gM(e),yb):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&er.Self?wb():this.parent).get(e,t=r&er.Optional&&t===UA?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ul]=a[Ul]||[]).unshift(zi(e)),s)throw a;return function X1(n,e,t,r){const i=n[Ul];throw e[rv]&&i.unshift(e[rv]),n.message=function Y1(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=zi(e);if(Array.isArray(e))i=e.map(zi).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):zi(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jS,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ul]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Js(o),Bc(s)}}resolveInjectorInitializers(){const e=Bc(this),t=Js(void 0);try{const i=this.get(Kv.multi,hr,er.Self);for(const s of i)s()}finally{Bc(e),Js(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(zi(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yt(205,!1)}processProvider(e){let t=zf(e=Sn(e))?e:Sn(e&&e.provide);const r=function Dj(n){return fM(n)?ng(void 0,n.useValue):ng(BP(n),yb)}(e);if(zf(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ng(void 0,yb,!0),i.factory=()=>sl(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===yb&&(t.value=Tj,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Rj(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Sn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function gM(n){const e=_u(n),t=null!==e?e.factory:Su(n);if(null!==t)return t;if(n instanceof Wt)throw new yt(204,!1);if(n instanceof Function)return function Ij(n){const e=n.length;if(e>0)throw function Pc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new yt(204,!1);const t=function QS(n){return n&&(n[bu]||n[j1])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new yt(204,!1)}function BP(n,e,t){let r;if(zf(n)){const i=Sn(n);return Su(i)||gM(i)}if(fM(n))r=()=>Sn(n.useValue);else if(function SP(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...sl(n.deps||[]));else if(function EP(n){return!(!n||!n.useExisting)}(n))r=()=>Tt(Sn(n.useExisting));else{const i=Sn(n&&(n.useClass||n.provide));if(!function Fj(n){return!!n.deps}(n))return Su(i)||gM(i);r=()=>new i(...sl(n.deps))}return r}function ng(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function mM(n,e){for(const t of n)Array.isArray(t)?mM(t,e):t&&fp(t)?mM(t.\u0275providers,e):e(t)}const _b=new Wt("AppId",{providedIn:"root",factory:()=>Uj}),Uj="ng",MP=new Wt("Platform Initializer"),jf=new Wt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TP=new Wt("CSP nonce",{providedIn:"root",factory:()=>function Jp(){if(void 0!==iM)return iM;if(typeof document<"u")return document;throw new yt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IP=(n,e,t)=>null;function EM(n,e,t=!1){return IP(n,e,t)}class jj{}class RP{}class $j{resolveComponentFactory(e){throw function Wj(n){const e=Error(`No component factory found for ${zi(n)}.`);return e.ngComponent=n,e}(e)}}let Bb=(()=>{class n{static{this.NULL=new $j}}return n})();function Kj(){return sg(gs(),At())}function sg(n,e){return new ao(Hs(n,e))}let ao=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Kj}}return n})();function qj(n){return n instanceof ao?n.nativeElement:n}class UP{}let Hu=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Xj(){const n=At(),t=Qs(gs().index,n);return(ro(t)?t:n)[Tn]}()}}return n})(),Yj=(()=>{class n{static{this.\u0275prov=un({token:n,providedIn:"root",factory:()=>null})}}return n})();class Yv{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Zj=new Yv("16.2.12"),MM={};function kP(n,e=null,t=null,r){const i=HP(n,e,t,r);return i.resolveInjectorInitializers(),i}function HP(n,e=null,t=null,r,i=new Set){const s=[t||hr,Sj(n)];return r=r||("object"==typeof n?void 0:zi(n)),new tg(s,e||wb(),r||null,i)}let Pa=(()=>{class n{static{this.THROW_IF_NOT_FOUND=UA}static{this.NULL=new uM}static create(t,r){if(Array.isArray(t))return kP({name:""},r,t,"");{const i=t.name??"";return kP({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=un({token:n,providedIn:"any",factory:()=>Tt(_P)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function IM(n){return n.ngOriginalError}class Qu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&IM(e);for(;t&&IM(t);)t=IM(t);return t||null}}function FM(n){return e=>{setTimeout(n,void 0,e)}}const Ei=class sW extends Xo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=FM(s),i&&(i=FM(i)),o&&(o=FM(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof $e&&e.add(a),a}};function VP(...n){}class ni{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ei(!1),this.onMicrotaskEmpty=new Ei(!1),this.onStable=new Ei(!1),this.onError=new Ei(!1),typeof Zone>"u")throw new yt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function oW(){const n="function"==typeof Gr.requestAnimationFrame;let e=Gr[n?"requestAnimationFrame":"setTimeout"],t=Gr[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function cW(n){const e=()=>{!function lW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Gr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,LM(n),n.isCheckStableRunning=!0,RM(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),LM(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function AW(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return GP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),zP(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return GP(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),zP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,LM(n),RM(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ni.isInAngularZone())throw new yt(909,!1)}static assertNotInAngularZone(){if(ni.isInAngularZone())throw new yt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,aW,VP,VP);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const aW={};function RM(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function LM(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function GP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zP(n){n._nesting--,RM(n)}class uW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ei,this.onMicrotaskEmpty=new Ei,this.onStable=new Ei,this.onError=new Ei}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const jP=new Wt("",{providedIn:"root",factory:WP});function WP(){const n=St(ni);let e=!0;return function df(...n){const e=Cc(n),t=function O1(n,e){return"number"==typeof wu(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?_i(r[0]):DA(t)(pi(r,e)):nl}(new yi(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new yi(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ni.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ni.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Q1()))}function $P(n){return n.ownerDocument.defaultView}function Vu(n){return n instanceof Function?n():n}let UM=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=un({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Zv(n){for(;n;){n[Dn]|=64;const e=Vv(n);if(Av(n)&&!e)return n;n=e}return null}const ZP=new Wt("",{providedIn:"root",factory:()=>!1});let Tb=null;function nN(n,e){return n[e]??sN()}function rN(n,e){const t=sN();t.producerNode?.length&&(n[e]=Tb,t.lView=n,Tb=iN())}const wW={...d_,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Zv(n.lView)},lView:null};function iN(){return Object.create(wW)}function sN(){return Tb??=iN(),Tb}const Ln={};function _n(n){oN(cr(),At(),Vs()+n,!1)}function oN(n,e,t,r){if(!r)if(3==(3&e[Dn])){const s=n.preOrderCheckHooks;null!==s&&Fu(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Pf(e,s,0,t)}Iu(t)}function ft(n,e=er.Default){const t=At();return null===t?Tt(n,e):Qp(gs(),t,Sn(n),e)}function Ib(n,e,t,r,i,s,o,a,l,c,u){const A=e.blueprint.slice();return A[mi]=i,A[Dn]=140|r,(null!==c||n&&2048&n[Dn])&&(A[Dn]|=2048),Bp(A),A[ti]=A[Nl]=n,A[xi]=t,A[VA]=o||n&&n[VA],A[Tn]=a||n&&n[Tn],A[Ma]=l||n&&n[Ma]||null,A[Ms]=s,A[_f]=function M9(){return B9++}(),A[Ol]=u,A[h_]=c,A[Ci]=2==e.type?n[Ci]:A,A}function lg(n,e,t,r,i){let s=n.data[e];if(null===s)s=function PM(n,e,t,r,i){const s=O_(),o=xv(),l=n.data[e]=function MW(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Tu(){return null!==xn.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function Ip(){return xn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Df(){const n=xn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Al(s,!0),s}function Jv(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function lN(n,e,t,r,i){const s=nN(e,bf),o=Vs(),a=2&r;try{Iu(-1),a&&e.length>Kn&&oN(n,e,Kn,!1),Ia(a?2:0,i);const c=a?s:null,u=gv(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{mv(c,u)}}finally{a&&null===e[bf]&&rN(e,bf),Iu(o),Ia(a?3:1,i)}}function NM(n,e,t){if(uv(e)){const r=Jo(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Jo(r)}}}function OM(n,e,t){Mp()&&(function UW(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Cu(t)&&function VW(n,e,t){const r=Hs(e,n),i=cN(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Db(n,Ib(n,i,null,o,r,e,null,n[VA].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Op(t,e),oo(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Lu(e,n,a,t);oo(c,e),null!==o&&GW(0,a-i,c,l,0,o),Ta(l)&&(Qs(t.index,e)[xi]=Lu(e,n,a,t))}}(n,e,t,Hs(t,e)),64==(64&t.flags)&&dN(n,e,t))}function kM(n,e,t=Hs){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function cN(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=HM(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function HM(n,e,t,r,i,s,o,a,l,c,u){const A=Kn+r,f=A+i,h=function bW(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ln);return t}(A,f),g="function"==typeof c?c():c;return h[Ot]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}let uN=n=>null;function AN(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?hN(t,e,i,s):r.hasOwnProperty(i)&&hN(t,e,r[i],s)}return t}function hN(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function QM(n,e,t,r){if(Mp()){const i=null===r?null:{"":-1},s=function NW(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(n_(e,o.selectors,!1))if(r||(r=[]),Ta(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),VM(n,e,a.length)}else r.unshift(o),VM(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&fN(n,e,t,o,i,a),i&&function OW(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new yt(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Do(t.mergedAttrs,t.attrs)}function fN(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Lv(Op(t,e),n,r[c].type);!function HW(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Jv(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Do(t.mergedAttrs,u.hostAttrs),QW(n,t,e,l,u),kW(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const A=u.type.prototype;!o&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function TW(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const A=s[u],f=t?t.get(A):null,g=f?f.outputs:null;l=AN(A.inputs,u,l,f?f.inputs:null),c=AN(A.outputs,u,c,g);const w=null===l||null===o||ov(e)?null:zW(l,u,o);a.push(w)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function dN(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Q_(){return xn.lFrame.currentDirectiveIndex}();try{Iu(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Rf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&PW(l,c)}}finally{Iu(-1),Rf(o)}}function PW(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function VM(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function kW(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ta(e)&&(t[""]=n)}}function QW(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Su(i.type)),o=new Nf(s,Ta(i),ft);n.blueprint[r]=o,t[r]=o,function RW(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function LW(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Jv(n,t,i.hostVars,Ln),i)}function Oc(n,e,t,r,i,s){const o=Hs(n,e);!function GM(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Mn(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Tn],o,s,n.value,t,r,i)}function GW(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)pN(r,t,o[a++],o[a++],o[a++])}function pN(n,e,t,r,i){const s=Jo(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Jo(s)}}function zW(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function gN(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function mN(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Fp(t[r]),o.contentQueries(2,e[s],s)}}}function Db(n,e){return n[yf]?n[A_][no]=e:n[yf]=e,n[A_]=e,e}function zM(n,e,t){Fp(0);const r=Jo(null);try{e(n,t)}finally{Jo(r)}}function vN(n){return n[QA]||(n[QA]=[])}function yN(n){return n.cleanup||(n.cleanup=[])}function _N(n,e){const t=n[Ma],r=t?t.get(Qu,null):null;r&&r.handleError(e)}function jM(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];pN(n.data[o],e[o],r,a,i)}}function Gu(n,e,t){const r=jA(e,n);!function KU(n,e,t){n.setValue(e,t)}(n[Tn],r,t)}function jW(n,e){const t=Qs(e,n),r=t[Ot];!function WW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[mi];null!==i&&null===t[Ol]&&(t[Ol]=EM(i,t[Ma])),WM(r,t,t[xi])}function WM(n,e,t){Rp(e);try{const r=n.viewQuery;null!==r&&zM(1,r,t);const i=n.template;null!==i&&lN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mN(n,e),n.staticViewQueries&&zM(2,n.viewQuery,t);const s=n.components;null!==s&&function $W(n,e){for(let t=0;t<e.length;t++)jW(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Dn]&=-5,Rc()}}let bN=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function lB(n,e,t){const r=Object.create(cB);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>m_(r),run:()=>{if(r.dirty=!1,r.hasRun&&!v_(r))return;r.hasRun=!0;const o=gv(r);try{r.cleanupFn(),r.cleanupFn=E_,r.fn(i)}finally{mv(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=un({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Fb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=RA(i,a):2==s&&(r=RA(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ey(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Lr(s)),Os(s)&&xN(s,r);const o=t.type;if(8&o)ey(n,e,t.child,r);else if(32&o){const a=qB(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=rP(e,t);if(Array.isArray(a))r.push(...a);else{const l=Vv(e[Ci]);ey(l[Ot],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function xN(n,e){for(let t=ds;t<n.length;t++){const r=n[t],i=r[Ot].firstChild;null!==i&&ey(r[Ot],r,i,e)}n[ul]!==n[mi]&&e.push(n[ul])}function Rb(n,e,t,r=!0){const i=e[VA],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{CN(n,e,n.template,t)}catch(l){throw r&&_N(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function CN(n,e,t,r){const i=e[Dn];if(256!=(256&i)){e[VA].effectManager?.flush(),Rp(e);try{Bp(e),function H_(n){return xn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&lN(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Fu(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Pf(e,c,0,null),Pp(e,0)}if(function XW(n){for(let e=jU(n);null!==e;e=WU(e)){if(!e[cv])continue;const t=e[Ic];for(let r=0;r<t.length;r++){pB(t[r])}}}(e),EN(e,2),null!==n.contentQueries&&mN(n,e),o){const c=n.contentCheckHooks;null!==c&&Fu(e,c)}else{const c=n.contentHooks;null!==c&&Pf(e,c,1),Pp(e,1)}!function _W(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=nN(e,xf);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Iu(~s);else{const o=s,a=t[++i],l=t[++i];CB(a,o),r.dirty=!1;const c=gv(r);try{l(2,e[o])}finally{mv(r,c)}}}}finally{null===e[xf]&&rN(e,xf),Iu(-1)}}(n,e);const a=n.components;null!==a&&BN(e,a,0);const l=n.viewQuery;if(null!==l&&zM(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Fu(e,c)}else{const c=n.viewHooks;null!==c&&Pf(e,c,2),Pp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Dn]&=-73,F_(e)}finally{Rc()}}}function EN(n,e){for(let t=jU(n);null!==t;t=WU(t))for(let r=ds;r<t.length;r++)SN(t[r],e)}function YW(n,e,t){SN(Qs(e,n),t)}function SN(n,e){if(!function fB(n){return 128==(128&n[Dn])}(n))return;const t=n[Ot],r=n[Dn];if(80&r&&0===e||1024&r||2===e)CN(t,n,t.template,n[xi]);else if(n[vf]>0){EN(n,1);const i=t.components;null!==i&&BN(n,i,1)}}function BN(n,e,t){for(let r=0;r<e.length;r++)YW(n,e[r],t)}class ty{get rootNodes(){const e=this._lView,t=e[Ot];return ey(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xi]}set context(e){this._lView[xi]=e}get destroyed(){return 256==(256&this._lView[Dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ti];if(Os(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Ab(e,r),jp(t,r))}this._attachedToViewContainer=!1}YB(this._lView[Ot],this._lView)}onDestroy(e){!function L_(n,e){if(256==(256&n[Dn]))throw new yt(911,!1);null===n[Tc]&&(n[Tc]=[]),n[Tc].push(e)}(this._lView,e)}markForCheck(){Zv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dn]&=-129}reattach(){this._lView[Dn]|=128}detectChanges(){Rb(this._lView[Ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new yt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function V9(n,e){zv(n,e,e[Tn],2,null,null)}(this._lView[Ot],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new yt(902,!1);this._appRef=e}}class ZW extends ty{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Rb(e[Ot],e,e[xi],!1)}checkNoChanges(){}get context(){return null}}class MN extends Bb{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ir(e);return new ny(t,this.ngModule)}}function TN(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class e${constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=PA(r);const i=this.injector.get(e,MM,r);return i!==MM||t===MM?i:this.parentInjector.get(e,t,r)}}class ny extends RP{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=TN(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return TN(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function s_(n){return n.map(i_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ua?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new e$(e,s):e,a=o.get(UP,null);if(null===a)throw new yt(407,!1);const A={rendererFactory:a,sanitizer:o.get(Yj,null),effectManager:o.get(bN,null),afterRenderEventManager:o.get(UM,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?function xW(n,e,t,r){const s=r.get(ZP,!1)||t===eo.ShadowDom,o=n.selectRootElement(e,s);return function CW(n){uN(n)}(o),o}(f,r,this.componentDef.encapsulation,o):ub(f,h,function JW(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let C=null;null!==g&&(C=EM(g,o,!0));const E=HM(0,null,null,1,0,null,null,null,null,null,null),B=Ib(null,E,null,p,null,null,A,f,o,null,C);let U,k;Rp(B);try{const H=this.componentDef;let P,L=null;H.findHostDirectiveDefs?(P=[],L=new Map,H.findHostDirectiveDefs(H,P,L),P.push(H)):P=[H];const D=function n$(n,e){const t=n[Ot],r=Kn;return n[r]=e,lg(t,r,2,"#host",null)}(B,g),I=function r$(n,e,t,r,i,s,o){const a=i[Ot];!function i$(n,e,t,r){for(const i of n)e.mergedAttrs=Do(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Fb(e,e.mergedAttrs,!0),null!==t&&aP(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=EM(e,i[Ma]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const A=Ib(i,cN(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&VM(a,n,r.length-1),Db(i,A),i[n.index]=A}(D,g,H,P,B,A,f);k=bv(E,Kn),g&&function o$(n,e,t,r){if(r)mp(n,t,["ng-version",Zj.full]);else{const{attrs:i,classes:s}=function o_(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!bi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&mp(n,t,i),s&&s.length>0&&oP(n,t,s.join(" "))}}(f,H,g,r),void 0!==t&&function a$(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(k,this.ngContentSelectors,t),U=function s$(n,e,t,r,i,s){const o=gs(),a=i[Ot],l=Hs(o,i);fN(a,i,o,t,null,r);for(let u=0;u<t.length;u++)oo(Lu(i,a,o.directiveStart+u,o),i);dN(a,i,o),l&&oo(l,i);const c=Lu(i,a,o.directiveStart+o.componentOffset,o);if(n[xi]=i[xi]=c,null!==s)for(const u of s)u(c,e);return NM(a,o,n),c}(I,H,P,L,B,[l$]),WM(E,B,null)}finally{Rc()}return new t$(this.componentType,U,sg(k,B),B,k)}}class t$ extends jj{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ZW(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;jM(s[Ot],s,i,e,t),this.previousInputValues.set(e,t),Zv(Qs(this._tNode.index,s))}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function l$(){const n=gs();Du(At()[Ot],n)}function Ur(n){let e=function IN(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ta(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new yt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Lb(n.inputs),o.inputTransforms=Lb(n.inputTransforms),o.declaredInputs=Lb(n.declaredInputs),o.outputs=Lb(n.outputs);const a=i.hostBindings;a&&h$(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&u$(n,l),c&&A$(n,c),hp(n.inputs,i.inputs),hp(n.declaredInputs,i.declaredInputs),hp(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),hp(o.inputTransforms,i.inputTransforms)),Ta(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ur&&(t=!1)}}e=Object.getPrototypeOf(e)}!function c$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Do(i.hostAttrs,t=Do(t,i.hostAttrs))}}(r)}function Lb(n){return n===Ba?{}:n===hr?[]:n}function u$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function A$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function h$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function LN(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Ub(n){return!!$M(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function $M(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function kc(n,e,t){return n[e]=t}function lo(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Wf(n,e,t,r){const i=lo(n,e,t);return lo(n,e+1,r)||i}function Hc(n,e,t,r){const i=At();return lo(i,WA(),e)&&(cr(),Oc(li(),i,n,e,t,r)),Hc}function fg(n,e,t,r,i,s,o,a,l,c){const A=function dl(n,e,t,r,i,s){const o=Wf(n,e,t,r);return Wf(n,e+2,i,s)||o}(n,Hl(),t,i,o,l);return Ql(4),A?e+Mn(t)+r+Mn(i)+s+Mn(o)+a+Mn(l)+c:Ln}function pl(n,e,t,r,i,s,o,a){const l=At(),c=cr(),u=n+Kn,A=c.firstCreatePass?function N$(n,e,t,r,i,s,o,a,l){const c=e.consts,u=lg(e,n,4,o||null,Wi(c,a));QM(e,t,u,Wi(c,l)),Du(e,u);const A=u.tView=HM(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),A.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Al(A,!1);const f=$N(c,l,A,n);Uf()&&fb(c,l,f,A),oo(f,l),Db(l,l[u]=gN(f,l,f,A)),Eu(A)&&OM(c,l,A),null!=o&&kM(l,A,a)}let $N=function KN(n,e,t,r){return Vl(!0),e[Tn].createComment("")};function Wr(n,e,t){const r=At();return lo(r,WA(),e)&&function Na(n,e,t,r,i,s,o,a){const l=Hs(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(jM(n,t,u,r,i),Cu(e)&&function DW(n,e){const t=Qs(e,n);16&t[Dn]||(t[Dn]|=64)}(t,e.index)):3&e.type&&(r=function IW(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(cr(),li(),r,n,e,r[Tn],t,!1),Wr}function JM(n,e,t,r,i){const o=i?"class":"style";jM(n,t,e.inputs[o],o,r)}function it(n,e,t,r){const i=At(),s=cr(),o=Kn+n,a=i[Tn],l=s.firstCreatePass?function V$(n,e,t,r,i,s){const o=e.consts,l=lg(e,n,2,r,Wi(o,i));return QM(e,t,l,Wi(o,s)),null!==l.attrs&&Fb(l,l.attrs,!1),null!==l.mergedAttrs&&Fb(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=qN(s,i,l,a,e,n);i[o]=c;const u=Eu(l);return Al(l,!0),aP(a,c,l),32!=(32&l.flags)&&Uf()&&fb(s,i,c,l),0===function mB(){return xn.lFrame.elementDepthCount}()&&oo(c,i),function P_(){xn.lFrame.elementDepthCount++}(),u&&(OM(s,i,l),NM(s,l,i)),null!==r&&kM(i,l),it}function tt(){let n=gs();xv()?function Tp(){xn.lFrame.isParent=!1}():(n=n.parent,Al(n,!1));const e=n;(function ps(n){return xn.skipHydrationRootTNode===n})(e)&&function N_(){xn.skipHydrationRootTNode=null}(),function vB(){xn.lFrame.elementDepthCount--}();const t=cr();return t.firstCreatePass&&(Du(t,n),uv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function XA(n){return 0!=(8&n.flags)}(e)&&JM(t,e,At(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Lc(n){return 0!=(16&n.flags)}(e)&&JM(t,e,At(),e.stylesWithoutHost,!1),tt}function Si(n,e,t,r){return it(n,e,t,r),tt(),Si}let qN=(n,e,t,r,i,s)=>(Vl(!0),ub(r,i,function Iv(){return xn.lFrame.currentNamespace}()));function ay(n){return!!n&&"function"==typeof n.then}function ZN(n){return!!n&&"function"==typeof n.subscribe}function Bi(n,e,t,r){const i=At(),s=cr(),o=gs();return function e3(n,e,t,r,i,s,o){const a=Eu(r),c=n.firstCreatePass&&yN(n),u=e[xi],A=vN(e);let f=!0;if(3&r.type||o){const w=Hs(r,e),v=o?o(w):w,p=A.length,C=o?B=>o(Lr(B[r.index])):r.index;let E=null;if(!o&&a&&(E=function q$(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[QA],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,f=!1;else{s=n3(r,e,u,s,!1);const B=t.listen(v,i,s);A.push(s,B),c&&c.push(i,C,p,p+1)}}else s=n3(r,e,u,s,!1);const h=r.outputs;let g;if(f&&null!==h&&(g=h[i])){const w=g.length;if(w)for(let v=0;v<w;v+=2){const U=e[g[v]][g[v+1]].subscribe(s),k=A.length;A.push(s,U),c&&c.push(i,r.index,k,-(k+1))}}}(s,i,i[Tn],o,n,e,r),Bi}function t3(n,e,t,r){try{return Ia(6,e,t),!1!==t(r)}catch(i){return _N(n,i),!1}finally{Ia(7,e,t)}}function n3(n,e,t,r,i){return function s(o){if(o===Function)return r;Zv(n.componentOffset>-1?Qs(n.index,e):e);let l=t3(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=t3(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function r3(n=1){return function Mv(n){return(xn.lFrame.contextLView=function Lp(n,e){for(;n>0;)e=e[Nl],n--;return e}(n,xn.lFrame.contextLView))[xi]}(n)}function Hb(n,e){return n<<17|e<<2}function sh(n){return n>>17&32767}function rT(n){return 2|n}function $f(n){return(131068&n)>>2}function iT(n,e){return-131069&n|e<<2}function sT(n){return 1|n}function f3(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?sh(s):$f(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];iK(n[a],e)&&(l=!0,n[a+1]=r?sT(u):rT(u)),a=r?sh(u):$f(u)}l&&(n[t+1]=r?rT(s):sT(s))}function iK(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Fa(n,e)>=0}function Qb(n,e){return function ql(n,e,t,r){const i=At(),s=cr(),o=Ql(2);s.firstUpdatePass&&function b3(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Vs()],o=function _3(n,e){return e>=n.expandoStartIndex}(n,t);(function S3(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function fK(n,e,t,r){const i=function Dp(n){const e=xn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ly(t=oT(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=oT(i,n,e,t,r),null===s){let l=function dK(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==$f(r))return n[sh(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=oT(null,n,e,l[1],r),l=ly(l,e.attrs,r),function pK(n,e,t,r){n[sh(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function gK(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ly(r,n[s].hostAttrs,t);return ly(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function nK(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=sh(o),l=$f(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Fa(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const f=sh(n[a+1]);n[r+1]=Hb(f,a),0!==f&&(n[f+1]=iT(n[f+1],r)),n[a+1]=function eK(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Hb(a,0),0!==a&&(n[a+1]=iT(n[a+1],r)),a=r;else n[r+1]=Hb(l,0),0===a?a=r:n[l+1]=iT(n[l+1],r),l=r;c&&(n[r+1]=rT(n[r+1])),f3(n,u,r,!0),f3(n,u,r,!1),function rK(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Fa(s,e)>=0&&(t[r+1]=sT(t[r+1]))}(e,u,n,r,s),o=Hb(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==Ln&&lo(i,o,e)&&function C3(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function tK(n){return 1==(1&n)}(c)?E3(l,e,t,i,$f(c),o):void 0;Vb(u)||(Vb(s)||function J$(n){return 2==(2&n)}(c)&&(s=E3(l,null,t,i,a,o)),function Z9(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:so.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=so.Important),n.setStyle(t,r,i,s))}}(r,o,jA(Vs(),t),i,s))}(s,s.data[Vs()],i,i[Tn],n,i[o+1]=function wK(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=zi(ih(n)))),n}(e,t),r,o)}(n,e,null,!0),Qb}function oT(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ly(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ly(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Lo(n,o,!!t||e[++s]))}return void 0===n?null:n}function E3(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,A=null===u;let f=t[i+1];f===Ln&&(f=A?hr:void 0);let h=A?Vf(f,r):u===r?f:void 0;if(c&&!Vb(h)&&(h=Vf(l,r)),Vb(h)&&(a=h,o))return a;const g=n[i+1];i=o?sh(g):$f(g)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Vf(l,r))}return a}function Vb(n){return void 0!==n}function _t(n,e=""){const t=At(),r=cr(),i=n+Kn,s=r.firstCreatePass?lg(r,i,1,e,null):r.data[i],o=B3(r,t,s,e,n);t[i]=o,Uf()&&fb(r,t,o,s),Al(s,!1)}let B3=(n,e,t,r,i)=>(Vl(!0),function cb(n,e){return n.createText(e)}(e[Tn],r));function js(n){return yg("",n,""),js}function yg(n,e,t){const r=At(),i=function ug(n,e,t,r){return lo(n,WA(),t)?e+Mn(t)+r:Ln}(r,n,e,t);return i!==Ln&&Gu(r,Vs(),i),yg}function Kf(n,e,t,r,i){const s=At(),o=function Ag(n,e,t,r,i,s){const a=Wf(n,Hl(),t,i);return Ql(2),a?e+Mn(t)+r+Mn(i)+s:Ln}(s,n,e,t,r,i);return o!==Ln&&Gu(s,Vs(),o),Kf}function aT(n,e,t,r,i,s,o,a,l){const c=At(),u=fg(c,n,e,t,r,i,s,o,a,l);return u!==Ln&&Gu(c,Vs(),u),aT}const qf=void 0;var VK=["en",[["a","p"],["AM","PM"],qf],[["AM","PM"],qf,qf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qf,"{1} 'at' {0}",qf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QK(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let wg={};function Uo(n){const e=function GK(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=W3(e);if(t)return t;const r=e.split("-")[0];if(t=W3(r),t)return t;if("en"===r)return VK;throw new yt(701,!1)}function W3(n){return n in wg||(wg[n]=Gr.ng&&Gr.ng.common&&Gr.ng.common.locales&&Gr.ng.common.locales[n]),wg[n]}var ri=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ri||{});const _g="en-US";let $3=_g;function uT(n,e,t,r,i){if(n=Sn(n),Array.isArray(n))for(let s=0;s<n.length;s++)uT(n[s],e,t,r,i);else{const s=cr(),o=At(),a=gs();let l=zf(n)?n:Sn(n.provide);const c=BP(n),u=1048575&a.providerIndexes,A=a.directiveStart,f=a.providerIndexes>>20;if(zf(n)||!n.multi){const h=new Nf(c,i,ft),g=hT(l,e,i?u:u+f,A);-1===g?(Lv(Op(a,o),s,l),AT(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),o.push(h)):(t[g]=h,o[g]=h)}else{const h=hT(l,e,u+f,A),g=hT(l,e,u,u+f),v=g>=0&&t[g];if(i&&!v||!i&&!(h>=0&&t[h])){Lv(Op(a,o),s,l);const p=function Qq(n,e,t,r,i){const s=new Nf(n,t,ft);return s.multi=[],s.index=e,s.componentProviders=0,v4(s,i,r&&!t),s}(i?Hq:kq,t.length,i,r,c);!i&&v&&(t[g].providerFactory=p),AT(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),o.push(p)}else AT(s,n,h>-1?h:g,v4(t[i?g:h],c,!i&&r));!i&&r&&v&&t[g].componentProviders++}}}function AT(n,e,t,r){const i=zf(e),s=function Mj(n){return!!n.useClass}(e);if(i||s){const l=(s?Sn(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function v4(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function hT(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function kq(n,e,t,r){return fT(this.multi,[])}function Hq(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Lu(t,t[Ot],this.providerFactory.index,r);s=a.slice(0,o),fT(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],fT(i,s);return s}function fT(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ui(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Oq(n,e,t){const r=cr();if(r.firstCreatePass){const i=Ta(n);uT(t,r.data,r.blueprint,i,!0),uT(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Xf{}class y4{}class dT extends Xf{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new MN(this);const i=Fo(e);this._bootstrapComponents=Vu(i.bootstrap),this._r3Injector=HP(e,t,[{provide:Xf,useValue:this},{provide:Bb,useValue:this.componentFactoryResolver},...r],zi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pT extends y4{constructor(e){super(),this.moduleType=e}create(e){return new dT(this.moduleType,e,[])}}class w4 extends Xf{constructor(e){super(),this.componentFactoryResolver=new MN(this),this.instance=null;const t=new tg([...e.providers,{provide:Xf,useValue:this},{provide:Bb,useValue:this.componentFactoryResolver}],e.parent||wb(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function gT(n,e,t=null){return new w4({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let zq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=xP(0,t.type),i=r.length>0?gT([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=un({token:n,providedIn:"environment",factory:()=>new n(Tt(Ua))})}}return n})();function _4(n){n.getStandaloneInjector=e=>e.get(zq).getOrCreateStandaloneInjector(n)}function Yf(n,e,t,r){return T4(At(),ms(),n,e,t,r)}function dy(n,e){const t=n[e];return t===Ln?void 0:t}function T4(n,e,t,r,i,s){const o=e+t;return lo(n,o,i)?kc(n,o+1,s?r.call(s,i):r(i)):dy(n,o+1)}function I4(n,e,t,r,i,s,o){const a=e+t;return Wf(n,a,i,s)?kc(n,a+2,o?r.call(o,i,s):r(i,s)):dy(n,a+2)}function $b(n,e){const t=cr();let r;const i=n+Kn;t.firstCreatePass?(r=function aX(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Su(r.type)),a=Js(ft);try{const l=Uc(!1),c=s();return Uc(l),function H$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,At(),i,c),c}finally{Js(a)}}function vT(n,e,t){const r=n+Kn,i=At(),s=Mu(i,r);return py(i,r)?T4(i,ms(),e,s.transform,t,s):s.transform(t)}function py(n,e){return n[Ot].data[e].pure}function AX(){return this._results[Symbol.iterator]()}class yT{get changes(){return this._changes||(this._changes=new Ei)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=yT.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=AX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ro(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function PB(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fX(n,e,t,r=!0){const i=e[Ot];if(function z9(n,e,t,r){const i=ds+r,s=t.length;r>0&&(t[i-1][no]=e),r<s-ds?(e[no]=t[i],rb(t,ds+r,e)):(t.push(e),e[no]=null),e[ti]=t;const o=e[wf];null!==o&&t!==o&&function j9(n,e){const t=n[Ic];e[Ci]!==e[ti][ti][Ci]&&(n[cv]=!0),null===t?n[Ic]=[e]:t.push(e)}(o,e);const a=e[cl];null!==a&&a.insertView(n),e[Dn]|=128}(i,e,n,t),r){const s=tM(t,n),o=e[Tn],a=hb(o,n[ul]);null!==a&&function Q9(n,e,t,r,i,s){r[mi]=i,r[Ms]=e,zv(n,r,t,1,i,s)}(i,n[Ms],o,e,a,s)}}let zu=(()=>{class n{static{this.__NG_ELEMENT_ID__=gX}}return n})();const dX=zu,pX=class extends dX{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function hX(n,e,t,r){const i=e.tView,a=Ib(n,i,t,4096&n[Dn]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[wf]=n[e.index];const c=n[cl];return null!==c&&(a[cl]=c.createEmbeddedView(i)),WM(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new ty(i)}};function gX(){return Kb(gs(),At())}function Kb(n,e){return 4&n.type?new pX(e,n,sg(n,e)):null}let Yl=(()=>{class n{static{this.__NG_ELEMENT_ID__=bX}}return n})();function bX(){return Q4(gs(),At())}const xX=Yl,k4=class extends xX{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return sg(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hp(this._hostTNode,this._hostLView);if(Da(e)){const t=ZA(e,this._hostLView),r=YA(e);return new Gs(t[Ot].data[r+8],t)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=H4(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ds}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function eh(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}const l=o?e:new ny(ir(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const v=(o?c:this.parentInjector).get(Ua,null);v&&(s=v)}ir(l.componentType??{});const h=l.create(c,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function dB(n){return Os(n[ti])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[ti],u=new k4(c,c[Ms],c[ti]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return fX(a,i,o,!r),e.attachToViewContainerRef(),rb(wT(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=H4(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ab(this._lContainer,t);r&&(jp(wT(this._lContainer),t),YB(r[Ot],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ab(this._lContainer,t);return r&&null!=jp(wT(this._lContainer),t)?new ty(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function H4(n){return n[8]}function wT(n){return n[8]||(n[8]=[])}function Q4(n,e){let t;const r=e[n.index];return Os(r)?t=r:(t=gN(r,e,null,n),e[n.index]=t,Db(e,t)),V4(t,e,n,r),new k4(t,n,e)}let V4=function G4(n,e,t,r){if(n[ul])return;let i;i=8&t.type?Lr(r):function CX(n,e){const t=n[Tn],r=t.createComment(""),i=Hs(e,n);return Gf(t,hb(t,i),r,function q9(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[ul]=i};class _T{constructor(e){this.queryList=e,this.matches=null}clone(){return new _T(this.queryList)}setDirty(){this.queryList.setDirty()}}class bT{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new bT(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==q4(e,t).matches&&this.queries[t].setDirty()}}class z4{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class xT{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new xT(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class CT{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new CT(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,BX(t,s)),this.matchTNodeWithReadOption(e,t,Gp(t,e,s,!1,!1))}else r===zu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ao||i===Yl||i===zu&&4&t.type)this.addMatch(t.index,-2);else{const s=Gp(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function BX(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function TX(n,e,t,r){return-1===t?function MX(n,e){return 11&n.type?sg(n,e):4&n.type?Kb(n,e):null}(e,n):-2===t?function IX(n,e,t){return t===ao?sg(e,n):t===zu?Kb(e,n):t===Yl?Q4(e,n):void 0}(n,e,r):Lu(n,n[Ot],t,e)}function j4(n,e,t,r){const i=e[cl].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:TX(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function ET(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=j4(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let A=ds;A<u.length;A++){const f=u[A];f[wf]===f[ti]&&ET(f[Ot],f,c,r)}if(null!==u[Ic]){const A=u[Ic];for(let f=0;f<A.length;f++){const h=A[f];ET(h[Ot],h,c,r)}}}}}return r}function Gc(n){const e=At(),t=cr(),r=Ev();Fp(r+1);const i=q4(t,r);if(n.dirty&&function hB(n){return 4==(4&n[Dn])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?ET(t,e,r,[]):j4(t,e,i,r);n.reset(s,qj),n.notifyOnChanges()}return!0}return!1}function ju(n,e,t){const r=cr();r.firstCreatePass&&(K4(r,new z4(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),$4(r,At(),e)}function zc(){return function DX(n,e){return n[cl].queries[e].queryList}(At(),Ev())}function $4(n,e,t){const r=new yT(4==(4&t));(function BW(n,e,t,r){const i=vN(e);i.push(t),n.firstCreatePass&&yN(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[cl]&&(e[cl]=new bT),e[cl].queries.push(new _T(r))}function K4(n,e,t){null===n.queries&&(n.queries=new xT),n.queries.track(new CT(e,t))}function q4(n,e){return n.queries.getByIndex(e)}const DT=new Wt("Application Initializer");let FT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=St(DT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(ay(s))t.push(s);else if(ZN(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Wu=new Wt("LocaleId",{providedIn:"root",factory:()=>St(Wu,er.Optional|er.SkipSelf)||function eY(){return typeof $localize<"u"&&$localize.locale||_g}()});let Yb=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yo(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class rY{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let fO=(()=>{class n{compileModuleSync(t){return new pT(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Vu(Fo(t).declarations).reduce((o,a)=>{const l=ir(a);return l&&o.push(new ny(l)),o},[]);return new rY(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const mO=new Wt(""),Jb=new Wt("");let NT,UT=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,NT||(function EY(n){NT=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ni.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(Tt(ni),Tt(PT),Tt(Jb))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})(),PT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return NT?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),oh=null;const vO=new Wt("AllowMultipleToken"),OT=new Wt("PlatformDestroyListeners"),kT=new Wt("appBootstrapListener");class wO{constructor(e,t){this.name=e,this.token=t}}function bO(n,e,t=[]){const r=`Platform: ${e}`,i=new Wt(r);return(s=[])=>{let o=HT();if(!o||o.injector.get(vO,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function MY(n){if(oh&&!oh.get(vO,!1))throw new yt(400,!1);(function yO(){!function Bu(n){w_=n}(()=>{throw new yt(600,!1)})})(),oh=n;const e=n.get(CO);(function _O(n){n.get(MP,null)?.forEach(t=>t())})(n)}(function xO(n=[],e){return Pa.create({name:e,providers:[{provide:dM,useValue:"platform"},{provide:OT,useValue:new Set([()=>oh=null])},...n]})}(a,r))}return function IY(n){const e=HT();if(!e)throw new yt(401,!1);return e}()}}function HT(){return oh?.get(CO)??null}let CO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function DY(n="zone.js",e){return"noop"===n?new uW:"zone.js"===n?new ni(e):n}(r?.ngZone,function EO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Gq(n,e,t){return new dT(n,e,t)}(t.moduleType,this.injector,function IO(n){return[{provide:ni,useFactory:n},{provide:Kv,multi:!0,useFactory:()=>{const e=St(RY,{optional:!0});return()=>e.initialize()}},{provide:TO,useFactory:FY},{provide:jP,useFactory:WP}]}(()=>i)),o=s.injector.get(Qu,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{ex(this._modules,s),a.unsubscribe()})}),function SO(n,e,t){try{const r=t();return ay(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(FT);return a.runInitializers(),a.donePromise.then(()=>(function K3(n){Zo(n,"Expected localeId to be defined"),"string"==typeof n&&($3=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Wu,_g)||_g),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=BO({},r);return function SY(n,e,t){const r=new pT(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Cg);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new yt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new yt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(OT,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(Tt(Pa))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function BO(n,e){return Array.isArray(e)?e.reduce(BO,n):{...n,...e}}let Cg=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=St(TO),this.zoneIsStable=St(jP),this.componentTypes=[],this.components=[],this.isStable=St(Yb).hasPendingTasks.pipe(Ca(t=>t?nn(!1):this.zoneIsStable),function RS(n,e=xc){return n=n??LS,Gi((t,r)=>{let i,s=!0;t.subscribe(wi(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Q1()),this._injector=St(Ua)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof RP;if(!this._injector.get(FT).done)throw!i&&function kA(n){const e=ir(n)||fs(n)||Ns(n);return null!==e&&e.standalone}(t),new yt(405,!1);let o;o=i?t:this._injector.get(Bb).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function BY(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Xf),c=o.create(Pa.NULL,[],r||o.selector,a),u=c.location.nativeElement,A=c.injector.get(mO,null);return A?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),ex(this.components,c),A?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new yt(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;ex(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(kT,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ex(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new yt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ex(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const TO=new Wt("",{providedIn:"root",factory:()=>St(Qu).handleError.bind(void 0)});function FY(){const n=St(ni),e=St(Qu);return t=>n.runOutsideAngular(()=>e.handleError(t))}let RY=(()=>{class n{constructor(){this.zone=St(ni),this.applicationRef=St(Cg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let tx=(()=>{class n{static{this.__NG_ELEMENT_ID__=UY}}return n})();function UY(n){return function PY(n,e,t){if(Cu(n)&&!t){const r=Qs(n.index,e);return new ty(r,r)}return 47&n.type?new ty(e[Ci],e):null}(gs(),At(),16==(16&n))}class LO{constructor(){}supports(e){return Ub(e)}create(e){return new VY(e)}}const QY=(n,e)=>e;class VY{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||QY}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<PO(r,i,s)?t:r,a=PO(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<s.length?s[f]:s[f]=0,g=h+f;u<=g&&g<c&&(s[f]=h+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ub(e))throw new yt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function y$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new GY(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new UO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class GY{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zY{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class UO{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new zY,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PO(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class NO{constructor(){}supports(e){return e instanceof Map||$M(e)}create(){return new jY}}class jY{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||$M(e)))throw new yt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new WY(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class WY{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OO(){return new ix([new LO])}let ix=(()=>{class n{static{this.\u0275prov=un({token:n,providedIn:"root",factory:OO})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OO()),deps:[[n,new qp,new Kp]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new yt(901,!1)}}return n})();function kO(){return new vy([new NO])}let vy=(()=>{class n{static{this.\u0275prov=un({token:n,providedIn:"root",factory:kO})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||kO()),deps:[[n,new qp,new Kp]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new yt(901,!1)}}return n})();const qY=bO(null,"core",[]);let XY=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(Tt(Cg))}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=gi({})}}return n})();function Eg(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let WT=null;function ah(){return WT}class uZ{}const Oa=new Wt("DocumentToken");let $T=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:function(){return St(hZ)},providedIn:"platform"})}}return n})();const AZ=new Wt("Location Initialized");let hZ=(()=>{class n extends $T{constructor(){super(),this._doc=St(Oa),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ah().getBaseHref(this._doc)}onPopState(t){const r=ah().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ah().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function KT(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function KO(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $u(n){return n&&"?"!==n[0]?"?"+n:n}let Jf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:function(){return St(XO)},providedIn:"root"})}}return n})();const qO=new Wt("appBaseHref");let XO=(()=>{class n extends Jf{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??St(Oa).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return KT(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$u(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+$u(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+$u(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Tt($T),Tt(qO,8))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fZ=(()=>{class n extends Jf{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=KT(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+$u(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+$u(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Tt($T),Tt(qO,8))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})(),qT=(()=>{class n{constructor(t){this._subject=new Ei,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function gZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(KO(YO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$u(r))}normalize(t){return n.stripTrailingSlash(function pZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,YO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$u(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$u(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=$u}static{this.joinWithSlash=KT}static{this.stripTrailingSlash=KO}static{this.\u0275fac=function(r){return new(r||n)(Tt(Jf))}}static{this.\u0275prov=un({token:n,factory:function(){return function dZ(){return new qT(Tt(Jf))}()},providedIn:"root"})}}return n})();function YO(n){return n.replace(/\/index.html$/,"")}var ox=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(ox||{}),No=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(No||{}),Yr=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Yr||{}),ka=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ka||{}),qi=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(qi||{});function ax(n,e){return ml(Uo(n)[ri.DateFormat],e)}function lx(n,e){return ml(Uo(n)[ri.TimeFormat],e)}function cx(n,e){return ml(Uo(n)[ri.DateTimeFormat],e)}function gl(n,e){const t=Uo(n),r=t[ri.NumberSymbols][e];if(typeof r>"u"){if(e===qi.CurrencyDecimal)return t[ri.NumberSymbols][qi.Decimal];if(e===qi.CurrencyGroup)return t[ri.NumberSymbols][qi.Group]}return r}function JO(n){if(!n[ri.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ri.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ml(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function YT(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const IZ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yy={},DZ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ku=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ku||{}),Tr=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Tr||{}),Ir=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ir||{});function FZ(n,e,t,r){let i=function QZ(n){if(nk(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return ux(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(IZ))return function VZ(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!nk(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=qu(t,e)||e;let a,o=[];for(;e;){if(a=DZ.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=tk(r,l),i=function HZ(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function kZ(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(tk(e,i)-i))}(i,r,!0));let c="";return o.forEach(u=>{const A=function OZ(n){if(JT[n])return JT[n];let e;switch(n){case"G":case"GG":case"GGG":e=ii(Ir.Eras,Yr.Abbreviated);break;case"GGGG":e=ii(Ir.Eras,Yr.Wide);break;case"GGGGG":e=ii(Ir.Eras,Yr.Narrow);break;case"y":e=ss(Tr.FullYear,1,0,!1,!0);break;case"yy":e=ss(Tr.FullYear,2,0,!0,!0);break;case"yyy":e=ss(Tr.FullYear,3,0,!1,!0);break;case"yyyy":e=ss(Tr.FullYear,4,0,!1,!0);break;case"Y":e=dx(1);break;case"YY":e=dx(2,!0);break;case"YYY":e=dx(3);break;case"YYYY":e=dx(4);break;case"M":case"L":e=ss(Tr.Month,1,1);break;case"MM":case"LL":e=ss(Tr.Month,2,1);break;case"MMM":e=ii(Ir.Months,Yr.Abbreviated);break;case"MMMM":e=ii(Ir.Months,Yr.Wide);break;case"MMMMM":e=ii(Ir.Months,Yr.Narrow);break;case"LLL":e=ii(Ir.Months,Yr.Abbreviated,No.Standalone);break;case"LLLL":e=ii(Ir.Months,Yr.Wide,No.Standalone);break;case"LLLLL":e=ii(Ir.Months,Yr.Narrow,No.Standalone);break;case"w":e=ZT(1);break;case"ww":e=ZT(2);break;case"W":e=ZT(1,!0);break;case"d":e=ss(Tr.Date,1);break;case"dd":e=ss(Tr.Date,2);break;case"c":case"cc":e=ss(Tr.Day,1);break;case"ccc":e=ii(Ir.Days,Yr.Abbreviated,No.Standalone);break;case"cccc":e=ii(Ir.Days,Yr.Wide,No.Standalone);break;case"ccccc":e=ii(Ir.Days,Yr.Narrow,No.Standalone);break;case"cccccc":e=ii(Ir.Days,Yr.Short,No.Standalone);break;case"E":case"EE":case"EEE":e=ii(Ir.Days,Yr.Abbreviated);break;case"EEEE":e=ii(Ir.Days,Yr.Wide);break;case"EEEEE":e=ii(Ir.Days,Yr.Narrow);break;case"EEEEEE":e=ii(Ir.Days,Yr.Short);break;case"a":case"aa":case"aaa":e=ii(Ir.DayPeriods,Yr.Abbreviated);break;case"aaaa":e=ii(Ir.DayPeriods,Yr.Wide);break;case"aaaaa":e=ii(Ir.DayPeriods,Yr.Narrow);break;case"b":case"bb":case"bbb":e=ii(Ir.DayPeriods,Yr.Abbreviated,No.Standalone,!0);break;case"bbbb":e=ii(Ir.DayPeriods,Yr.Wide,No.Standalone,!0);break;case"bbbbb":e=ii(Ir.DayPeriods,Yr.Narrow,No.Standalone,!0);break;case"B":case"BB":case"BBB":e=ii(Ir.DayPeriods,Yr.Abbreviated,No.Format,!0);break;case"BBBB":e=ii(Ir.DayPeriods,Yr.Wide,No.Format,!0);break;case"BBBBB":e=ii(Ir.DayPeriods,Yr.Narrow,No.Format,!0);break;case"h":e=ss(Tr.Hours,1,-12);break;case"hh":e=ss(Tr.Hours,2,-12);break;case"H":e=ss(Tr.Hours,1);break;case"HH":e=ss(Tr.Hours,2);break;case"m":e=ss(Tr.Minutes,1);break;case"mm":e=ss(Tr.Minutes,2);break;case"s":e=ss(Tr.Seconds,1);break;case"ss":e=ss(Tr.Seconds,2);break;case"S":e=ss(Tr.FractionalSeconds,1);break;case"SS":e=ss(Tr.FractionalSeconds,2);break;case"SSS":e=ss(Tr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=hx(Ku.Short);break;case"ZZZZZ":e=hx(Ku.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hx(Ku.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=hx(Ku.Long);break;default:return null}return JT[n]=e,e}(u);c+=A?A(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function ux(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function qu(n,e){const t=function vZ(n){return Uo(n)[ri.LocaleId]}(n);if(yy[t]=yy[t]||{},yy[t][e])return yy[t][e];let r="";switch(e){case"shortDate":r=ax(n,ka.Short);break;case"mediumDate":r=ax(n,ka.Medium);break;case"longDate":r=ax(n,ka.Long);break;case"fullDate":r=ax(n,ka.Full);break;case"shortTime":r=lx(n,ka.Short);break;case"mediumTime":r=lx(n,ka.Medium);break;case"longTime":r=lx(n,ka.Long);break;case"fullTime":r=lx(n,ka.Full);break;case"short":const i=qu(n,"shortTime"),s=qu(n,"shortDate");r=Ax(cx(n,ka.Short),[i,s]);break;case"medium":const o=qu(n,"mediumTime"),a=qu(n,"mediumDate");r=Ax(cx(n,ka.Medium),[o,a]);break;case"long":const l=qu(n,"longTime"),c=qu(n,"longDate");r=Ax(cx(n,ka.Long),[l,c]);break;case"full":const u=qu(n,"fullTime"),A=qu(n,"fullDate");r=Ax(cx(n,ka.Full),[u,A])}return r&&(yy[t][e]=r),r}function Ax(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Zl(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function ss(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function LZ(n,e){switch(n){case Tr.FullYear:return e.getFullYear();case Tr.Month:return e.getMonth();case Tr.Date:return e.getDate();case Tr.Hours:return e.getHours();case Tr.Minutes:return e.getMinutes();case Tr.Seconds:return e.getSeconds();case Tr.FractionalSeconds:return e.getMilliseconds();case Tr.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Tr.Hours)0===a&&-12===t&&(a=12);else if(n===Tr.FractionalSeconds)return function RZ(n,e){return Zl(n,3).substring(0,e)}(a,e);const l=gl(o,qi.MinusSign);return Zl(a,e,l,r,i)}}function ii(n,e,t=No.Format,r=!1){return function(i,s){return function UZ(n,e,t,r,i,s){switch(t){case Ir.Months:return function _Z(n,e,t){const r=Uo(n),s=ml([r[ri.MonthsFormat],r[ri.MonthsStandalone]],e);return ml(s,t)}(e,i,r)[n.getMonth()];case Ir.Days:return function wZ(n,e,t){const r=Uo(n),s=ml([r[ri.DaysFormat],r[ri.DaysStandalone]],e);return ml(s,t)}(e,i,r)[n.getDay()];case Ir.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function EZ(n){const e=Uo(n);return JO(e),(e[ri.ExtraData][2]||[]).map(r=>"string"==typeof r?YT(r):[YT(r[0]),YT(r[1])])}(e),u=function SZ(n,e,t){const r=Uo(n);JO(r);const s=ml([r[ri.ExtraData][0],r[ri.ExtraData][1]],e)||[];return ml(s,t)||[]}(e,i,r),A=c.findIndex(f=>{if(Array.isArray(f)){const[h,g]=f,w=o>=h.hours&&a>=h.minutes,v=o<g.hours||o===g.hours&&a<g.minutes;if(h.hours<g.hours){if(w&&v)return!0}else if(w||v)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(-1!==A)return u[A]}return function yZ(n,e,t){const r=Uo(n),s=ml([r[ri.DayPeriodsFormat],r[ri.DayPeriodsStandalone]],e);return ml(s,t)}(e,i,r)[o<12?0:1];case Ir.Eras:return function bZ(n,e){return ml(Uo(n)[ri.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function hx(n){return function(e,t,r){const i=-1*r,s=gl(t,qi.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ku.Short:return(i>=0?"+":"")+Zl(o,2,s)+Zl(Math.abs(i%60),2,s);case Ku.ShortGMT:return"GMT"+(i>=0?"+":"")+Zl(o,1,s);case Ku.Long:return"GMT"+(i>=0?"+":"")+Zl(o,2,s)+":"+Zl(Math.abs(i%60),2,s);case Ku.Extended:return 0===r?"Z":(i>=0?"+":"")+Zl(o,2,s)+":"+Zl(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const PZ=0,fx=4;function ek(n){return ux(n.getFullYear(),n.getMonth(),n.getDate()+(fx-n.getDay()))}function ZT(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=ek(t),o=function NZ(n){const e=ux(n,PZ,1).getDay();return ux(n,0,1+(e<=fx?fx:fx+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Zl(i,n,gl(r,qi.MinusSign))}}function dx(n,e=!1){return function(t,r){return Zl(ek(t).getFullYear(),n,gl(r,qi.MinusSign),e)}}const JT={};function tk(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function nk(n){return n instanceof Date&&!isNaN(n.valueOf())}const GZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function rI(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function ok(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const sI=/\s+/,ak=[];let Bg=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=ak,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(sI):ak}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(sI):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(sI).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(ft(ix),ft(vy),ft(ao),ft(Hu))}}static{this.\u0275dir=yn({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class tJ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ck=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new tJ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),uk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{uk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ft(Yl),ft(zu),ft(ix))}}static{this.\u0275dir=yn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function uk(n,e){n.context.$implicit=e.item}let gx=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new nJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ak("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ak("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ft(Yl),ft(zu))}}static{this.\u0275dir=yn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class nJ{constructor(){this.$implicit=null,this.ngIf=null}}function Ak(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${zi(e)}'.`)}function Jl(n,e){return new yt(2100,!1)}const pJ=new Wt("DATE_PIPE_DEFAULT_TIMEZONE"),gJ=new Wt("DATE_PIPE_DEFAULT_OPTIONS");let fk=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return FZ(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Jl()}}static{this.\u0275fac=function(r){return new(r||n)(ft(Wu,16),ft(pJ,24),ft(gJ,24))}}static{this.\u0275pipe=to({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),dk=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=pk}transform(t,r=pk){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function _J(n,e){return{key:n,value:e}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||n)(ft(vy,16))}}static{this.\u0275pipe=to({name:"keyvalue",type:n,pure:!1,standalone:!0})}}return n})();function pk(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let lI=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function cI(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function qZ(n,e,t){return function tI(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function YZ(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function XZ(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,A=e.minFrac,f=e.maxFrac;if(s){const C=s.match(GZ);if(null===C)throw new Error(`${s} is not a valid digit info`);const E=C[1],B=C[3],U=C[5];null!=E&&(u=rI(E)),null!=B&&(A=rI(B)),null!=U?f=rI(U):null!=B&&A>f&&(f=A)}!function ZZ(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let A=o;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let A=1;A<o;A++)r[A]=0}if(a>=5)if(o-1<0){for(let A=0;A>o;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+n.integerLen,u=r.reduceRight(function(A,f,h,g){return g[h]=(f+=A)<10?f:f-10,l&&(0===g[h]&&h>=c?g.pop():l=!1),f>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,A,f);let h=c.digits,g=c.integerLen;const w=c.exponent;let v=[];for(l=h.every(C=>!C);g<u;g++)h.unshift(0);for(;g<0;g++)h.unshift(0);g>0?v=h.splice(g,h.length):(v=h,h=[0]);const p=[];for(h.length>=e.lgSize&&p.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)p.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&p.unshift(h.join("")),a=p.join(gl(t,r)),v.length&&(a+=gl(t,i)+v.join("")),w&&(a+=gl(t,qi.Exponential)+"+"+w)}else a=gl(t,qi.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function nI(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const A=l.charAt(u);"0"===A?t.minFrac=t.maxFrac=u+1:"#"===A?t.maxFrac=u+1:t.posSuf+=A}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,A=s.indexOf("#");t.negPre=s.substring(0,A).replace(/'/g,""),t.negSuf=s.slice(A+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function XT(n,e){return Uo(n)[ri.NumberFormats][e]}(e,ox.Decimal),gl(e,qi.MinusSign)),e,qi.Group,qi.Decimal,t)}(function uI(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw Jl()}}static{this.\u0275fac=function(r){return new(r||n)(ft(Wu,16))}}static{this.\u0275pipe=to({name:"number",type:n,pure:!0,standalone:!0})}}return n})();let ed=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=gi({})}}return n})();function mk(n){return"server"===n}let BJ=(()=>{class n{static{this.\u0275prov=un({token:n,providedIn:"root",factory:()=>new MJ(Tt(Oa),window)})}}return n})();class MJ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function TJ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class vk{}class ZJ extends uZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fI extends ZJ{static makeCurrent(){!function cZ(n){WT||(WT=n)}(new fI)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function JJ(){return by=by||document.querySelector("base"),by?by.getAttribute("href"):null}();return null==t?null:function eee(n){yx=yx||document.createElement("a"),yx.setAttribute("href",n);const e=yx.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){by=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ok(document.cookie,e)}}let yx,by=null,nee=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();const dI=new Wt("EventManagerPlugins");let xk=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new yt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Tt(dI),Tt(ni))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();class Ck{constructor(e){this._doc=e}}const pI="ng-app-id";let Ek=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mk(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${pI}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(pI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(pI,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Tt(Oa),Tt(_b),Tt(TP,8),Tt(jf))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();const gI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mI=/%COMP%/g,oee=new Wt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Bk(n,e){return e.map(t=>t.replace(mI,n))}let Mk=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=mk(a),this.defaultRenderer=new vI(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===eo.ShadowDom&&(r={...r,encapsulation:eo.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Ik?i.applyToHost(t):i instanceof yI&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(r.encapsulation){case eo.Emulated:s=new Ik(l,c,r,this.appId,u,o,a,A);break;case eo.ShadowDom:return new uee(l,c,t,r,o,a,this.nonce,A);default:s=new yI(l,c,r,u,o,a,A)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Tt(xk),Tt(Ek),Tt(_b),Tt(oee),Tt(Oa),Tt(jf),Tt(ni),Tt(TP))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();class vI{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Tk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Tk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new yt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=gI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(so.DashCase|so.Important)?e.style.setProperty(t,r,i&so.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&so.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ah().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Tk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class uee extends vI{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Bk(i.id,i.styles);for(const u of c){const A=document.createElement("style");a&&A.setAttribute("nonce",a),A.textContent=u,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yI extends vI{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Bk(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ik extends yI{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function aee(n){return"_ngcontent-%COMP%".replace(mI,n)}(c),this.hostAttr=function lee(n){return"_nghost-%COMP%".replace(mI,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Aee=(()=>{class n extends Ck{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Tt(Oa))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();const Dk=["alt","control","meta","shift"],hee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fee={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dee=(()=>{class n extends Ck{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ah().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Dk.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=hee[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Dk.forEach(o=>{o!==i&&(0,fee[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Tt(Oa))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();const Rk=[{provide:jf,useValue:"browser"},{provide:MP,useValue:function pee(){fI.makeCurrent()},multi:!0},{provide:Oa,useFactory:function mee(){return function rj(n){iM=n}(document),document},deps:[]}],vee=bO(qY,"browser",Rk),yee=new Wt(""),Lk=[{provide:Jb,useClass:class tee{addToWindow(e){Gr.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new yt(5103,!1);return s},Gr.getAllAngularTestabilities=()=>e.getAllTestabilities(),Gr.getAllAngularRootElements=()=>e.getAllRootElements(),Gr.frameworkStabilizers||(Gr.frameworkStabilizers=[]),Gr.frameworkStabilizers.push(r=>{const i=Gr.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ah().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:mO,useClass:UT,deps:[ni,PT,Jb]},{provide:UT,useClass:UT,deps:[ni,PT,Jb]}],Uk=[{provide:dM,useValue:"root"},{provide:Qu,useFactory:function gee(){return new Qu},deps:[]},{provide:dI,useClass:Aee,multi:!0,deps:[Oa,ni,jf]},{provide:dI,useClass:dee,multi:!0,deps:[Oa]},Mk,Ek,xk,{provide:UP,useExisting:Mk},{provide:vk,useClass:nee,deps:[]},[]];let wee=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_b,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(Tt(yee,12))}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=gi({providers:[...Uk,...Lk],imports:[ed,XY]})}}return n})(),Pk=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Tt(Oa))}}static{this.\u0275prov=un({token:n,factory:function(r){let i=null;return i=r?new r:function bee(){return new Pk(Tt(Oa))}(),i},providedIn:"root"})}}return n})();function Mg(n,e){return ln(e)?hs(n,e,1):hs(n,1)}function Xu(n,e){return Gi((t,r)=>{let i=0;t.subscribe(wi(r,s=>n.call(e,s,i++)&&r.next(s)))})}function xy(n){return Gi((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}typeof window<"u"&&window;class wx{}class _x{}class jc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Bee{encodeKey(e){return Hk(e)}encodeValue(e){return Hk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Tee=/%(\d[a-f0-9])/gi,Iee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hk(n){return encodeURIComponent(n).replace(Tee,(e,t)=>Iee[t]??e)}function bx(n){return`${n}`}class ch{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Bee,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mee(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(bx):[bx(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ch({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(bx(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(bx(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Dee{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Qk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Vk(n){return typeof Blob<"u"&&n instanceof Blob}function Gk(n){return typeof FormData<"u"&&n instanceof FormData}class Cy{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Fee(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new jc),this.context||(this.context=new Dee),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ch,this.urlWithParams=t}serializeBody(){return null===this.body?null:Qk(this.body)||Vk(this.body)||Gk(this.body)||function Ree(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ch?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Gk(this.body)?null:Vk(this.body)?this.body.type||null:Qk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ch?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((A,f)=>A.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((A,f)=>A.set(f,e.setParams[f]),c)),new Cy(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var Tg=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Tg||{});class _I{constructor(e,t=200,r="OK"){this.headers=e.headers||new jc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class bI extends _I{constructor(e={}){super(e),this.type=Tg.ResponseHeader}clone(e={}){return new bI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ig extends _I{constructor(e={}){super(e),this.type=Tg.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ig({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zk extends _I{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let CI=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Cy)s=t;else{let l,c;l=i.headers instanceof jc?i.headers:new jc(i.headers),i.params&&(c=i.params instanceof ch?i.params:new ch({fromObject:i.params})),s=new Cy(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=nn(s).pipe(Mg(l=>this.handler.handle(l)));if(t instanceof Cy||"events"===i.observe)return o;const a=o.pipe(Xu(l=>l instanceof Ig));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ar(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ar(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ar(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ar(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ch).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,xI(i,r))}post(t,r,i={}){return this.request("POST",t,xI(i,r))}put(t,r,i={}){return this.request("PUT",t,xI(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Tt(wx))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();function $k(n,e){return e(n)}function Uee(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Nee=new Wt(""),Ey=new Wt(""),Kk=new Wt("");function Oee(){let n=null;return(e,t)=>{null===n&&(n=(St(Nee,{optional:!0})??[]).reduceRight(Uee,$k));const r=St(Yb),i=r.add();return n(e,t).pipe(xy(()=>r.remove(i)))}}let qk=(()=>{class n extends wx{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=St(Yb)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ey),...this.injector.get(Kk,[])]));this.chain=i.reduceRight((s,o)=>function Pee(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),$k)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(xy(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(Tt(_x),Tt(Ua))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();const Vee=/^\)\]\}',?\n/;let Yk=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new yt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?pi(r.\u0275loadImpl()):nn(null)).pipe(Ca(()=>new yi(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((w,v)=>o.setRequestHeader(w,v.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&o.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();o.responseType="json"!==w?w:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const w=o.statusText||"OK",v=new jc(o.getAllResponseHeaders()),p=function Gee(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new bI({headers:v,status:o.status,statusText:w,url:p}),l},u=()=>{let{headers:w,status:v,statusText:p,url:C}=c(),E=null;204!==v&&(E=typeof o.response>"u"?o.responseText:o.response),0===v&&(v=E?200:0);let B=v>=200&&v<300;if("json"===t.responseType&&"string"==typeof E){const U=E;E=E.replace(Vee,"");try{E=""!==E?JSON.parse(E):null}catch(k){E=U,B&&(B=!1,E={error:k,text:E})}}B?(s.next(new Ig({body:E,headers:w,status:v,statusText:p,url:C||void 0})),s.complete()):s.error(new zk({error:E,headers:w,status:v,statusText:p,url:C||void 0}))},A=w=>{const{url:v}=c(),p=new zk({error:w,status:o.status||0,statusText:o.statusText||"Unknown Error",url:v||void 0});s.error(p)};let f=!1;const h=w=>{f||(s.next(c()),f=!0);let v={type:Tg.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(v.total=w.total),"text"===t.responseType&&o.responseText&&(v.partialText=o.responseText),s.next(v)},g=w=>{let v={type:Tg.UploadProgress,loaded:w.loaded};w.lengthComputable&&(v.total=w.total),s.next(v)};return o.addEventListener("load",u),o.addEventListener("error",A),o.addEventListener("timeout",A),o.addEventListener("abort",A),t.reportProgress&&(o.addEventListener("progress",h),null!==a&&o.upload&&o.upload.addEventListener("progress",g)),o.send(a),s.next({type:Tg.Sent}),()=>{o.removeEventListener("error",A),o.removeEventListener("abort",A),o.removeEventListener("load",u),o.removeEventListener("timeout",A),t.reportProgress&&(o.removeEventListener("progress",h),null!==a&&o.upload&&o.upload.removeEventListener("progress",g)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Tt(vk))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();const EI=new Wt("XSRF_ENABLED"),Zk=new Wt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Jk=new Wt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class eH{}let Wee=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ok(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Tt(Oa),Tt(jf),Tt(Zk))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();function $ee(n,e){const t=n.url.toLowerCase();if(!St(EI)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=St(eH).getToken(),i=St(Jk);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var uh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(uh||{});function td(n,e){return{\u0275kind:n,\u0275providers:e}}function Kee(...n){const e=[CI,Yk,qk,{provide:wx,useExisting:qk},{provide:_x,useExisting:Yk},{provide:Ey,useValue:$ee,multi:!0},{provide:EI,useValue:!0},{provide:eH,useClass:Wee}];for(const t of n)e.push(...t.\u0275providers);return function AM(n){return{\u0275providers:n}}(e)}const tH=new Wt("LEGACY_INTERCEPTOR_FN");let Dg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=gi({providers:[Kee(td(uh.LegacyInterceptors,[{provide:tH,useFactory:Oee},{provide:Ey,useExisting:tH,multi:!0}]))]})}}return n})();const{isArray:nte}=Array,{getPrototypeOf:rte,prototype:ite,keys:ste}=Object;function nH(n){if(1===n.length){const e=n[0];if(nte(e))return{args:e,keys:null};if(function ote(n){return n&&"object"==typeof n&&rte(n)===ite}(e)){const t=ste(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:ate}=Array;function rH(n){return ar(e=>function lte(n,e){return ate(e)?n(...e):n(e)}(n,e))}function iH(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function SI(...n){const e=Cc(n),t=$0(n),{args:r,keys:i}=nH(n);if(0===r.length)return pi([],e);const s=new yi(function cte(n,e,t=xc){return r=>{sH(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)sH(e,()=>{const c=pi(n[l],e);let u=!1;c.subscribe(wi(r,A=>{s[l]=A,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>iH(i,o):xc));return t?s.pipe(rH(t)):s}function sH(n,e,t){n?xa(t,n,e):e()}const Cx=fn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function BI(...n){return function ute(){return DA(1)}()(pi(n,Cc(n)))}function oH(n){return new yi(e=>{_i(n()).subscribe(e)})}function Sy(n,e){const t=ln(n)?n:()=>n,r=i=>i.error(t());return new yi(e?i=>e.schedule(r,0,i):r)}function MI(){return Gi((n,e)=>{let t=null;n._refCount++;const r=wi(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class aH extends yi{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;const t=this.getSubject();e.add(this.source.subscribe(wi(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return MI()(this)}}function Fg(n){return n<=0?()=>nl:Gi((e,t)=>{let r=0;e.subscribe(wi(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ex(n){return Gi((e,t)=>{let r=!1;e.subscribe(wi(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function lH(n=hte){return Gi((e,t)=>{let r=!1;e.subscribe(wi(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hte(){return new Cx}function nd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xu((i,s)=>n(i,s,r)):xc,Fg(1),t?Ex(e):lH(()=>new Cx))}function Ws(n,e,t){const r=ln(n)||e||t?{next:n,error:e,complete:t}:n;return r?Gi((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(wi(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):xc}function Ah(n){return Gi((e,t)=>{let s,r=null,i=!1;r=e.subscribe(wi(t,void 0,void 0,o=>{s=_i(n(o,Ah(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function TI(n){return n<=0?()=>nl:Gi((e,t)=>{let r=[];e.subscribe(wi(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const Gn="primary",By=Symbol("RouteTitle");class vte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Rg(n){return new vte(n)}function yte(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Wc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!cH(n[i],e[i]))return!1;return!0}function cH(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function uH(n){return n.length>0?n[n.length-1]:null}function hh(n){return function tte(n){return!!n&&(n instanceof yi||ln(n.lift)&&ln(n.subscribe))}(n)?n:ay(n)?pi(Promise.resolve(n)):nn(n)}const _te={exact:function fH(n,e,t){if(!rd(n.segments,e.segments)||!Sx(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!fH(n.children[r],e.children[r],t))return!1;return!0},subset:dH},AH={exact:function bte(n,e){return Wc(n,e)},subset:function xte(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cH(n[t],e[t]))},ignored:()=>!0};function hH(n,e,t){return _te[t.paths](n.root,e.root,t.matrixParams)&&AH[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function dH(n,e,t){return pH(n,e,e.segments,t)}function pH(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!rd(i,t)||e.hasChildren()||!Sx(i,t,r))}if(n.segments.length===t.length){if(!rd(n.segments,t)||!Sx(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!dH(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(rd(n.segments,i)&&Sx(n.segments,i,r)&&n.children[Gn])&&pH(n.children[Gn],e,s,r)}}function Sx(n,e,t){return e.every((r,i)=>AH[t](n[i].parameters,r.parameters))}class Lg{constructor(e=new Pr([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rg(this.queryParams)),this._queryParamMap}toString(){return Ste.serialize(this)}}class Pr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bx(this)}}class My{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Rg(this.parameters)),this._parameterMap}toString(){return vH(this)}}function rd(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ty=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:function(){return new II},providedIn:"root"})}}return n})();class II{parse(e){const t=new Nte(e);return new Lg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Iy(e.root,!0)}`,r=function Tte(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Mx(t)}=${Mx(i)}`).join("&"):`${Mx(t)}=${Mx(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Bte(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ste=new II;function Bx(n){return n.segments.map(e=>vH(e)).join("/")}function Iy(n,e){if(!n.hasChildren())return Bx(n);if(e){const t=n.children[Gn]?Iy(n.children[Gn],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Gn&&r.push(`${i}:${Iy(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ete(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Gn&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Gn&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Gn?[Iy(n.children[Gn],!1)]:[`${i}:${Iy(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gn]?`${Bx(n)}/${t[0]}`:`${Bx(n)}/(${t.join("//")})`}}function gH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mx(n){return gH(n).replace(/%3B/gi,";")}function DI(n){return gH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tx(n){return decodeURIComponent(n)}function mH(n){return Tx(n.replace(/\+/g,"%20"))}function vH(n){return`${DI(n.path)}${function Mte(n){return Object.keys(n).map(e=>`;${DI(e)}=${DI(n[e])}`).join("")}(n.parameters)}`}const Ite=/^[^\/()?;#]+/;function FI(n){const e=n.match(Ite);return e?e[0]:""}const Dte=/^[^\/()?;=#]+/,Rte=/^[^=?&#]+/,Ute=/^[^&#]+/;class Nte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pr([],{}):new Pr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gn]=new Pr(e,t)),r}parseSegment(){const e=FI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new yt(4009,!1);return this.capture(e),new My(Tx(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Fte(n){const e=n.match(Dte);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=FI(this.remaining);i&&(r=i,this.capture(r))}e[Tx(t)]=Tx(r)}parseQueryParam(e){const t=function Lte(n){const e=n.match(Rte);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Pte(n){const e=n.match(Ute);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=mH(t),s=mH(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=FI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new yt(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Gn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Gn]:new Pr([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new yt(4011,!1)}}function yH(n){return n.segments.length>0?new Pr([],{[Gn]:n}):n}function wH(n){const e={};for(const r of Object.keys(n.children)){const s=wH(n.children[r]);if(r===Gn&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Ote(n){if(1===n.numberOfChildren&&n.children[Gn]){const e=n.children[Gn];return new Pr(n.segments.concat(e.segments),e.children)}return n}(new Pr(n.segments,e))}function id(n){return n instanceof Lg}function _H(n){let e;const i=yH(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Pr(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function bH(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return RI(i,i,i,t,r);const s=function Hte(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new CH(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new CH(t,e,r)}(e);if(s.toRoot())return RI(i,i,new Pr([],{}),t,r);const o=function Qte(n,e,t){if(n.isAbsolute)return new Dx(e,!0,0);if(!t)return new Dx(e,!1,NaN);if(null===t.parent)return new Dx(t,!0,0);const r=Ix(n.commands[0])?0:1;return function Vte(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new yt(4005,!1);i=r.segments.length}return new Dx(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?Fy(o.segmentGroup,o.index,s.commands):EH(o.segmentGroup,o.index,s.commands);return RI(i,o.segmentGroup,a,t,r)}function Ix(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dy(n){return"object"==typeof n&&null!=n&&n.outlets}function RI(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:xH(n,e,t);const a=yH(wH(o));return new Lg(a,s,i)}function xH(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:xH(s,e,t)}),new Pr(n.segments,r)}class CH{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ix(r[0]))throw new yt(4003,!1);const i=r.find(Dy);if(i&&i!==uH(r))throw new yt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dx{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function EH(n,e,t){if(n||(n=new Pr([],{})),0===n.segments.length&&n.hasChildren())return Fy(n,e,t);const r=function zte(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Dy(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!BH(l,c,o))return s;r+=2}else{if(!BH(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Pr(n.segments.slice(0,r.pathIndex),{});return s.children[Gn]=new Pr(n.segments.slice(r.pathIndex),n.children),Fy(s,0,i)}return r.match&&0===i.length?new Pr(n.segments,{}):r.match&&!n.hasChildren()?LI(n,e,t):r.match?Fy(n,0,i):LI(n,e,t)}function Fy(n,e,t){if(0===t.length)return new Pr(n.segments,{});{const r=function Gte(n){return Dy(n[0])?n[0].outlets:{[Gn]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Gn)&&n.children[Gn]&&1===n.numberOfChildren&&0===n.children[Gn].segments.length){const s=Fy(n.children[Gn],e,t);return new Pr(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=EH(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Pr(n.segments,i)}}function LI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Dy(s)){const l=jte(s.outlets);return new Pr(r,l)}if(0===i&&Ix(t[0])){r.push(new My(n.segments[e].path,SH(t[0]))),i++;continue}const o=Dy(s)?s.outlets[Gn]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ix(a)?(r.push(new My(o,SH(a))),i+=2):(r.push(new My(o,{})),i++)}return new Pr(r,{})}function jte(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=LI(new Pr([],{}),0,r))}),e}function SH(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function BH(n,e,t){return n==t.path&&Wc(e,t.parameters)}const Ry="imperative";class $c{constructor(e,t){this.id=e,this.url=t}}class Fx extends $c{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fh extends $c{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ly extends $c{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ug extends $c{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Rx extends $c{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MH extends $c{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wte extends $c{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $te extends $c{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kte extends $c{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qte extends $c{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xte{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yte{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zte{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jte{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ene{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TH{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class UI{}class PI{constructor(e){this.url=e}}class nne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uy,this.attachRef=null}}let Uy=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nne,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class IH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=NI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=NI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=OI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return OI(e,this._root).map(t=>t.value)}}function NI(n,e){if(n===e.value)return e;for(const t of e.children){const r=NI(n,t);if(r)return r}return null}function OI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=OI(n,t);if(r.length)return r.unshift(e),r}return[]}class Yu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pg(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class DH extends IH{constructor(e,t){super(e),this.snapshot=t,kI(this,e)}toString(){return this.snapshot.toString()}}function FH(n,e){const t=function rne(n,e){const o=new Lx([],{},{},"",{},Gn,e,null,{});return new LH("",new Yu(o,[]))}(0,e),r=new Yo([new My("",{})]),i=new Yo({}),s=new Yo({}),o=new Yo({}),a=new Yo(""),l=new Ng(r,i,o,a,s,Gn,e,t.root);return l.snapshot=t.root,new DH(new Yu(l,[]),t)}class Ng{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ar(c=>c[By]))??nn(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ar(e=>Rg(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ar(e=>Rg(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RH(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ine(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Lx{get title(){return this.data?.[By]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LH extends IH{constructor(e,t){super(t),this.url=e,kI(this,t)}toString(){return UH(this._root)}}function kI(n,e){e.value._routerState=n,e.children.forEach(t=>kI(n,t))}function UH(n){const e=n.children.length>0?` { ${n.children.map(UH).join(", ")} } `:"";return`${n.value}${e}`}function HI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wc(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Wc(e.params,t.params)||n.paramsSubject.next(t.params),function wte(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Wc(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function QI(n,e){const t=Wc(n.params,e.params)&&function Cte(n,e){return rd(n,e)&&n.every((t,r)=>Wc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||QI(n.parent,e.parent))}let VI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gn,this.activateEvents=new Ei,this.deactivateEvents=new Ei,this.attachEvents=new Ei,this.detachEvents=new Ei,this.parentContexts=St(Uy),this.location=St(Yl),this.changeDetector=St(tx),this.environmentInjector=St(Ua),this.inputBinder=St(Ux,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new yt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new yt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new yt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new yt(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new sne(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=yn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ks]})}}return n})();class sne{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ng?this.route:e===Uy?this.childContexts:this.parent.get(e,t)}}const Ux=new Wt("");let PH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=SI([r.queryParams,r.params,r.data]).pipe(Ca(([s,o,a],l)=>(a={...s,...o,...a},0===l?nn(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function lZ(n){const e=ir(n);if(!e)return null;const t=new ny(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();function Py(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function ane(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Py(n,r,i);return Py(n,r)})}(n,e,t);return new Yu(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Py(n,a)),o}}const r=function lne(n){return new Ng(new Yo(n.url),new Yo(n.params),new Yo(n.queryParams),new Yo(n.fragment),new Yo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Py(n,s));return new Yu(r,i)}}const GI="ngNavigationCancelingError";function NH(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=id(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=OH(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function OH(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[GI]=!0,r.cancellationCode=e,t&&(r.url=t),r}function kH(n){return n&&n[GI]}let HH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=rs({type:n,selectors:[["ng-component"]],standalone:!0,features:[_4],decls:1,vars:0,template:function(r,i){1&r&&Si(0,"router-outlet")},dependencies:[VI],encapsulation:2})}}return n})();function zI(n){const e=n.children&&n.children.map(zI),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gn&&(t.component=HH),t}function ec(n){return n.outlet||Gn}function Ny(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class gne{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),HI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Pg(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Pg(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Pg(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Pg(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Jte(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(HI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),HI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ny(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class QH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Px{constructor(e,t){this.component=e,this.route=t}}function mne(n,e,t){const r=n._root;return Oy(r,e?e._root:null,t,[r.value])}function Og(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function pp(n){return null!==_u(n)}(n)?e.get(n):n:r}function Oy(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Pg(e);return n.children.forEach(o=>{(function yne(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function wne(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rd(n.url,e.url)||!Wc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QI(n,e)||!Wc(n.queryParams,e.queryParams);default:return!QI(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new QH(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Oy(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Px(a.outlet.component,o))}else o&&ky(e,a,i),i.canActivateChecks.push(new QH(r)),Oy(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ky(a,t.getContext(o),i)),i}function ky(n,e,t){const r=Pg(n),i=n.value;Object.entries(r).forEach(([s,o])=>{ky(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Px(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hy(n){return"function"==typeof n}function VH(n){return n instanceof Cx||"EmptyError"===n?.name}const Nx=Symbol("INITIAL_VALUE");function kg(){return Ca(n=>SI(n.map(e=>e.pipe(Fg(1),function Ate(...n){const e=Cc(n);return Gi((t,r)=>{(e?BI(n,t,e):BI(n,t)).subscribe(r)})}(Nx)))).pipe(ar(e=>{for(const t of e)if(!0!==t){if(t===Nx)return Nx;if(!1===t||t instanceof Lg)return t}return!0}),Xu(e=>e!==Nx),Fg(1)))}function GH(n){return function dS(...n){return S1(n)}(Ws(e=>{if(id(e))throw NH(0,e)}),ar(e=>!0===e))}class Ox{constructor(e){this.segmentGroup=e||null}}class zH{constructor(e){this.urlTree=e}}function Hg(n){return Sy(new Ox(n))}function jH(n){return Sy(new zH(n))}class Hne{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new yt(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nn(r);if(i.numberOfChildren>1||!i.children[Gn])return Sy(new yt(4e3,!1));i=i.children[Gn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Lg(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Pr(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new yt(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const jI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qne(n,e,t,r,i){const s=WI(n,e,t);return s.matched?(r=function une(n,e){return n.providers&&!n._injector&&(n._injector=gT(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Nne(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?nn(i.map(o=>{const a=Og(o,n);return hh(function Sne(n){return n&&Hy(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(kg(),GH()):nn(!0)}(r,e,t).pipe(ar(o=>!0===o?s:{...jI}))):nn(s)}function WI(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...jI}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yte)(t,n,e);if(!i)return{...jI};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function WH(n,e,t,r){return t.length>0&&function zne(n,e,t){return t.some(r=>kx(n,e,r)&&ec(r)!==Gn)}(n,t,r)?{segmentGroup:new Pr(e,Gne(r,new Pr(t,n.children))),slicedSegments:[]}:0===t.length&&function jne(n,e,t){return t.some(r=>kx(n,e,r))}(n,t,r)?{segmentGroup:new Pr(n.segments,Vne(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Pr(n.segments,n.children),slicedSegments:t}}function Vne(n,e,t,r,i){const s={};for(const o of r)if(kx(n,t,o)&&!i[ec(o)]){const a=new Pr([],{});s[ec(o)]=a}return{...i,...s}}function Gne(n,e){const t={};t[Gn]=e;for(const r of n)if(""===r.path&&ec(r)!==Gn){const i=new Pr([],{});t[ec(r)]=i}return t}function kx(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class qne{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Hne(this.urlSerializer,this.urlTree)}noMatchError(e){return new yt(4002,!1)}recognize(){const e=WH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gn).pipe(Ah(t=>{if(t instanceof zH)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ox?this.noMatchError(t):t}),ar(t=>{const r=new Lx([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gn,this.rootComponentType,null,{}),i=new Yu(r,t),s=new LH("",i),o=function kte(n,e,t=null,r=null){return bH(_H(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Gn).pipe(Ah(r=>{throw r instanceof Ox?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=RH(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pi(i).pipe(Mg(s=>{const o=r.children[s],a=function dne(n,e){const t=n.filter(r=>ec(r)===e);return t.push(...n.filter(r=>ec(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function dte(n,e){return Gi(function fte(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(wi(o,u=>{const A=c++;l=a?n(l,u,A):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Ex(null),function pte(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xu((i,s)=>n(i,s,r)):xc,TI(1),t?Ex(e):lH(()=>new Cx))}(),hs(s=>{if(null===s)return Hg(r);const o=$H(s);return function Xne(n){n.sort((e,t)=>e.value.outlet===Gn?-1:t.value.outlet===Gn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),nn(o)}))}processSegment(e,t,r,i,s,o){return pi(t).pipe(Mg(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Ah(l=>{if(l instanceof Ox)return nn(null);throw l}))),nd(a=>!!a),Ah(a=>{if(VH(a))return function $ne(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?nn([]):Hg(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function Wne(n,e,t,r){return!!(ec(n)===r||r!==Gn&&kx(e,t,n))&&("**"===n.path||WI(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Hg(i):Hg(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jH(s):this.applyRedirects.lineralizeSegments(r,s).pipe(hs(o=>{const a=new Pr(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=WI(t,i,s);if(!a)return Hg(t);const A=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?jH(A):this.applyRedirects.lineralizeSegments(i,A).pipe(hs(f=>this.processSegment(e,r,t,f.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?uH(i).parameters:{};a=nn({snapshot:new Lx(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KH(r),ec(r),r.component??r._loadedComponent??null,r,qH(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Qne(t,r,i,e).pipe(ar(({matched:l,consumedSegments:c,remainingSegments:u,parameters:A})=>l?{snapshot:new Lx(c,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KH(r),ec(r),r.component??r._loadedComponent??null,r,qH(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Ca(l=>null===l?Hg(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Ca(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:A,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:g,slicedSegments:w}=WH(t,f,h,c);if(0===w.length&&g.hasChildren())return this.processChildren(u,c,g).pipe(ar(p=>null===p?null:[new Yu(A,p)]));if(0===c.length&&0===w.length)return nn([new Yu(A,[])]);const v=ec(r)===s;return this.processSegment(u,c,g,w,v?Gn:s,!0).pipe(ar(p=>[new Yu(A,p)]))}))))}getChildConfig(e,t,r){return t.children?nn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nn({routes:t._loadedRoutes,injector:t._loadedInjector}):function Pne(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?nn(!0):nn(i.map(o=>{const a=Og(o,n);return hh(function bne(n){return n&&Hy(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(kg(),GH())}(e,t,r).pipe(hs(i=>i?this.configLoader.loadChildren(e,t).pipe(Ws(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function kne(n){return Sy(OH(!1,3))}())):nn({routes:[],injector:e})}}function Yne(n){const e=n.value.routeConfig;return e&&""===e.path}function $H(n){const e=[],t=new Set;for(const r of n){if(!Yne(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=$H(r.children);e.push(new Yu(r.value,i))}return e.filter(r=>!t.has(r))}function KH(n){return n.data||{}}function qH(n){return n.resolve||{}}function XH(n){return"string"==typeof n.title||null===n.title}function $I(n){return Ca(e=>{const t=n(e);return t?pi(t).pipe(ar(()=>e)):nn(e)})}const Qg=new Wt("ROUTES");let KI=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=St(fO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=hh(t.loadComponent()).pipe(ar(YH),Ws(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),xy(()=>{this.componentLoaders.delete(t)})),i=new aH(r,()=>new Xo).pipe(MI());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function ire(n,e,t,r){return hh(n.loadChildren()).pipe(ar(YH),hs(i=>i instanceof y4||Array.isArray(i)?nn(i):pi(e.compileModuleAsync(i))),ar(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Qg,[],{optional:!0,self:!0}).flat()),{routes:o.map(zI),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(xy(()=>{this.childrenLoaders.delete(r)})),o=new aH(s,()=>new Xo).pipe(MI());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YH(n){return function sre(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hx=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xo,this.transitionAbortSubject=new Xo,this.configLoader=St(KI),this.environmentInjector=St(Ua),this.urlSerializer=St(Ty),this.rootContexts=St(Uy),this.inputBindingEnabled=null!==St(Ux,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>nn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Yte(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Xte(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Yo({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ry,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xu(s=>0!==s.id),ar(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Ca(s=>{this.currentTransition=s;let o=!1,a=!1;return nn(s).pipe(Ws(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ca(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new Ug(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),nl}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return nn(l).pipe(Ca(f=>{const h=this.transitions?.getValue();return this.events.next(new Fx(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?nl:Promise.resolve(f)}),function Zne(n,e,t,r,i,s){return hs(o=>function Kne(n,e,t,r,i,s,o="emptyOnly"){return new qne(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(ar(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ws(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new MH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:g,restoredState:w,extras:v}=l,p=new Fx(f,this.urlSerializer.serialize(h),g,w);this.events.next(p);const C=FH(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:C,urlAfterRedirects:h,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},nn(s)}{const f="";return this.events.next(new Ug(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),nl}}),Ws(l=>{const c=new Wte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ar(l=>(this.currentTransition=s={...l,guards:mne(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Mne(n,e){return hs(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?nn({...t,guardsResult:!0}):function Tne(n,e,t,r){return pi(n).pipe(hs(i=>function Une(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?nn(s.map(a=>{const l=Ny(e)??i,c=Og(a,l);return hh(function Ene(n){return n&&Hy(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(nd())})).pipe(kg()):nn(!0)}(i.component,i.route,t,e,r)),nd(i=>!0!==i,!0))}(o,r,i,n).pipe(hs(a=>a&&function _ne(n){return"boolean"==typeof n}(a)?function Ine(n,e,t,r){return pi(e).pipe(Mg(i=>BI(function Fne(n,e){return null!==n&&e&&e(new Zte(n)),nn(!0)}(i.route.parent,r),function Dne(n,e){return null!==n&&e&&e(new ene(n)),nn(!0)}(i.route,r),function Lne(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function vne(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>oH(()=>nn(o.guards.map(l=>{const c=Ny(o.node)??t,u=Og(l,c);return hh(function Cne(n){return n&&Hy(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(nd())})).pipe(kg())));return nn(s).pipe(kg())}(n,i.path,t),function Rne(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nn(!0);const i=r.map(s=>oH(()=>{const o=Ny(e)??t,a=Og(s,o);return hh(function xne(n){return n&&Hy(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(nd())}));return nn(i).pipe(kg())}(n,i.route,t))),nd(i=>!0!==i,!0))}(r,s,n,e):nn(a)),ar(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ws(l=>{if(s.guardsResult=l.guardsResult,id(l.guardsResult))throw NH(0,l.guardsResult);const c=new $te(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Xu(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),$I(l=>{if(l.guards.canActivateChecks.length)return nn(l).pipe(Ws(c=>{const u=new Kte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ca(c=>{let u=!1;return nn(c).pipe(function Jne(n,e){return hs(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nn(t);let s=0;return pi(i).pipe(Mg(o=>function ere(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!XH(i)&&(s[By]=i.title),function tre(n,e,t,r){const i=function nre(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return nn({});const s={};return pi(i).pipe(hs(o=>function rre(n,e,t,r){const i=Ny(e)??r,s=Og(n,i);return hh(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(nd(),Ws(a=>{s[o]=a}))),TI(1),function gte(n){return ar(()=>n)}(s),Ah(o=>VH(o)?nl:Sy(o)))}(s,n,e,r).pipe(ar(o=>(n._resolvedData=o,n.data=RH(n,t).resolve,i&&XH(i)&&(n.data[By]=i.title),null)))}(o.route,r,n,e)),Ws(()=>s++),TI(1),hs(o=>s===i.length?nn(t):nl))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ws({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Ws(c=>{const u=new qte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),$I(l=>{const c=u=>{const A=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ws(f=>{u.component=f}),ar(()=>{})));for(const f of u.children)A.push(...c(f));return A};return SI(c(l.targetSnapshot.root)).pipe(Ex(),Fg(1))}),$I(()=>this.afterPreactivation()),ar(l=>{const c=function one(n,e,t){const r=Py(n,e._root,t?t._root:void 0);return new DH(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Ws(()=>{this.events.next(new UI)}),((n,e,t,r)=>ar(i=>(new gne(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Fg(1),Ws({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function mte(n){return Gi((e,t)=>{_i(n).subscribe(wi(t,()=>t.complete(),rr)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Ws(l=>{throw l}))),xy(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ah(l=>{if(a=!0,kH(l))this.events.next(new Ly(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function cne(n){return kH(n)&&id(n.url)}(l)?this.events.next(new PI(l.url)):s.resolve(!1);else{this.events.next(new Rx(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){s.reject(c)}}return nl}))}))}cancelNavigationTransition(t,r,i){const s=new Ly(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZH(n){return n!==Ry}let JH=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Gn);return r}getResolvedTitleForRoute(t){return t.data[By]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:function(){return St(ore)},providedIn:"root"})}}return n})(),ore=(()=>{class n extends JH{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Tt(Pk))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),are=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:function(){return St(cre)},providedIn:"root"})}}return n})();class lre{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let cre=(()=>{class n extends lre{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=vs(n)))(i||n)}}()}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Qx=new Wt("",{providedIn:"root",factory:()=>({})});let ure=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:function(){return St(Are)},providedIn:"root"})}}return n})(),Are=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qy=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Qy||{});function eQ(n,e){n.events.pipe(Xu(t=>t instanceof fh||t instanceof Ly||t instanceof Rx||t instanceof Ug),ar(t=>t instanceof fh||t instanceof Ug?Qy.COMPLETE:t instanceof Ly&&(0===t.code||1===t.code)?Qy.REDIRECTING:Qy.FAILED),Xu(t=>t!==Qy.REDIRECTING),Fg(1)).subscribe(()=>{e()})}function hre(n){throw n}function fre(n,e,t){return e.parse("/")}const dre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=St(hO),this.isNgZoneEnabled=!1,this._events=new Xo,this.options=St(Qx,{optional:!0})||{},this.pendingTasks=St(Yb),this.errorHandler=this.options.errorHandler||hre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=St(ure),this.routeReuseStrategy=St(are),this.titleStrategy=St(JH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=St(Qg,{optional:!0})?.flat()??[],this.navigationTransitions=St(Hx),this.urlSerializer=St(Ty),this.location=St(qT),this.componentInputBindingEnabled=!!St(Ux,{optional:!0}),this.eventsSubscription=new $e,this.isNgZoneEnabled=St(ni)instanceof ni&&ni.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lg,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(tQ(r)&&this._events.next(r));if(r instanceof Fx)ZH(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ug)this.rawUrlTree=i.rawUrl;else if(r instanceof MH){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof UI)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ly)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof PI){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ZH(i.source)};this.scheduleNavigation(s,Ry,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Rx&&this.restoreHistory(i,!0),r instanceof fh&&(this.navigated=!0),tQ(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ry,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let A,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{A=_H(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),A=this.currentUrlTree.root}return bH(A,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=id(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ry,null,r)}navigate(t,r={skipLocationChange:!1}){return function gre(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new yt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...dre}:!1===r?{...pre}:r,id(t))return hH(this.currentUrlTree,t,i);const s=this.parseUrl(t);return hH(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((A,f)=>{a=A,l=f});const u=this.pendingTasks.add();return eQ(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tQ(n){return!(n instanceof UI||n instanceof PI)}let Vg=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Xo,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof fh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function wP(n,e,t){return function Ej(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?yP:vP}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(ft(Oo),ft(Ng),function Gl(n){return function DB(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Z1(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(gs(),n)}("tabindex"),ft(Hu),ft(ao),ft(Jf))}}static{this.\u0275dir=yn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Bi("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Hc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Eg],skipLocationChange:["skipLocationChange","skipLocationChange",Eg],replaceUrl:["replaceUrl","replaceUrl",Eg],routerLink:"routerLink"},standalone:!0,features:[LN,ks]})}}return n})(),nQ=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ei,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof fh&&this.update()})}ngAfterContentInit(){nn(this.links.changes,nn(null)).pipe(DA()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=pi(t).pipe(DA()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function mre(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(ft(Oo),ft(ao),ft(Hu),ft(tx),ft(Vg,8))}}static{this.\u0275dir=yn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&function W4(n,e,t,r){const i=cr();if(i.firstCreatePass){const s=gs();K4(i,new z4(e,t,r),s.index),function FX(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}$4(i,At(),t)}(s,Vg,5),2&r){let o;Gc(o=zc())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ks]})}}return n})();class rQ{}let vre=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xu(t=>t instanceof fh),Mg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=gT(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return pi(i).pipe(DA())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nn(null);const s=i.pipe(hs(o=>null===o?nn(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?pi([s,this.loader.loadComponent(r)]).pipe(DA()):s})}static{this.\u0275fac=function(r){return new(r||n)(Tt(Oo),Tt(fO),Tt(Ua),Tt(rQ),Tt(KI))}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const qI=new Wt("");let iQ=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fh?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ug&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof TH&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new TH(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function aN(){throw new Error("invalid")}()}}static{this.\u0275prov=un({token:n,factory:n.\u0275fac})}}return n})();function Zu(n,e){return{\u0275kind:n,\u0275providers:e}}function oQ(){const n=St(Pa);return e=>{const t=n.get(Cg);if(e!==t.components[0])return;const r=n.get(Oo),i=n.get(aQ);1===n.get(XI)&&r.initialNavigation(),n.get(lQ,null,er.Optional)?.setUpPreloading(),n.get(qI,null,er.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const aQ=new Wt("",{factory:()=>new Xo}),XI=new Wt("",{providedIn:"root",factory:()=>1}),lQ=new Wt("");function bre(n){return Zu(0,[{provide:lQ,useExisting:vre},{provide:rQ,useExisting:n}])}const cQ=new Wt("ROUTER_FORROOT_GUARD"),Cre=[qT,{provide:Ty,useClass:II},Oo,Uy,{provide:Ng,useFactory:function sQ(n){return n.routerState.root},deps:[Oo]},KI,[]];function Ere(){return new wO("Router",Oo)}let tc=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Cre,[],{provide:Qg,multi:!0,useValue:t},{provide:cQ,useFactory:Tre,deps:[[Oo,new Kp,new qp]]},{provide:Qx,useValue:r||{}},r?.useHash?{provide:Jf,useClass:fZ}:{provide:Jf,useClass:XO},{provide:qI,useFactory:()=>{const n=St(BJ),e=St(ni),t=St(Qx),r=St(Hx),i=St(Ty);return t.scrollOffset&&n.setOffset(t.scrollOffset),new iQ(i,r,n,e,t)}},r?.preloadingStrategy?bre(r.preloadingStrategy).\u0275providers:[],{provide:wO,multi:!0,useFactory:Ere},r?.initialNavigation?Ire(r):[],r?.bindToComponentInputs?Zu(8,[PH,{provide:Ux,useExisting:PH}]).\u0275providers:[],[{provide:uQ,useFactory:oQ},{provide:kT,multi:!0,useExisting:uQ}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Qg,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Tt(cQ,8))}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=gi({})}}return n})();function Tre(n){return"guarded"}function Ire(n){return["disabled"===n.initialNavigation?Zu(3,[{provide:DT,multi:!0,useFactory:()=>{const e=St(Oo);return()=>{e.setUpLocationChangeListener()}}},{provide:XI,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zu(2,[{provide:XI,useValue:0},{provide:DT,multi:!0,deps:[Pa],useFactory:e=>{const t=e.get(AZ,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Oo),s=e.get(aQ);eQ(i,()=>{r(!0)}),e.get(Hx).afterPreactivation=()=>(r(!0),s.closed?nn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const uQ=new Wt("");let Fre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rs({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"h-100"]],template:function(r,i){1&r&&(it(0,"div",0),Si(1,"router-outlet"),tt())},dependencies:[VI]})}return n})();var Qe=jt(5861);function Nr(n){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Or=Uint8Array,ko=Uint16Array,Vy=Int32Array,Gg=new Or([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zg=new Or([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gy=new Or([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hQ=function(n,e){for(var t=new ko(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new Vy(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},fQ=hQ(Gg,2),YI=fQ.b,Vx=fQ.r;YI[28]=258,Vx[258]=28;for(var dQ=hQ(zg,0),pQ=dQ.b,ZI=dQ.r,zy=new ko(32768),Ai=0;Ai<32768;++Ai){var dh=(43690&Ai)>>1|(21845&Ai)<<1;zy[Ai]=((65280&(dh=(61680&(dh=(52428&dh)>>2|(13107&dh)<<2))>>4|(3855&dh)<<4))>>8|(255&dh)<<8)>>1}var vl=function(n,e,t){for(var r=n.length,i=0,s=new ko(e);i<r;++i)n[i]&&++s[n[i]-1];var a,o=new ko(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(t){a=new ko(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],A=o[n[i]-1]++<<u,f=A|(1<<u)-1;A<=f;++A)a[zy[A]>>l]=c}else for(a=new ko(r),i=0;i<r;++i)n[i]&&(a[i]=zy[o[n[i]-1]++]>>15-n[i]);return a},Ju=new Or(288);for(Ai=0;Ai<144;++Ai)Ju[Ai]=8;for(Ai=144;Ai<256;++Ai)Ju[Ai]=9;for(Ai=256;Ai<280;++Ai)Ju[Ai]=7;for(Ai=280;Ai<288;++Ai)Ju[Ai]=8;var jg=new Or(32);for(Ai=0;Ai<32;++Ai)jg[Ai]=5;var gQ=vl(Ju,9,0),mQ=vl(Ju,9,1),vQ=vl(jg,5,0),yQ=vl(jg,5,1),Gx=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},yl=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(7&e)&t},zx=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(7&e)},jy=function(n){return(n+7)/8|0},ph=function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new Or(n.subarray(e,t))},wQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pr=function(n,e,t){var r=new Error(e||wQ[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,pr),!t)throw r;return r},Kc=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8},Wg=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8,n[r+2]|=t>>16},Wx=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:nD,l:0};if(1==i){var o=new Or(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(U,k){return U.f-k.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,A=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[A].f?c++:A++],l=t[c!=u&&t[c].f<t[A].f?c++:A++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var f=s[0].s;for(r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var h=new ko(f+1),g=$x(t[u-1],h,0);if(g>e){r=0;var w=0,v=g-e,p=1<<v;for(s.sort(function(k,H){return h[H.s]-h[k.s]||k.f-H.f});r<i;++r){var C=s[r].s;if(!(h[C]>e))break;w+=p-(1<<g-h[C]),h[C]=e}for(w>>=v;w>0;){var E=s[r].s;h[E]<e?w-=1<<e-h[E]++-1:++r}for(;r>=0&&w;--r){var B=s[r].s;h[B]==e&&(--h[B],++w)}g=e}return{t:new Or(h),l:g}},$x=function(n,e,t){return-1==n.s?Math.max($x(n.l,e,t+1),$x(n.r,e,t+1)):e[n.s]=t},JI=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ko(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},$g=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},eD=function(n,e,t){var r=t.length,i=jy(e+2);n[i]=255&r,n[i+1]=r>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var s=0;s<r;++s)n[i+s+4]=t[s];return 8*(i+4+r)},tD=function(n,e,t,r,i,s,o,a,l,c,u){Kc(e,u++,t),++i[256];for(var A=Wx(i,15),f=A.t,h=A.l,g=Wx(s,15),w=g.t,v=g.l,p=JI(f),C=p.c,E=p.n,B=JI(w),U=B.c,k=B.n,H=new ko(19),P=0;P<C.length;++P)++H[31&C[P]];for(P=0;P<U.length;++P)++H[31&U[P]];for(var L=Wx(H,7),D=L.t,I=L.l,O=19;O>4&&!D[Gy[O-1]];--O);var W,ae,Z,Ae,V=c+5<<3,R=$g(i,Ju)+$g(s,jg)+o,J=$g(i,f)+$g(s,w)+o+14+3*O+$g(H,D)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&V<=R&&V<=J)return eD(e,u,n.subarray(l,l+c));if(Kc(e,u,1+(J<R)),u+=2,J<R){W=vl(f,h,0),ae=f,Z=vl(w,v,0),Ae=w;var ge=vl(D,I,0);for(Kc(e,u,E-257),Kc(e,u+5,k-1),Kc(e,u+10,O-4),u+=14,P=0;P<O;++P)Kc(e,u+3*P,D[Gy[P]]);u+=3*O;for(var Te=[C,U],Q=0;Q<2;++Q){var se=Te[Q];for(P=0;P<se.length;++P)Kc(e,u,ge[$=31&se[P]]),u+=D[$],$>15&&(Kc(e,u,se[P]>>5&127),u+=se[P]>>12)}}else W=gQ,ae=Ju,Z=vQ,Ae=jg;for(P=0;P<a;++P){var oe=r[P];if(oe>255){var $;Wg(e,u,W[257+($=oe>>18&31)]),u+=ae[$+257],$>7&&(Kc(e,u,oe>>23&31),u+=Gg[$]);var pe=31&oe;Wg(e,u,Z[pe]),u+=Ae[pe],pe>3&&(Wg(e,u,oe>>5&8191),u+=zg[pe])}else Wg(e,u,W[oe]),u+=ae[oe]}return Wg(e,u,W[256]),u+ae[256]},_Q=new Vy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nD=new Or(0),rD=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=0|t.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}n=r,e=i},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},qx=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Or(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return function(n,e,t,r,i,s){var o=s.z||n.length,a=new Or(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var A=_Q[e-1],f=A>>13,h=8191&A,g=(1<<t)-1,w=s.p||new ko(32768),v=s.h||new ko(g+1),p=Math.ceil(t/3),C=2*p,E=function(te){return(n[te]^n[te+1]<<p^n[te+2]<<C)&g},B=new Vy(25e3),U=new ko(288),k=new ko(32),H=0,P=0,L=s.i||0,D=0,I=s.w||0,O=0;L+2<o;++L){var V=E(L),R=32767&L,J=v[V];if(w[R]=J,v[V]=R,I<=L){var W=o-L;if((H>7e3||D>24576)&&(W>423||!c)){u=tD(n,l,0,B,U,k,P,D,O,L-O,u),D=H=P=0,O=L;for(var ae=0;ae<286;++ae)U[ae]=0;for(ae=0;ae<30;++ae)k[ae]=0}var Z=2,Ae=0,ge=h,Te=R-J&32767;if(W>2&&V==E(L-Te))for(var Q=Math.min(f,W)-1,se=Math.min(32767,L),$=Math.min(258,W);Te<=se&&--ge&&R!=J;){if(n[L+Z]==n[L+Z-Te]){for(var oe=0;oe<$&&n[L+oe]==n[L+oe-Te];++oe);if(oe>Z){if(Z=oe,Ae=Te,oe>Q)break;var pe=Math.min(Te,oe-2),de=0;for(ae=0;ae<pe;++ae){var me=L-Te+ae&32767,ze=me-w[me]&32767;ze>de&&(de=ze,J=me)}}}Te+=(R=J)-(J=w[R])&32767}if(Ae){B[D++]=268435456|Vx[Z]<<18|ZI[Ae];var st=31&Vx[Z],dt=31&ZI[Ae];P+=Gg[st]+zg[dt],++U[257+st],++k[dt],I=L+Z,++H}else B[D++]=n[L],++U[n[L]]}}for(L=Math.max(L,I);L<o;++L)B[D++]=n[L],++U[n[L]];u=tD(n,l,c,B,U,k,P,D,O,L-O,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=v,s.p=w,s.i=L,s.w=I)}else{for(L=s.w||0;L<o+c;L+=65535){var nt=L+65535;nt>=o&&(l[u/8|0]=c,nt=o),u=eD(l,u+1,n.subarray(L,nt))}s.i=o}return ph(a,0,r+jy(u)+i)}(n,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,r,i)},vi=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};function $y(n,e){e||(e={});var t=rD();t.p(n);var r=qx(n,e,e.dictionary?6:2,4);return function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=rD();i.p(e.dictionary),vi(n,2,i.d())}}(r,e),vi(r,r.length-4,t.d()),r}function Jx(n,e){return function(n,e,t,r){var i=n.length,s=r?r.length:0;if(!i||e.f&&!e.l)return t||new Or(0);var o=!t,a=o||2!=e.i,l=e.i;o&&(t=new Or(3*i));var c=function(st){var dt=t.length;if(st>dt){var nt=new Or(Math.max(2*dt,st));nt.set(t),t=nt}},u=e.f||0,A=e.p||0,f=e.b||0,h=e.l,g=e.d,w=e.m,v=e.n,p=8*i;do{if(!h){u=yl(n,A,1);var C=yl(n,A+1,3);if(A+=3,!C){var B=n[(E=jy(A)+4)-4]|n[E-3]<<8,U=E+B;if(U>i){l&&pr(0);break}a&&c(f+B),t.set(n.subarray(E,U),f),e.b=f+=B,e.p=A=8*U,e.f=u;continue}if(1==C)h=mQ,g=yQ,w=9,v=5;else if(2==C){var k=yl(n,A,31)+257,H=yl(n,A+10,15)+4,P=k+yl(n,A+5,31)+1;A+=14;for(var L=new Or(P),D=new Or(19),I=0;I<H;++I)D[Gy[I]]=yl(n,A+3*I,7);A+=3*H;var O=Gx(D),V=(1<<O)-1,R=vl(D,O,1);for(I=0;I<P;){var E,J=R[yl(n,A,V)];if(A+=15&J,(E=J>>4)<16)L[I++]=E;else{var W=0,ae=0;for(16==E?(ae=3+yl(n,A,3),A+=2,W=L[I-1]):17==E?(ae=3+yl(n,A,7),A+=3):18==E&&(ae=11+yl(n,A,127),A+=7);ae--;)L[I++]=W}}var Z=L.subarray(0,k),Ae=L.subarray(k);w=Gx(Z),v=Gx(Ae),h=vl(Z,w,1),g=vl(Ae,v,1)}else pr(1);if(A>p){l&&pr(0);break}}a&&c(f+131072);for(var ge=(1<<w)-1,Te=(1<<v)-1,Q=A;;Q=A){var se=(W=h[zx(n,A)&ge])>>4;if((A+=15&W)>p){l&&pr(0);break}if(W||pr(2),se<256)t[f++]=se;else{if(256==se){Q=A,h=null;break}var $=se-254;se>264&&($=yl(n,A,(1<<(oe=Gg[I=se-257]))-1)+YI[I],A+=oe);var pe=g[zx(n,A)&Te],de=pe>>4;if(pe||pr(3),A+=15&pe,Ae=pQ[de],de>3){var oe=zg[de];Ae+=zx(n,A)&(1<<oe)-1,A+=oe}if(A>p){l&&pr(0);break}a&&c(f+131072);var me=f+$;if(f<Ae){var Ee=s-Ae,ze=Math.min(Ae,me);for(Ee+f<0&&pr(3);f<ze;++f)t[f]=r[Ee+f]}for(;f<me;++f)t[f]=t[f-Ae]}}e.l=h,e.p=Q,e.b=f,e.f=u,h&&(u=1,e.m=w,e.d=g,e.n=v)}while(!u);return f!=t.length&&o?ph(t,0,f):t.subarray(0,f)}(n.subarray(function(n,e){return(8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&pr(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&pr(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var uD=typeof TextDecoder<"u"&&new TextDecoder;try{uD.decode(nD,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Bn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function AD(){Bn.console&&"function"==typeof Bn.console.log&&Bn.console.log.apply(Bn.console,arguments)}var Zr={log:AD,warn:function(n){Bn.console&&("function"==typeof Bn.console.warn?Bn.console.warn.apply(Bn.console,arguments):AD.call(null,arguments))},error:function(n){Bn.console&&("function"==typeof Bn.console.error?Bn.console.error.apply(Bn.console,arguments):AD(n))}};function hD(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){sd(r.response,e,t)},r.onerror=function(){Zr.error("could not download file")},r.send()}function OQ(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function rC(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var qy,fD,sd=Bn.saveAs||("object"!==(typeof window>"u"?"undefined":Nr(window))||window!==Bn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Bn.URL||Bn.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?OQ(i.href)?hD(n,e,t):rC(i,i.target="_blank"):rC(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){rC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(OQ(n))hD(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){rC(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(s=t)?s={autoBom:!1}:"object"!==Nr(s)&&(Zr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,s}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return hD(n,e,t);var i="application/octet-stream"===n.type,s=/constructor/i.test(Bn.HTMLElement)||Bn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===(typeof FileReader>"u"?"undefined":Nr(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Bn.URL||Bn.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function kQ(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var s=t[r].process,o=t[r].re.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}function dD(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=co(t,r,i,s,e[0],7,-680876936),s=co(s,t,r,i,e[1],12,-389564586),i=co(i,s,t,r,e[2],17,606105819),r=co(r,i,s,t,e[3],22,-1044525330),t=co(t,r,i,s,e[4],7,-176418897),s=co(s,t,r,i,e[5],12,1200080426),i=co(i,s,t,r,e[6],17,-1473231341),r=co(r,i,s,t,e[7],22,-45705983),t=co(t,r,i,s,e[8],7,1770035416),s=co(s,t,r,i,e[9],12,-1958414417),i=co(i,s,t,r,e[10],17,-42063),r=co(r,i,s,t,e[11],22,-1990404162),t=co(t,r,i,s,e[12],7,1804603682),s=co(s,t,r,i,e[13],12,-40341101),i=co(i,s,t,r,e[14],17,-1502002290),t=uo(t,r=co(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=uo(s,t,r,i,e[6],9,-1069501632),i=uo(i,s,t,r,e[11],14,643717713),r=uo(r,i,s,t,e[0],20,-373897302),t=uo(t,r,i,s,e[5],5,-701558691),s=uo(s,t,r,i,e[10],9,38016083),i=uo(i,s,t,r,e[15],14,-660478335),r=uo(r,i,s,t,e[4],20,-405537848),t=uo(t,r,i,s,e[9],5,568446438),s=uo(s,t,r,i,e[14],9,-1019803690),i=uo(i,s,t,r,e[3],14,-187363961),r=uo(r,i,s,t,e[8],20,1163531501),t=uo(t,r,i,s,e[13],5,-1444681467),s=uo(s,t,r,i,e[2],9,-51403784),i=uo(i,s,t,r,e[7],14,1735328473),t=Ao(t,r=uo(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ao(s,t,r,i,e[8],11,-2022574463),i=Ao(i,s,t,r,e[11],16,1839030562),r=Ao(r,i,s,t,e[14],23,-35309556),t=Ao(t,r,i,s,e[1],4,-1530992060),s=Ao(s,t,r,i,e[4],11,1272893353),i=Ao(i,s,t,r,e[7],16,-155497632),r=Ao(r,i,s,t,e[10],23,-1094730640),t=Ao(t,r,i,s,e[13],4,681279174),s=Ao(s,t,r,i,e[0],11,-358537222),i=Ao(i,s,t,r,e[3],16,-722521979),r=Ao(r,i,s,t,e[6],23,76029189),t=Ao(t,r,i,s,e[9],4,-640364487),s=Ao(s,t,r,i,e[12],11,-421815835),i=Ao(i,s,t,r,e[15],16,530742520),t=ho(t,r=Ao(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ho(s,t,r,i,e[7],10,1126891415),i=ho(i,s,t,r,e[14],15,-1416354905),r=ho(r,i,s,t,e[5],21,-57434055),t=ho(t,r,i,s,e[12],6,1700485571),s=ho(s,t,r,i,e[3],10,-1894986606),i=ho(i,s,t,r,e[10],15,-1051523),r=ho(r,i,s,t,e[1],21,-2054922799),t=ho(t,r,i,s,e[8],6,1873313359),s=ho(s,t,r,i,e[15],10,-30611744),i=ho(i,s,t,r,e[6],15,-1560198380),r=ho(r,i,s,t,e[13],21,1309151649),t=ho(t,r,i,s,e[4],6,-145523070),s=ho(s,t,r,i,e[11],10,-1120210379),i=ho(i,s,t,r,e[2],15,718787259),r=ho(r,i,s,t,e[9],21,-343485551),n[0]=mh(t,n[0]),n[1]=mh(r,n[1]),n[2]=mh(i,n[2]),n[3]=mh(s,n[3])}function iC(n,e,t,r,i,s){return e=mh(mh(e,n),mh(r,s)),mh(e<<i|e>>>32-i,t)}function co(n,e,t,r,i,s,o){return iC(e&t|~e&r,n,e,i,s,o)}function uo(n,e,t,r,i,s,o){return iC(e&r|t&~r,n,e,i,s,o)}function Ao(n,e,t,r,i,s,o){return iC(e^t^r,n,e,i,s,o)}function ho(n,e,t,r,i,s,o){return iC(t^(e|~r),n,e,i,s,o)}function HQ(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)dD(r,Wre(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(dD(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,dD(r,i),r}function Wre(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}qy=Bn.atob.bind(Bn),fD=Bn.btoa.bind(Bn);var QQ="0123456789abcdef".split("");function $re(n){for(var e="",t=0;t<4;t++)e+=QQ[n>>8*t+4&15]+QQ[n>>8*t&15];return e}function Kre(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function pD(n){return HQ(n).map(Kre).join("")}var qre="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=$re(n[e]);return n.join("")}(HQ("hello"));function mh(n,e){if(qre){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function gD(n,e){var t,r,i;if(n!==t){for(var o=(i=n,new Array(1+(256/n.length>>0)+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var A=e.length,f=0,h=0,g="";for(l=0;l<A;l++)h=(h+(u=a[f=(f+1)%256]))%256,a[f]=a[h],a[h]=u,o=a[(a[f]+a[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^o);return g}var VQ={print:4,modify:8,copy:16,"annot-forms":32};function qg(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==VQ.perm)throw new Error("Invalid permission: "+a);i+=VQ[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=pD(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=gD(this.encryptionKey,this.padding)}function Xg(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function GQ(n){if("object"!==Nr(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Bn.console&&Zr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function sC(n){if(!(this instanceof sC))return new sC(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function zQ(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function od(n,e,t,r,i){if(!(this instanceof od))return new od(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,zQ.call(this,r,i)}function Yg(n,e,t,r,i){if(!(this instanceof Yg))return new Yg(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,zQ.call(this,r,i)}function Cn(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===Nr(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=GQ;var g="1.3",w=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(S){g=S};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var p=h.__private__.getPageFormat=function(S){return v[S]};i=i||"a4";var E="compat";function B(){this.saveGraphicsState(),ee(new cn(Ye,0,0,-Ye,0,jh()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),c="n",E="advanced"}function U(){this.restoreGraphicsState(),c="S",E="compat"}var k=h.__private__.combineFontStyleAndFontWeight=function(S,j){if("bold"==S&&"normal"==j||"bold"==S&&400==j||"normal"==S&&"italic"==j||"bold"==S&&"italic"==j)throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(S=400==j||"normal"===j?"italic"===S?"italic":"normal":700!=j&&"bold"!==j||"normal"!==S?(700==j?"bold":j)+""+S:"bold"),S};h.advancedAPI=function(S){var j="compat"===E;return j&&B.call(this),"function"!=typeof S||(S(this),j&&U.call(this)),this},h.compatAPI=function(S){var j="advanced"===E;return j&&U.call(this),"function"!=typeof S||(S(this),j&&B.call(this)),this},h.isAdvancedAPI=function(){return"advanced"===E};var H,P=function(S){if("advanced"!==E)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=h.roundToPrecision=h.__private__.roundToPrecision=function(S,j){var fe=e||j;if(isNaN(S)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(fe).replace(/0+$/,"")};H=h.hpf=h.__private__.hpf="number"==typeof l?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return L(S,l)}:"smart"===l?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return L(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return L(S,16)};var D=h.f2=h.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return L(S,2)},I=h.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return L(S,3)},O=h.scale=h.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===E?S*Ye:"advanced"===E?S:void 0},R=function(S){return O(function(S){return"compat"===E?jh()-S:"advanced"===E?S:void 0}(S))};h.__private__.setPrecision=h.setPrecision=function(S){"number"==typeof parseInt(S,10)&&(e=parseInt(S,10))};var J,W="00000000000000000000000000000000",ae=h.__private__.getFileId=function(){return W},Z=h.__private__.setFileId=function(S){return W=void 0!==S&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(Bo=new qg(u.userPermissions,u.userPassword,u.ownerPassword,W)),W};h.setFileId=function(S){return Z(S),this},h.getFileId=function(){return ae()};var Ae=h.__private__.convertDateToPDFDate=function(S){var j=S.getTimezoneOffset(),fe=j<0?"+":"-",ye=Math.floor(Math.abs(j/60)),Le=Math.abs(j%60),et=[fe,$(ye),"'",$(Le),"'"].join("");return["D:",S.getFullYear(),$(S.getMonth()+1),$(S.getDate()),$(S.getHours()),$(S.getMinutes()),$(S.getSeconds()),et].join("")},ge=h.__private__.convertPDFDateToDate=function(S){var j=parseInt(S.substr(2,4),10),fe=parseInt(S.substr(6,2),10)-1,ye=parseInt(S.substr(8,2),10),Le=parseInt(S.substr(10,2),10),et=parseInt(S.substr(12,2),10),wt=parseInt(S.substr(14,2),10);return new Date(j,fe,ye,Le,et,wt,0)},Te=h.__private__.setCreationDate=function(S){var j;if(void 0===S&&(S=new Date),S instanceof Date)j=Ae(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=S}return J=j},Q=h.__private__.getCreationDate=function(S){var j=J;return"jsDate"===S&&(j=ge(J)),j};h.setCreationDate=function(S){return Te(S),this},h.getCreationDate=function(S){return Q(S)};var se,$=h.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},oe=h.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},pe=0,de=[],me=[],Ee=0,ze=[],st=[],dt=!1,nt=me;h.__private__.setCustomOutputDestination=function(S){dt=!0,nt=S};var ve=function(S){dt||(nt=S)};h.__private__.resetCustomOutputDestination=function(){dt=!1,nt=me};var ee=h.__private__.out=function(S){return S=S.toString(),Ee+=S.length+1,nt.push(S),nt},Pe=h.__private__.write=function(S){return ee(1===arguments.length?S.toString():Array.prototype.join.call(arguments," "))},Se=h.__private__.getArrayBuffer=function(S){for(var j=S.length,fe=new ArrayBuffer(j),ye=new Uint8Array(fe);j--;)ye[j]=S.charCodeAt(j);return fe},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Oe};var Fe=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(S){return Fe="advanced"===E?S/Ye:S,this};var qe,ot=h.__private__.getFontSize=h.getFontSize=function(){return"compat"===E?Fe:Fe*Ye},re=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(S){return re=S,this},h.__private__.getR2L=h.getR2L=function(){return re};var z,Ce=h.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))qe=S;else if(isNaN(S)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');qe=S}else qe=parseInt(S,10)};h.__private__.getZoomMode=function(){return qe};var Ne,Ke=h.__private__.setPageMode=function(S){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');z=S};h.__private__.getPageMode=function(){return z};var Ve=h.__private__.setLayoutMode=function(S){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ne=S};h.__private__.getLayoutMode=function(){return Ne},h.__private__.setDisplayMode=h.setDisplayMode=function(S,j,fe){return Ce(S),Ve(j),Ke(fe),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(S){if(-1===Object.keys(gt).indexOf(S))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[S]},h.__private__.getDocumentProperties=function(){return gt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(S){for(var j in gt)gt.hasOwnProperty(j)&&S[j]&&(gt[j]=S[j]);return this},h.__private__.setDocumentProperty=function(S,j){if(-1===Object.keys(gt).indexOf(S))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[S]=j};var lt,Ye,Ut,Ze,Rt,Pt={},Qt={},Bt=[],Vt={},xe={},xt={},mt={},zt=null,ct=0,Ge=[],Ct=new GQ(h),bn=n.hotfixes||[],Hn={},Zn={},Oi=[],cn=function S(j,fe,ye,Le,et,wt){if(!(this instanceof S))return new S(j,fe,ye,Le,et,wt);isNaN(j)&&(j=1),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=0),isNaN(Le)&&(Le=1),isNaN(et)&&(et=0),isNaN(wt)&&(wt=0),this._matrix=[j,fe,ye,Le,et,wt]};Object.defineProperty(cn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(cn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(cn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(cn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(cn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(cn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(cn.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(cn.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(cn.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(cn.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(cn.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(cn.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(cn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(cn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(cn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(cn.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),cn.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(S)},cn.prototype.multiply=function(S){return new cn(S.sx*this.sx+S.shy*this.shx,S.sx*this.shy+S.shy*this.sy,S.shx*this.sx+S.sy*this.shx,S.shx*this.shy+S.sy*this.sy,S.tx*this.sx+S.ty*this.shx+this.tx,S.tx*this.shy+S.ty*this.sy+this.ty)},cn.prototype.decompose=function(){var S=this.sx,j=this.shy,fe=this.shx,ye=this.sy,Le=this.tx,et=this.ty,wt=Math.sqrt(S*S+j*j),qt=(S/=wt)*fe+(j/=wt)*ye;fe-=S*qt,ye-=j*qt;var dn=Math.sqrt(fe*fe+ye*ye);return qt/=dn,S*(ye/=dn)<j*(fe/=dn)&&(S=-S,j=-j,qt=-qt,wt=-wt),{scale:new cn(wt,0,0,dn,0,0),translate:new cn(1,0,0,1,Le,et),rotate:new cn(S,j,-j,S,0,0),skew:new cn(1,0,qt,1,0,0)}},cn.prototype.toString=function(S){return this.join(" ")},cn.prototype.inversed=function(){var S=this.sx,j=this.shy,fe=this.shx,ye=this.sy,Le=this.tx,et=this.ty,wt=1/(S*ye-j*fe),qt=ye*wt,dn=-j*wt,Vn=-fe*wt,Nn=S*wt;return new cn(qt,dn,Vn,Nn,-qt*Le-Vn*et,-dn*Le-Nn*et)},cn.prototype.applyToPoint=function(S){return new p0(S.x*this.sx+S.y*this.shx+this.tx,S.x*this.shy+S.y*this.sy+this.ty)},cn.prototype.applyToRectangle=function(S){var j=this.applyToPoint(S),fe=this.applyToPoint(new p0(S.x+S.w,S.y+S.h));return new o1(j.x,j.y,fe.x-j.x,fe.y-j.y)},cn.prototype.clone=function(){return new cn(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},h.Matrix=cn;var ha=h.matrixMult=function(S,j){return j.multiply(S)},Ka=new cn(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ka;var ki=function(S,j){if(!xe[S]){var fe=(j instanceof od?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);j.id=fe,xe[S]=fe,Vt[fe]=j,Ct.publish("addPattern",j)}};h.ShadingPattern=od,h.TilingPattern=Yg,h.addShadingPattern=function(S,j){return P("addShadingPattern()"),ki(S,j),this},h.beginTilingPattern=function(S){P("beginTilingPattern()"),HE(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},h.endTilingPattern=function(S,j){P("endTilingPattern()"),j.stream=st[se].join("\n"),ki(S,j),Ct.publish("endTilingPattern",j),Oi.pop().restore()};var S,Ti=h.__private__.newObject=function(){var S=Ii();return Co(S,!0),S},Ii=h.__private__.newObjectDeferred=function(){return pe++,de[pe]=function(){return Ee},pe},Co=function(S,j){return j="boolean"==typeof j&&j,de[S]=Ee,j&&ee(S+" 0 obj"),S},gc=h.__private__.newAdditionalObject=function(){var S={objId:Ii(),content:""};return ze.push(S),S},Cl=Ii(),Eo=Ii(),fa=h.__private__.decodeColorString=function(S){var j=S.split(" ");if(2!==j.length||"g"!==j[1]&&"G"!==j[1])5===j.length&&("k"===j[4]||"K"===j[4])&&(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var fe=parseFloat(j[0]);j=[fe,fe,fe,"r"]}for(var ye="#",Le=0;Le<3;Le++)ye+=("0"+Math.floor(255*parseFloat(j[Le])).toString(16)).slice(-2);return ye},da=h.__private__.encodeColorString=function(S){var j;"string"==typeof S&&(S={ch1:S});var fe=S.ch1,ye=S.ch2,Le=S.ch3,et=S.ch4,wt="draw"===S.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof fe&&"#"!==fe.charAt(0)){var qt=new kQ(fe);if(qt.ok)fe=qt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if("string"==typeof fe&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),"string"==typeof fe&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var dn=parseInt(fe.substr(1),16);fe=dn>>16&255,ye=dn>>8&255,Le=255&dn}if(void 0===ye||void 0===et&&fe===ye&&ye===Le)j="string"==typeof fe?fe+" "+wt[0]:2===S.precision?D(fe/255)+" "+wt[0]:I(fe/255)+" "+wt[0];else if(void 0===et||"object"===Nr(et)){if(et&&!isNaN(et.a)&&0===et.a)return["1.","1.","1.",wt[1]].join(" ");j="string"==typeof fe?[fe,ye,Le,wt[1]].join(" "):2===S.precision?[D(fe/255),D(ye/255),D(Le/255),wt[1]].join(" "):[I(fe/255),I(ye/255),I(Le/255),wt[1]].join(" ")}else j="string"==typeof fe?[fe,ye,Le,et,wt[2]].join(" "):2===S.precision?[D(fe),D(ye),D(Le),D(et),wt[2]].join(" "):[I(fe),I(ye),I(Le),I(et),wt[2]].join(" ");return j},El=h.__private__.getFilters=function(){return o},pa=h.__private__.putStream=function(S){var j=(S=S||{}).data||"",fe=S.filters||El(),ye=S.alreadyAppliedFilters||[],Le=S.addLength1||!1,et=j.length,wt=S.objectId,qt=function(Mo){return Mo};if(null!==u&&void 0===wt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(qt=Bo.encryptor(wt,0));var dn={};!0===fe&&(fe=["FlateEncode"]);var Vn=S.additionalKeyValues||[],Nn=(dn=void 0!==Cn.API.processDataByFilters?Cn.API.processDataByFilters(j,fe):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(0!==dn.data.length&&(Vn.push({key:"Length",value:dn.data.length}),!0===Le&&Vn.push({key:"Length1",value:et})),0!=Nn.length)if(Nn.split("/").length-1==1)Vn.push({key:"Filter",value:Nn});else{Vn.push({key:"Filter",value:"["+Nn+"]"});for(var vr=0;vr<Vn.length;vr+=1)if("DecodeParms"===Vn[vr].key){for(var Di=[],Hi=0;Hi<dn.reverseChain.split("/").length-1;Hi+=1)Di.push("null");Di.push(Vn[vr].value),Vn[vr].value="["+Di.join(" ")+"]"}}ee("<<");for(var cs=0;cs<Vn.length;cs++)ee("/"+Vn[cs].key+" "+Vn[cs].value);ee(">>"),0!==dn.data.length&&(ee("stream"),ee(qt(dn.data)),ee("endstream"))},Sl=h.__private__.putPage=function(S){var j=S.number,fe=S.data,ye=S.objId,Le=S.contentsObjId;Co(ye,!0),ee("<</Type /Page"),ee("/Parent "+S.rootDictionaryObjId+" 0 R"),ee("/Resources "+S.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(H(S.mediaBox.bottomLeftX))+" "+parseFloat(H(S.mediaBox.bottomLeftY))+" "+H(S.mediaBox.topRightX)+" "+H(S.mediaBox.topRightY)+"]"),null!==S.cropBox&&ee("/CropBox ["+H(S.cropBox.bottomLeftX)+" "+H(S.cropBox.bottomLeftY)+" "+H(S.cropBox.topRightX)+" "+H(S.cropBox.topRightY)+"]"),null!==S.bleedBox&&ee("/BleedBox ["+H(S.bleedBox.bottomLeftX)+" "+H(S.bleedBox.bottomLeftY)+" "+H(S.bleedBox.topRightX)+" "+H(S.bleedBox.topRightY)+"]"),null!==S.trimBox&&ee("/TrimBox ["+H(S.trimBox.bottomLeftX)+" "+H(S.trimBox.bottomLeftY)+" "+H(S.trimBox.topRightX)+" "+H(S.trimBox.topRightY)+"]"),null!==S.artBox&&ee("/ArtBox ["+H(S.artBox.bottomLeftX)+" "+H(S.artBox.bottomLeftY)+" "+H(S.artBox.topRightX)+" "+H(S.artBox.topRightY)+"]"),"number"==typeof S.userUnit&&1!==S.userUnit&&ee("/UserUnit "+S.userUnit),Ct.publish("putPage",{objId:ye,pageContext:Ge[j],pageNumber:j,page:fe}),ee("/Contents "+Le+" 0 R"),ee(">>"),ee("endobj");var et=fe.join("\n");return"advanced"===E&&(et+="\nQ"),Co(Le,!0),pa({data:et,filters:El(),objectId:Le}),ee("endobj"),ye},mA=h.__private__.putPages=function(){var S,j,fe=[];for(S=1;S<=ct;S++)Ge[S].objId=Ii(),Ge[S].contentsObjId=Ii();for(S=1;S<=ct;S++)fe.push(Sl({number:S,data:st[S],objId:Ge[S].objId,contentsObjId:Ge[S].contentsObjId,mediaBox:Ge[S].mediaBox,cropBox:Ge[S].cropBox,bleedBox:Ge[S].bleedBox,trimBox:Ge[S].trimBox,artBox:Ge[S].artBox,userUnit:Ge[S].userUnit,rootDictionaryObjId:Cl,resourceDictionaryObjId:Eo}));Co(Cl,!0),ee("<</Type /Pages");var ye="/Kids [";for(j=0;j<ct;j++)ye+=fe[j]+" 0 R ";ee(ye+"]"),ee("/Count "+ct),ee(">>"),ee("endobj"),Ct.publish("postPutPages")},Qh=function(S){Ct.publish("putFont",{font:S,out:ee,newObject:Ti,putStream:pa}),!0!==S.isAlreadyPutted&&(S.objectNumber=Ti(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Xg(S.postScriptName)),ee("/Subtype /Type1"),"string"==typeof S.encoding&&ee("/Encoding /"+S.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},ie=function(S){S.objectNumber=Ti();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[H(S.x),H(S.y),H(S.x+S.width),H(S.y+S.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var fe=S.pages[1].join("\n");pa({data:fe,additionalKeyValues:j,objectId:S.objectNumber}),ee("endobj")},We=function(S,j){j||(j=21);var fe=Ti(),ye=function(S,j){var fe,ye=[],Le=1/(j-1);for(fe=0;fe<1;fe+=Le)ye.push(fe);ye.push(1),0!=S[0].offset&&S.unshift({offset:0,color:S[0].color}),1!=S[S.length-1].offset&&S.push({offset:1,color:S[S.length-1].color});for(var qt="",dn=0,Vn=0;Vn<ye.length;Vn++){for(fe=ye[Vn];fe>S[dn+1].offset;)dn++;var Nn=S[dn].offset,vr=(fe-Nn)/(S[dn+1].offset-Nn),Di=S[dn].color,Hi=S[dn+1].color;qt+=oe(Math.round((1-vr)*Di[0]+vr*Hi[0]).toString(16))+oe(Math.round((1-vr)*Di[1]+vr*Hi[1]).toString(16))+oe(Math.round((1-vr)*Di[2]+vr*Hi[2]).toString(16))}return qt.trim()}(S.colors,j),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+j+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pa({data:ye,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),ee("endobj"),S.objectNumber=Ti(),ee("<< /ShadingType "+S.type),ee("/ColorSpace /DeviceRGB");var et="/Coords ["+H(parseFloat(S.coords[0]))+" "+H(parseFloat(S.coords[1]))+" ";et+=2===S.type?H(parseFloat(S.coords[2]))+" "+H(parseFloat(S.coords[3])):H(parseFloat(S.coords[2]))+" "+H(parseFloat(S.coords[3]))+" "+H(parseFloat(S.coords[4]))+" "+H(parseFloat(S.coords[5])),ee(et+="]"),S.matrix&&ee("/Matrix ["+S.matrix.toString()+"]"),ee("/Function "+fe+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Re=function(S,j){var fe=Ii(),ye=Ti();j.push({resourcesOid:fe,objectOid:ye}),S.objectNumber=ye;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+S.boundingBox.map(H).join(" ")+"]"}),Le.push({key:"XStep",value:H(S.xStep)}),Le.push({key:"YStep",value:H(S.yStep)}),Le.push({key:"Resources",value:fe+" 0 R"}),S.matrix&&Le.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),pa({data:S.stream,additionalKeyValues:Le,objectId:S.objectNumber}),ee("endobj")},Dt=function(S){for(var j in S.objectNumber=Ti(),ee("<<"),S)switch(j){case"opacity":ee("/ca "+D(S[j]));break;case"stroke-opacity":ee("/CA "+D(S[j]))}ee(">>"),ee("endobj")},Qn=function(S){Co(S.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var S in ee("/Font <<"),Pt)Pt.hasOwnProperty(S)&&(!1===A||!0===A&&f.hasOwnProperty(S))&&ee("/"+S+" "+Pt[S].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(Vt).length>0){for(var S in ee("/Shading <<"),Vt)Vt.hasOwnProperty(S)&&Vt[S]instanceof od&&Vt[S].objectNumber>=0&&ee("/"+S+" "+Vt[S].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),ee(">>")}}(),function(S){if(Object.keys(Vt).length>0){for(var j in ee("/Pattern <<"),Vt)Vt.hasOwnProperty(j)&&Vt[j]instanceof h.TilingPattern&&Vt[j].objectNumber>=0&&Vt[j].objectNumber<S&&ee("/"+j+" "+Vt[j].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),ee(">>")}}(S.objectOid),function(){if(Object.keys(xt).length>0){var S;for(S in ee("/ExtGState <<"),xt)xt.hasOwnProperty(S)&&xt[S].objectNumber>=0&&ee("/"+S+" "+xt[S].objectNumber+" 0 R");Ct.publish("putGStateDict"),ee(">>")}}(),function(){for(var S in ee("/XObject <<"),Hn)Hn.hasOwnProperty(S)&&Hn[S].objectNumber>=0&&ee("/"+S+" "+Hn[S].objectNumber+" 0 R");Ct.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},hn=function(S){Qt[S.fontName]=Qt[S.fontName]||{},Qt[S.fontName][S.fontStyle]=S.id},kr=function(S,j,fe,ye,Le){var et={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:S,fontName:j,fontStyle:fe,encoding:ye,isStandardFont:Le||!1,metadata:{}};return Ct.publish("addFont",{font:et,instance:this}),Pt[et.id]=et,hn(et),et.id},Kr=h.__private__.pdfEscape=h.pdfEscape=function(S,j){return function(S,j){var fe,ye,Le,et,wt,qt,dn,Vn,Nn;if(Le=(j=j||{}).sourceEncoding||"Unicode",wt=j.outputEncoding,(j.autoencode||wt)&&Pt[lt].metadata&&Pt[lt].metadata[Le]&&Pt[lt].metadata[Le].encoding&&(et=Pt[lt].metadata[Le].encoding,!wt&&Pt[lt].encoding&&(wt=Pt[lt].encoding),!wt&&et.codePages&&(wt=et.codePages[0]),"string"==typeof wt&&(wt=et[wt]),wt)){for(dn=!1,qt=[],fe=0,ye=S.length;fe<ye;fe++)(Vn=wt[S.charCodeAt(fe)])?qt.push(String.fromCharCode(Vn)):qt.push(S[fe]),qt[fe].charCodeAt(0)>>8&&(dn=!0);S=qt.join("")}for(fe=S.length;void 0===dn&&0!==fe;)S.charCodeAt(fe-1)>>8&&(dn=!0),fe--;if(!dn)return S;for(qt=j.noBOM?[]:[254,255],fe=0,ye=S.length;fe<ye;fe++){if((Nn=(Vn=S.charCodeAt(fe))>>8)>>8)throw new Error("Character at position "+fe+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(Nn),qt.push(Vn-(Nn<<8))}return String.fromCharCode.apply(void 0,qt)}(S,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mc=h.__private__.beginPage=function(S){st[++ct]=[],Ge[ct]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},qs(ct),ve(st[se])},Hr=function(S,j){var fe,ye,Le;switch(t=j||t,"string"==typeof S&&(fe=p(S.toLowerCase()),Array.isArray(fe)&&(ye=fe[0],Le=fe[1])),Array.isArray(S)&&(ye=S[0]*Ye,Le=S[1]*Ye),isNaN(ye)&&(ye=i[0],Le=i[1]),(ye>14400||Le>14400)&&(Zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Le=Math.min(14400,Le)),i=[ye,Le],t.substr(0,1)){case"l":Le>ye&&(i=[Le,ye]);break;case"p":ye>Le&&(i=[Le,ye])}mc(i),UE(n1),ee(vc),0!==i1&&ee(i1+" J"),0!==s1&&ee(s1+" j"),Ct.publish("addPage",{pageNumber:ct})},So=function(S){S>0&&S<=ct&&(st.splice(S,1),Ge.splice(S,1),ct--,se>ct&&(se=ct),this.setPage(se))},qs=function(S){S>0&&S<=ct&&(se=S)},Cs=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return st.length-1},Es=function(S,j,fe){var ye,Le=void 0;return fe=fe||{},j=void 0!==j?j:Pt[lt].fontStyle,ye=(S=void 0!==S?S:Pt[lt].fontName).toLowerCase(),void 0!==Qt[ye]&&void 0!==Qt[ye][j]?Le=Qt[ye][j]:void 0!==Qt[S]&&void 0!==Qt[S][j]?Le=Qt[S][j]:!1===fe.disableWarning&&Zr.warn("Unable to look up font label for font '"+S+"', '"+j+"'. Refer to getFontList() for available fonts."),Le||fe.noFallback||null==(Le=Qt.times[j])&&(Le=Qt.times.normal),Le},$d=h.__private__.putInfo=function(){var S=Ti(),j=function(ye){return ye};for(var fe in null!==u&&(j=Bo.encryptor(S,0)),ee("<<"),ee("/Producer ("+Kr(j("jsPDF "+Cn.version))+")"),gt)gt.hasOwnProperty(fe)&&gt[fe]&&ee("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Kr(j(gt[fe]))+")");ee("/CreationDate ("+Kr(j(J))+")"),ee(">>"),ee("endobj")},Xa=h.__private__.putCatalog=function(S){var j=(S=S||{}).rootDictionaryObjId||Cl;switch(Ti(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+j+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+qe;"%"===fe.substr(fe.length-1)&&(qe=parseInt(qe)/100),"number"==typeof qe&&ee("/OpenAction [3 0 R /XYZ null null "+D(qe)+"]")}switch(Ne||(Ne="continuous"),Ne){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}z&&ee("/PageMode /"+z),Ct.publish("putCatalog"),ee(">>"),ee("endobj")},pL=h.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(pe+1)),ee("/Root "+pe+" 0 R"),ee("/Info "+(pe-1)+" 0 R"),null!==u&&ee("/Encrypt "+Bo.oid+" 0 R"),ee("/ID [ <"+W+"> <"+W+"> ]"),ee(">>")},gL=h.__private__.putHeader=function(){ee("%PDF-"+g),ee("%\xba\xdf\xac\xe0")},mL=h.__private__.putXRef=function(){var S="0000000000";ee("xref"),ee("0 "+(pe+1)),ee("0000000000 65535 f ");for(var j=1;j<=pe;j++)ee("function"==typeof de[j]?(S+de[j]()).slice(-10)+" 00000 n ":void 0!==de[j]?(S+de[j]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},vA=h.__private__.buildDocument=function(){pe=0,Ee=0,me=[],de=[],ze=[],Cl=Ii(),Eo=Ii(),ve(me),Ct.publish("buildDocument"),gL(),mA(),function(){Ct.publish("putAdditionalObjects");for(var S=0;S<ze.length;S++){var j=ze[S];Co(j.objId,!0),ee(j.content),ee("endobj")}Ct.publish("postPutAdditionalObjects")}(),function(){var S=[];(function(){for(var S in Pt)Pt.hasOwnProperty(S)&&(!1===A||!0===A&&f.hasOwnProperty(S))&&Qh(Pt[S])})(),function(){var S;for(S in xt)xt.hasOwnProperty(S)&&Dt(xt[S])}(),function(){for(var S in Hn)Hn.hasOwnProperty(S)&&ie(Hn[S])}(),function(S){var j;for(j in Vt)Vt.hasOwnProperty(j)&&(Vt[j]instanceof od?We(Vt[j]):Vt[j]instanceof Yg&&Re(Vt[j],S))}(S),Ct.publish("putResources"),S.forEach(Qn),Qn({resourcesOid:Eo,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")}(),null!==u&&(Bo.oid=Ti(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Bo.v),ee("/R "+Bo.r),ee("/U <"+Bo.toHexString(Bo.U)+">"),ee("/O <"+Bo.toHexString(Bo.O)+">"),ee("/P "+Bo.P),ee(">>"),ee("endobj")),$d(),Xa();var S=Ee;return mL(),pL(),ee("startxref"),ee(""+S),ee("%%EOF"),ve(st[se]),me.join("\n")},u0=h.__private__.getBlob=function(S){return new Blob([Se(S)],{type:"application/pdf"})},A0=h.output=h.__private__.output=((S=function(S,j){switch("string"==typeof(j=j||{})?j={filename:j}:j.filename=j.filename||"generated.pdf",S){case void 0:return vA();case"save":h.save(j.filename);break;case"arraybuffer":return Se(vA());case"blob":return u0(vA());case"bloburi":case"bloburl":if(void 0!==Bn.URL&&"function"==typeof Bn.URL.createObjectURL)return Bn.URL&&Bn.URL.createObjectURL(u0(vA()))||void 0;Zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ye=vA();try{fe=fD(ye)}catch{fe=fD(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+j.filename+";base64,"+fe;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Bn)){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(Le=j.pdfObjectUrl,et="");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",qt=Bn.open();return null!==qt&&qt.document.write(wt),qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Bn)){var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',Vn=Bn.open();if(null!==Vn){Vn.document.write(dn);var Nn=this;Vn.document.documentElement.querySelector("#pdfViewer").onload=function(){Vn.document.title=j.filename,Vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nn.output("bloburl"))}}return Vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Bn))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Di=Bn.open();if(null!==Di&&(Di.document.write(vr),Di.document.title=j.filename),Di||typeof safari>"u")return Di;break;case"datauri":case"dataurl":return Bn.document.location.href=this.output("datauristring",j);default:return null}}).foo=function(){try{return S.apply(this,arguments)}catch(ye){var j=ye.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var fe="Error in function "+j.split("\n")[0].split("<")[0]+": "+ye.message;if(!Bn.console)throw new Error(fe);Bn.console.error(fe,ye),Bn.alert&&alert(fe)}},S.foo.bar=S,S.foo),DE=function(S){return!0===Array.isArray(bn)&&bn.indexOf(S)>-1};switch(r){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=1==DE("px_scaling")?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);Ye=r}var Bo=null;Te(),Z();var FE=h.__private__.getPageInfo=h.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ge[S].objId,pageNumber:S,pageContext:Ge[S]}},Fn=h.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Ge)if(Ge[j].objId===S)break;return FE(j)},yL=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ge[se].objId,pageNumber:se,pageContext:Ge[se]}};h.addPage=function(){return Hr.apply(this,arguments),this},h.setPage=function(){return qs.apply(this,arguments),ve.call(this,st[se]),this},h.insertPage=function(S){return this.addPage(),this.movePage(se,S),this},h.movePage=function(S,j){var fe,ye;if(S>j){fe=st[S],ye=Ge[S];for(var Le=S;Le>j;Le--)st[Le]=st[Le-1],Ge[Le]=Ge[Le-1];st[j]=fe,Ge[j]=ye,this.setPage(j)}else if(S<j){fe=st[S],ye=Ge[S];for(var et=S;et<j;et++)st[et]=st[et+1],Ge[et]=Ge[et+1];st[j]=fe,Ge[j]=ye,this.setPage(j)}return this},h.deletePage=function(){return So.apply(this,arguments),this},h.__private__.text=h.text=function(S,j,fe,ye,Le){var et,wt,qt,dn,Vn,Nn,vr,Di,Hi,cs=(ye=ye||{}).scope||this;if("number"==typeof S&&"number"==typeof j&&("string"==typeof fe||Array.isArray(fe))){var Mo=fe;fe=j,j=S,S=Mo}if(arguments[3]instanceof cn?(P("The transform parameter of text() with a Matrix value"),Hi=Le):(qt=arguments[4],dn=arguments[5],"object"===Nr(vr=arguments[3])&&null!==vr||("string"==typeof qt&&(dn=qt,qt=null),"string"==typeof vr&&(dn=vr,vr=null),"number"==typeof vr&&(qt=vr,vr=null),ye={flags:vr,angle:qt,align:dn})),isNaN(j)||isNaN(fe)||null==S)throw new Error("Invalid arguments passed to jsPDF.text");if(0===S.length)return cs;var yc,Fs="",Ya="number"==typeof ye.lineHeightFactor?ye.lineHeightFactor:qd,gu=cs.internal.scaleFactor;function QE(oi){return oi=oi.split("\t").join(Array(ye.TabLen||9).join(" ")),Kr(oi,vr)}function u1(oi){for(var ai,ts=oi.concat(),Ss=[],xA=ts.length;xA--;)"string"==typeof(ai=ts.shift())?Ss.push(ai):Array.isArray(oi)&&(1===ai.length||void 0===ai[1]&&void 0===ai[2])?Ss.push(ai[0]):Ss.push([ai[0],ai[1],ai[2]]);return Ss}function A1(oi,ai){var ts;if("string"==typeof oi)ts=ai(oi)[0];else if(Array.isArray(oi)){for(var Ss,xA,y1=oi.concat(),S0=[],WE=y1.length;WE--;)"string"==typeof(Ss=y1.shift())?S0.push(ai(Ss)[0]):Array.isArray(Ss)&&"string"==typeof Ss[0]&&(xA=ai(Ss[0],Ss[1],Ss[2]),S0.push([xA[0],xA[1],xA[2]]));ts=S0}return ts}var m0=!1,h1=!0;if("string"==typeof S)m0=!0;else if(Array.isArray(S)){var f1=S.concat();wt=[];for(var v0,Xs=f1.length;Xs--;)("string"!=typeof(v0=f1.shift())||Array.isArray(v0)&&"string"!=typeof v0[0])&&(h1=!1);m0=h1}if(!1===m0)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');"string"==typeof S&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var y0=Fe/cs.internal.scaleFactor,w0=y0*(Ya-1);switch(ye.baseline){case"bottom":fe-=w0;break;case"top":fe+=y0-w0;break;case"hanging":fe+=y0-2*w0;break;case"middle":fe+=y0/2-w0}if((Nn=ye.maxWidth||0)>0&&("string"==typeof S?S=cs.splitTextToSize(S,Nn):"[object Array]"===Object.prototype.toString.call(S)&&(S=S.reduce(function(oi,ai){return oi.concat(cs.splitTextToSize(ai,Nn))},[]))),Ct.publish("preProcessText",et={text:S,x:j,y:fe,options:ye,mutex:{pdfEscape:Kr,activeFontKey:lt,fonts:Pt,activeFontSize:Fe}}),S=et.text,qt=(ye=et.options).angle,Hi instanceof cn||!qt||"number"!=typeof qt)qt&&qt instanceof cn&&(Hi=qt);else{qt*=Math.PI/180,0===ye.rotationDirection&&(qt=-qt),"advanced"===E&&(qt=-qt);var _0=Math.cos(qt),d1=Math.sin(qt);Hi=new cn(_0,d1,-d1,_0,0,0)}"advanced"!==E||Hi||(Hi=Ka),void 0!==(Vn=ye.charSpace||d0)&&(Fs+=H(O(Vn))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Di=ye.horizontalScale)&&(Fs+=H(100*Di)+" Tz\n");var ga=-1,TL=void 0!==ye.renderingMode?ye.renderingMode:ye.stroke,p1=cs.internal.getCurrentPageInfo().pageContext;switch(TL){case 0:case!1:case"fill":ga=0;break;case 1:case!0:case"stroke":ga=1;break;case 2:case"fillThenStroke":ga=2;break;case 3:case"invisible":ga=3;break;case 4:case"fillAndAddForClipping":ga=4;break;case 5:case"strokeAndAddPathForClipping":ga=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ga=6;break;case 7:case"addToPathForClipping":ga=7}-1!==ga?Fs+=ga+" Tr\n":-1!==(void 0!==p1.usedRenderingMode?p1.usedRenderingMode:-1)&&(Fs+="0 Tr\n"),-1!==ga&&(p1.usedRenderingMode=ga),dn=ye.align||"left";var Bl,b0=Fe*Ya,GE=cs.internal.pageSize.getWidth(),zE=Pt[lt];Vn=ye.charSpace||d0,Nn=ye.maxWidth||0,vr=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var Wh=[],Zd=function(oi){return cs.getStringUnitWidth(oi,{font:zE,charSpace:Vn,fontSize:Fe,doKerning:!1})*Fe/gu};if("[object Array]"===Object.prototype.toString.call(S)){var ma;wt=u1(S),"left"!==dn&&(Bl=wt.map(Zd));var Wo,$h=0;if("right"===dn){j-=Bl[0],S=[],Xs=wt.length;for(var wA=0;wA<Xs;wA++)0===wA?(Wo=pu(j),ma=yA(fe)):(Wo=O($h-Bl[wA]),ma=-b0),S.push([wt[wA],Wo,ma]),$h=Bl[wA]}else if("center"===dn){j-=Bl[0]/2,S=[],Xs=wt.length;for(var _A=0;_A<Xs;_A++)0===_A?(Wo=pu(j),ma=yA(fe)):(Wo=O(($h-Bl[_A])/2),ma=-b0),S.push([wt[_A],Wo,ma]),$h=Bl[_A]}else if("left"===dn){S=[],Xs=wt.length;for(var x0=0;x0<Xs;x0++)S.push(wt[x0])}else if("justify"===dn&&"Identity-H"===zE.encoding){S=[],Xs=wt.length,Nn=0!==Nn?Nn:GE;for(var bA=0,es=0;es<Xs;es++)if(ma=0===es?yA(fe):-b0,Wo=0===es?pu(j):bA,es<Xs-1){var g1=O((Nn-Bl[es])/(wt[es].split(" ").length-1)),$o=wt[es].split(" ");S.push([$o[0]+" ",Wo,ma]),bA=0;for(var Ml=1;Ml<$o.length;Ml++){var C0=(Zd($o[Ml-1]+" "+$o[Ml])-Zd($o[Ml]))*gu+g1;S.push(Ml==$o.length-1?[$o[Ml],C0,0]:[$o[Ml]+" ",C0,0]),bA-=C0}}else S.push([wt[es],Wo,ma]);S.push(["",bA,0])}else{if("justify"!==dn)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Xs=wt.length,Nn=0!==Nn?Nn:GE,es=0;es<Xs;es++)ma=0===es?yA(fe):-b0,Wo=0===es?pu(j):0,Wh.push(es<Xs-1?H(O((Nn-Bl[es])/(wt[es].split(" ").length-1))):0),S.push([wt[es],Wo,ma])}}!0===("boolean"==typeof ye.R2L?ye.R2L:re)&&(S=A1(S,function(oi,ai,ts){return[oi.split("").reverse().join(""),ai,ts]})),Ct.publish("postProcessText",et={text:S,x:j,y:fe,options:ye,mutex:{pdfEscape:Kr,activeFontKey:lt,fonts:Pt,activeFontSize:Fe}}),S=et.text,yc=et.mutex.isHex||!1;var m1=Pt[lt].encoding;"WinAnsiEncoding"!==m1&&"StandardEncoding"!==m1||(S=A1(S,function(oi,ai,ts){return[QE(oi),ai,ts]})),wt=u1(S),S=[];for(var Jd,ep,Kh,np=Array.isArray(wt[0])?1:0,qh="",v1=function(oi,ai,ts){var Ss="";return ts instanceof cn?(ts="number"==typeof ye.angle?ha(ts,new cn(1,0,0,1,oi,ai)):ha(new cn(1,0,0,1,oi,ai),ts),"advanced"===E&&(ts=ha(new cn(1,0,0,-1,0,0),ts)),Ss=ts.join(" ")+" Tm\n"):Ss=H(oi)+" "+H(ai)+" Td\n",Ss},Tl=0;Tl<wt.length;Tl++){switch(qh="",np){case 1:Kh=(yc?"<":"(")+wt[Tl][0]+(yc?">":")"),Jd=parseFloat(wt[Tl][1]),ep=parseFloat(wt[Tl][2]);break;case 0:Kh=(yc?"<":"(")+wt[Tl]+(yc?">":")"),Jd=pu(j),ep=yA(fe)}void 0!==Wh&&void 0!==Wh[Tl]&&(qh=Wh[Tl]+" Tw\n"),0===Tl?S.push(qh+v1(Jd,ep,Hi)+Kh):0===np?S.push(qh+Kh):1===np&&S.push(qh+v1(Jd,ep,Hi)+Kh)}S=S.join(0===np?" Tj\nT* ":" Tj\n"),S+=" Tj\n";var Il="BT\n/";return Il+=lt+" "+Fe+" Tf\n",Il+=H(Fe*Ya)+" TL\n",Il+=Xd+"\n",Il+=Fs,Il+=S,ee(Il+="ET"),f[lt]=!0,cs};var wL=h.__private__.clip=h.clip=function(S){return ee("evenodd"===S?"W*":"W"),this};h.clipEvenOdd=function(){return wL("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ee("n"),this};var du=h.__private__.isValidStyle=function(S){var j=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)&&(j=!0),j};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(S){return du(S)&&(c=S),this};var RE=h.__private__.getStyle=h.getStyle=function(S){var j=c;switch(S){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=S}return j},LE=h.close=function(){return ee("h"),this};h.stroke=function(){return ee("S"),this},h.fill=function(S){return h0("f",S),this},h.fillEvenOdd=function(S){return h0("f*",S),this},h.fillStroke=function(S){return h0("B",S),this},h.fillStrokeEvenOdd=function(S){return h0("B*",S),this};var h0=function(S,j){"object"===Nr(j)?bL(j,S):ee(S)},e1=function(S){null===S||"advanced"===E&&void 0===S||(S=RE(S),ee(S))};function _L(S,j,fe,ye,Le){var et=new Yg(j||this.boundingBox,fe||this.xStep,ye||this.yStep,this.gState,Le||this.matrix);et.stream=this.stream;var wt=S+"$$"+this.cloneIndex+++"$$";return ki(wt,et),et}var bL=function(S,j){var fe=xe[S.key],ye=Vt[fe];if(ye instanceof od)ee("q"),ee(xL(j)),ye.gState&&h.setGState(ye.gState),ee(S.matrix.toString()+" cm"),ee("/"+fe+" sh"),ee("Q");else if(ye instanceof Yg){var Le=new cn(1,0,0,-1,0,jh());S.matrix&&(Le=Le.multiply(S.matrix||Ka),fe=_L.call(ye,S.key,S.boundingBox,S.xStep,S.yStep,Le).id),ee("q"),ee("/Pattern cs"),ee("/"+fe+" scn"),ye.gState&&h.setGState(ye.gState),ee(j),ee("Q")}},xL=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},t1=h.moveTo=function(S,j){return ee(H(O(S))+" "+H(R(j))+" m"),this},Kd=h.lineTo=function(S,j){return ee(H(O(S))+" "+H(R(j))+" l"),this},Gh=h.curveTo=function(S,j,fe,ye,Le,et){return ee([H(O(S)),H(R(j)),H(O(fe)),H(R(ye)),H(O(Le)),H(R(et)),"c"].join(" ")),this};h.__private__.line=h.line=function(S,j,fe,ye,Le){if(isNaN(S)||isNaN(j)||isNaN(fe)||isNaN(ye)||!du(Le))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===E?this.lines([[fe-S,ye-j]],S,j,[1,1],Le||"S"):this.lines([[fe-S,ye-j]],S,j,[1,1]).stroke()},h.__private__.lines=h.lines=function(S,j,fe,ye,Le,et){var wt,qt,dn,Vn,Nn,Mo,Fs,yc;if("number"==typeof S&&(yc=fe,fe=j,j=S,S=yc),ye=ye||[1,1],et=et||!1,isNaN(j)||isNaN(fe)||!Array.isArray(S)||!Array.isArray(ye)||!du(Le)||"boolean"!=typeof et)throw new Error("Invalid arguments passed to jsPDF.lines");for(t1(j,fe),wt=ye[0],qt=ye[1],Vn=S.length,Mo=j,Fs=fe,dn=0;dn<Vn;dn++)2===(Nn=S[dn]).length?Kd(Mo=Nn[0]*wt+Mo,Fs=Nn[1]*qt+Fs):Gh(Nn[0]*wt+Mo,Nn[1]*qt+Fs,Nn[2]*wt+Mo,Nn[3]*qt+Fs,Mo=Nn[4]*wt+Mo,Fs=Nn[5]*qt+Fs);return et&&LE(),e1(Le),this},h.path=function(S){for(var j=0;j<S.length;j++){var fe=S[j],ye=fe.c;switch(fe.op){case"m":t1(ye[0],ye[1]);break;case"l":Kd(ye[0],ye[1]);break;case"c":Gh.apply(this,ye);break;case"h":LE()}}return this},h.__private__.rect=h.rect=function(S,j,fe,ye,Le){if(isNaN(S)||isNaN(j)||isNaN(fe)||isNaN(ye)||!du(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===E&&(ye=-ye),ee([H(O(S)),H(R(j)),H(O(fe)),H(O(ye)),"re"].join(" ")),e1(Le),this},h.__private__.triangle=h.triangle=function(S,j,fe,ye,Le,et,wt){if(isNaN(S)||isNaN(j)||isNaN(fe)||isNaN(ye)||isNaN(Le)||isNaN(et)||!du(wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-S,ye-j],[Le-fe,et-ye],[S-Le,j-et]],S,j,[1,1],wt,!0),this},h.__private__.roundedRect=h.roundedRect=function(S,j,fe,ye,Le,et,wt){if(isNaN(S)||isNaN(j)||isNaN(fe)||isNaN(ye)||isNaN(Le)||isNaN(et)||!du(wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*fe),et=Math.min(et,.5*ye),this.lines([[fe-2*Le,0],[Le*qt,0,Le,et-et*qt,Le,et],[0,ye-2*et],[0,et*qt,-Le*qt,et,-Le,et],[2*Le-fe,0],[-Le*qt,0,-Le,-et*qt,-Le,-et],[0,2*et-ye],[0,-et*qt,Le*qt,-et,Le,-et]],S+Le,j,[1,1],wt,!0),this},h.__private__.ellipse=h.ellipse=function(S,j,fe,ye,Le){if(isNaN(S)||isNaN(j)||isNaN(fe)||isNaN(ye)||!du(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*fe,wt=4/3*(Math.SQRT2-1)*ye;return t1(S+fe,j),Gh(S+fe,j-wt,S+et,j-ye,S,j-ye),Gh(S-et,j-ye,S-fe,j-wt,S-fe,j),Gh(S-fe,j+wt,S-et,j+ye,S,j+ye),Gh(S+et,j+ye,S+fe,j+wt,S+fe,j),e1(Le),this},h.__private__.circle=h.circle=function(S,j,fe,ye){if(isNaN(S)||isNaN(j)||isNaN(fe)||!du(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,j,fe,fe,ye)},h.setFont=function(S,j,fe){return fe&&(j=k(j,fe)),lt=Es(S,j,{disableWarning:!1}),this};var CL=h.__private__.getFont=h.getFont=function(){return Pt[Es.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var S,j,fe={};for(S in Qt)if(Qt.hasOwnProperty(S))for(j in fe[S]=[],Qt[S])Qt[S].hasOwnProperty(j)&&fe[S].push(j);return fe},h.addFont=function(S,j,fe,ye,Le){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==et.indexOf(arguments[3])?Le=arguments[3]:arguments[3]&&-1==et.indexOf(arguments[3])&&(fe=k(fe,ye)),kr.call(this,S,j,fe,Le=Le||"Identity-H")};var qd,n1=n.lineWidth||.200025,f0=h.__private__.getLineWidth=h.getLineWidth=function(){return n1},UE=h.__private__.setLineWidth=h.setLineWidth=function(S){return n1=S,ee(H(O(S))+" w"),this};h.__private__.setLineDash=Cn.API.setLineDash=Cn.API.setLineDashPattern=function(S,j){if(S=S||[],j=j||0,isNaN(j)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(fe){return H(O(fe))}).join(" "),j=H(O(j)),ee("["+S+"] "+j+" d"),this};var PE=h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*qd};h.__private__.getLineHeight=h.getLineHeight=function(){return Fe*qd};var NE=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(S){return"number"==typeof(S=S||1.15)&&(qd=S),this},OE=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return qd};NE(n.lineHeight);var pu=h.__private__.getHorizontalCoordinate=function(S){return O(S)},yA=h.__private__.getVerticalCoordinate=function(S){return"advanced"===E?S:Ge[se].mediaBox.topRightY-Ge[se].mediaBox.bottomLeftY-O(S)},EL=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(S){return H(pu(S))},zh=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(S){return H(yA(S))},vc=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return fa(vc)},h.__private__.setStrokeColor=h.setDrawColor=function(S,j,fe,ye){return vc=da({ch1:S,ch2:j,ch3:fe,ch4:ye,pdfColorType:"draw",precision:2}),ee(vc),this};var r1=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return fa(r1)},h.__private__.setFillColor=h.setFillColor=function(S,j,fe,ye){return r1=da({ch1:S,ch2:j,ch3:fe,ch4:ye,pdfColorType:"fill",precision:2}),ee(r1),this};var Xd=n.textColor||"0 g",SL=h.__private__.getTextColor=h.getTextColor=function(){return fa(Xd)};h.__private__.setTextColor=h.setTextColor=function(S,j,fe,ye){return Xd=da({ch1:S,ch2:j,ch3:fe,ch4:ye,pdfColorType:"text",precision:3}),this};var d0=n.charSpace,BL=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(d0||0)};h.__private__.setCharSpace=h.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return d0=S,this};var i1=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(S){var j=h.CapJoinStyles[S];if(void 0===j)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return i1=j,ee(j+" J"),this};var s1=0;h.__private__.setLineJoin=h.setLineJoin=function(S){var j=h.CapJoinStyles[S];if(void 0===j)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return s1=j,ee(j+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(H(O(S))+" M"),this},h.GState=sC,h.setGState=function(S){(S="string"==typeof S?xt[mt[S]]:kE(null,S)).equals(zt)||(ee("/"+S.id+" gs"),zt=S)};var kE=function(S,j){if(!S||!mt[S]){var fe=!1;for(var ye in xt)if(xt.hasOwnProperty(ye)&&xt[ye].equals(j)){fe=!0;break}if(fe)j=xt[ye];else{var Le="GS"+(Object.keys(xt).length+1).toString(10);xt[Le]=j,j.id=Le}return S&&(mt[S]=j.id),Ct.publish("addGState",j),j}};h.addGState=function(S,j){return kE(S,j),this},h.saveGraphicsState=function(){return ee("q"),Bt.push({key:lt,size:Fe,color:Xd}),this},h.restoreGraphicsState=function(){ee("Q");var S=Bt.pop();return lt=S.key,Fe=S.size,Xd=S.color,zt=null,this},h.setCurrentTransformationMatrix=function(S){return ee(S.toString()+" cm"),this},h.comment=function(S){return ee("#"+S),this};var p0=function(S,j){var fe=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(et){isNaN(et)||(fe=parseFloat(et))}});var ye=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(et){isNaN(et)||(ye=parseFloat(et))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(et){Le=et.toString()}}),this},o1=function(S,j,fe,ye){p0.call(this,S,j),this.type="rect";var Le=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(wt){isNaN(wt)||(Le=parseFloat(wt))}});var et=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(wt){isNaN(wt)||(et=parseFloat(wt))}}),this},a1=function(){this.page=ct,this.currentPage=se,this.pages=st.slice(0),this.pagesContext=Ge.slice(0),this.x=Ut,this.y=Ze,this.matrix=Rt,this.width=Yd(se),this.height=jh(se),this.outputDestination=nt,this.id="",this.objectNumber=-1};a1.prototype.restore=function(){ct=this.page,Ge=this.pagesContext,st=this.pages,Ut=this.x,Ze=this.y,Rt=this.matrix,l1(se=this.currentPage,this.width),c1(se,this.height),nt=this.outputDestination};var HE=function(S,j,fe,ye,Le){Oi.push(new a1),ct=se=0,st=[],Ut=S,Ze=j,Rt=Le,mc([fe,ye])};for(var g0 in h.beginFormObject=function(S,j,fe,ye,Le){return HE(S,j,fe,ye,Le),this},h.endFormObject=function(S){return function(S){if(Zn[S])Oi.pop().restore();else{var j=new a1,fe="Xo"+(Object.keys(Hn).length+1).toString(10);j.id=fe,Zn[S]=fe,Hn[fe]=j,Ct.publish("addFormObject",j),Oi.pop().restore()}}(S),this},h.doFormObject=function(S,j){var fe=Hn[Zn[S]];return ee("q"),ee(j.toString()+" cm"),ee("/"+fe.id+" Do"),ee("Q"),this},h.getFormObject=function(S){var j=Hn[Zn[S]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},h.save=function(S,j){return S=S||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,!1===j.returnPromise?(sd(u0(vA()),S),"function"==typeof sd.unload&&Bn.setTimeout&&setTimeout(sd.unload,911),this):new Promise(function(fe,ye){try{var Le=sd(u0(vA()),S);"function"==typeof sd.unload&&Bn.setTimeout&&setTimeout(sd.unload,911),fe(Le)}catch(et){ye(et.message)}})},Cn.API)Cn.API.hasOwnProperty(g0)&&("events"===g0&&Cn.API.events.length?function(S,j){var ye,Le;for(Le=j.length-1;-1!==Le;Le--)S.subscribe.apply(S,[j[Le][0]].concat("function"==typeof(ye=j[Le][1])?[ye]:ye))}(Ct,Cn.API.events):h[g0]=Cn.API[g0]);var Yd=h.getPageWidth=function(S){return(Ge[S=S||se].mediaBox.topRightX-Ge[S].mediaBox.bottomLeftX)/Ye},l1=h.setPageWidth=function(S,j){Ge[S].mediaBox.topRightX=j*Ye+Ge[S].mediaBox.bottomLeftX},jh=h.getPageHeight=function(S){return(Ge[S=S||se].mediaBox.topRightY-Ge[S].mediaBox.bottomLeftY)/Ye},c1=h.setPageHeight=function(S,j){Ge[S].mediaBox.topRightY=j*Ye+Ge[S].mediaBox.bottomLeftY};return h.internal={pdfEscape:Kr,getStyle:RE,getFont:CL,getFontSize:ot,getCharSpace:BL,getTextColor:SL,getLineHeight:PE,getLineHeightFactor:OE,getLineWidth:f0,write:Pe,getHorizontalCoordinate:pu,getVerticalCoordinate:yA,getCoordinateString:EL,getVerticalCoordinateString:zh,collections:{},newObject:Ti,newAdditionalObject:gc,newObjectDeferred:Ii,newObjectDeferredBegin:Co,getFilters:El,putStream:pa,events:Ct,scaleFactor:Ye,pageSize:{getWidth:function(){return Yd(se)},setWidth:function(S){l1(se,S)},getHeight:function(){return jh(se)},setHeight:function(S){c1(se,S)}},encryptionOptions:u,encryption:Bo,getEncryptor:function(S){return null!==u?Bo.encryptor(S,0):function(j){return j}},output:A0,getNumberOfPages:Cs,pages:st,out:ee,f2:D,f3:I,getPageInfo:FE,getPageInfoByObjId:Fn,getCurrentPageInfo:yL,getPDFVersion:w,Point:p0,Rectangle:o1,Matrix:cn,hasHotfix:DE},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Yd(se)},set:function(S){l1(se,S)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return jh(se)},set:function(S){c1(se,S)},enumerable:!0,configurable:!0}),function(S){for(var j=0,fe=Oe.length;j<fe;j++){var ye=kr.call(this,S[j][0],S[j][1],S[j][2],Oe[j][3],!0);!1===A&&(f[ye]=!0);var Le=S[j][0].split("-");hn({id:ye,fontName:Le[0],fontStyle:Le[1]||""})}Ct.publish("addFonts",{fonts:Pt,dictionary:Qt})}.call(h,Oe),lt="F1",Hr(i,t),Ct.publish("initialized"),h}qg.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},qg.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qg.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},qg.prototype.processOwnerPassword=function(n,e){return gD(pD(e).substr(0,5),n)},qg.prototype.encryptor=function(n,e){var t=pD(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return gD(t,r)}},sC.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Nr(n)!==Nr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},Cn.API={events:[]},Cn.version="2.5.2";var Ui=Cn.API,mD=1,ad=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zg=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Un=function(n){return n.toFixed(2)},vh=function(n){return n.toFixed(5)};Ui.__acroform__={};var ia=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},jQ=function(n){return n*mD},qc=function(n){var e=new $Q,t=sn.internal.getHeight(n)||0,r=sn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Un(r)),Number(Un(t))],e},Xre=Ui.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Yre=Ui.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Zre=Ui.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Xi=Ui.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Zre(n,e-1)},Yi=Ui.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Xre(n,e-1)},Zi=Ui.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Yre(n,e-1)},Jre=Ui.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Un(l.lowerLeft_X)),Number(Un(l.lowerLeft_Y)),Number(Un(l.upperRight_X)),Number(Un(l.upperRight_Y))]},eie=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=vD(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Un(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=qc(n);return s.scope=n.scope,s.stream=e.join("\n"),s}},vD=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(I){return I.split("\n")}:function(I){return[I]});var s=t,o=sn.internal.getHeight(n)||0;o=o<0?-o:o;var I,a=sn.internal.getWidth(n)||0;a=a<0?-a:a,s++;e:for(;s>0;){e="",s--;var c,u,A=oC("3",n,s).height,f=n.multiline?o-s:(o-A)/2,h=f+=2,g=0,w=0,v=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+oC(e,n,s=12).width+", FieldWidth:"+a+"\n";break}for(var p="",C=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var B=!1;if(1!==i[E].length&&v!==i[E].length-1){if((A+2)*(C+2)+2>o)continue e;p+=i[E][v],B=!0,w=E,E--}else{p=" "==(p+=i[E][v]+" ").substr(p.length-1)?p.substr(0,p.length-1):p;var U=parseInt(E),k=(I=U)+1<i.length&&oC(p+" "+i[I+1][0],n,s).width<=a-4,H=E>=i.length-1;if(k&&!H){p+=" ",v=0;continue}if(k||H){if(H)w=U;else if(n.multiline&&(A+2)*(C+2)+2>o)continue e}else{if(!n.multiline||(A+2)*(C+2)+2>o)continue e;w=U}}for(var P="",L=g;L<=w;L++){var D=i[L];if(n.multiline){if(L===w){P+=D[v]+" ",v=(v+1)%D.length;continue}if(L===g){P+=D[D.length-1]+" ";continue}}P+=D[0]+" "}switch(P=" "==P.substr(P.length-1)?P.substr(0,P.length-1):P,u=oC(P,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Un(c)+" "+Un(h)+" Td\n",e+="("+ad(P)+") Tj\n",e+=-Un(c)+" 0 Td\n",h=-(s+2),u=0,g=B?w:w+1,C++,p=""}break}return r.text=e,r.fontSize=s,r},oC=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},tie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nie=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},WQ=Ui.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(0!==s&&(i+=" "),Nr(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+ad(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},yD=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+ad(r(n))+")"},Xc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xc.prototype.toString=function(){return this.objId+" 0 R"},Xc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:WQ(i,this.objId,this.scope)}):i instanceof Xc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var $Q=function(){Xc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ia($Q,Xc);var KQ=function(){Xc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ad(t(n))+")"}},set:function(t){n=t}})};ia(KQ,Xc);var rc=function n(){Xc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');e=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xi(e,3)},set:function(p){this.F=p?Yi(e,3):Zi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');t=p}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(p){r=void 0!==p?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(p){r[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(p){r[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(p){r[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(p){r[3]=p}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof cC)return;s="FieldObject"+n.FieldNum++}var p=function(C){return C};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+ad(p(s))+")"},set:function(p){s=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(p){s=p}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(p){a=p}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/mD:c},set:function(p){c=p}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(p){u=p}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof cC||this instanceof ld))return yD(A,this.objId,this.scope)},set:function(p){p=p.toString(),A=p}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Is?f:yD(f,this.objId,this.scope)},set:function(p){p=p.toString(),f=this instanceof Is?p:"("===p.substr(0,1)?Zg(p.substr(1,p.length-2)):Zg(p)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is?Zg(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof Is?"/"+p:p}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Is?h:yD(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=this instanceof Is?p:"("===p.substr(0,1)?Zg(p.substr(1,p.length-2)):Zg(p)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is?Zg(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof Is?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(p){w=p=!!p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(p){g=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,1)},set:function(p){this.Ff=p?Yi(this.Ff,1):Zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,2)},set:function(p){this.Ff=p?Yi(this.Ff,2):Zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,3)},set:function(p){this.Ff=p?Yi(this.Ff,3):Zi(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==v)return v},set:function(p){if(-1===[0,1,2].indexOf(p))throw new Error('Invalid value "'+p+'" for attribute Q supplied.');v=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(v){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};ia(rc,Xc);var Jg=function(){rc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WQ(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,18)},set:function(t){this.Ff=t?Yi(this.Ff,18):Zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?Yi(this.Ff,19):Zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,20)},set:function(t){t?(this.Ff=Yi(this.Ff,20),e.sort()):this.Ff=Zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,22)},set:function(t){this.Ff=t?Yi(this.Ff,22):Zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(t){this.Ff=t?Yi(this.Ff,23):Zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,27)},set:function(t){this.Ff=t?Yi(this.Ff,27):Zi(this.Ff,27)}}),this.hasAppearanceStream=!1};ia(Jg,rc);var em=function(){Jg.call(this),this.fontName="helvetica",this.combo=!1};ia(em,Jg);var tm=function(){em.call(this),this.combo=!0};ia(tm,em);var aC=function(){tm.call(this),this.edit=!0};ia(aC,tm);var Is=function(){rc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,15)},set:function(t){this.Ff=t?Yi(this.Ff,15):Zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,16)},set:function(t){this.Ff=t?Yi(this.Ff,16):Zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,17)},set:function(t){this.Ff=t?Yi(this.Ff,17):Zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(t){this.Ff=t?Yi(this.Ff,26):Zi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ad(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===Nr(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ia(Is,rc);var lC=function(){Is.call(this),this.pushButton=!0};ia(lC,Is);var nm=function(){Is.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};ia(nm,Is);var cC=function(){var n,e;rc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+ad(i(r[s]))+")");return o.push(">>"),o.join("\n")},set:function(i){"object"===Nr(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=sn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ia(cC,rc),nm.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},nm.prototype.createOption=function(n){var e=new cC;return e.Parent=this,e.optionName=n,this.Kids.push(e),sie.call(this.scope,e),e};var uC=function(){Is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=sn.CheckBox.createAppearanceStream()};ia(uC,Is);var ld=function(){rc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,13)},set:function(e){this.Ff=e?Yi(this.Ff,13):Zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,21)},set:function(e){this.Ff=e?Yi(this.Ff,21):Zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(e){this.Ff=e?Yi(this.Ff,23):Zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,24)},set:function(e){this.Ff=e?Yi(this.Ff,24):Zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,25)},set:function(e){this.Ff=e?Yi(this.Ff,25):Zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(e){this.Ff=e?Yi(this.Ff,26):Zi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ia(ld,rc);var AC=function(){ld.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,14)},set:function(n){this.Ff=n?Yi(this.Ff,14):Zi(this.Ff,14)}}),this.password=!0};ia(AC,ld);var sn={CheckBox:{createAppearanceStream:function(){return{N:{On:sn.CheckBox.YesNormal},D:{On:sn.CheckBox.YesPushDown,Off:sn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=qc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=vD(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Un(sn.internal.getWidth(n))+" "+Un(sn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Un(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=qc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=sn.internal.getHeight(n),o=sn.internal.getWidth(n),a=vD(n,n.caption);return i.push("1 g"),i.push("0 0 "+Un(o)+" "+Un(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Un(o-1)+" "+Un(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Un(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=qc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Un(sn.internal.getWidth(n))+" "+Un(sn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:sn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=sn.RadioButton.Circle.YesNormal,e.D[n]=sn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=qc(n);e.scope=n.scope;var t=[],r=sn.internal.getWidth(n)<=sn.internal.getHeight(n)?sn.internal.getWidth(n)/4:sn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((r*sn.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+vh(sn.internal.getWidth(n)/2)+" "+vh(sn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=qc(n);e.scope=n.scope;var t=[],r=sn.internal.getWidth(n)<=sn.internal.getHeight(n)?sn.internal.getWidth(n)/4:sn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*sn.internal.Bezier_C).toFixed(5)),o=Number((r*sn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vh(sn.internal.getWidth(n)/2)+" "+vh(sn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+vh(sn.internal.getWidth(n)/2)+" "+vh(sn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=qc(n);e.scope=n.scope;var t=[],r=sn.internal.getWidth(n)<=sn.internal.getHeight(n)?sn.internal.getWidth(n)/4:sn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*sn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vh(sn.internal.getWidth(n)/2)+" "+vh(sn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:sn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=sn.RadioButton.Cross.YesNormal,e.D[n]=sn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=qc(n);e.scope=n.scope;var t=[],r=sn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Un(sn.internal.getWidth(n)-2)+" "+Un(sn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Un(r.x1.x)+" "+Un(r.x1.y)+" m"),t.push(Un(r.x2.x)+" "+Un(r.x2.y)+" l"),t.push(Un(r.x4.x)+" "+Un(r.x4.y)+" m"),t.push(Un(r.x3.x)+" "+Un(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=qc(n);e.scope=n.scope;var t=sn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Un(sn.internal.getWidth(n))+" "+Un(sn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Un(sn.internal.getWidth(n)-2)+" "+Un(sn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Un(t.x1.x)+" "+Un(t.x1.y)+" m"),r.push(Un(t.x2.x)+" "+Un(t.x2.y)+" l"),r.push(Un(t.x4.x)+" "+Un(t.x4.y)+" m"),r.push(Un(t.x3.x)+" "+Un(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=qc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Un(sn.internal.getWidth(n))+" "+Un(sn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};sn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=sn.internal.getWidth(n),t=sn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},sn.internal.getWidth=function(n){var e=0;return"object"===Nr(n)&&(e=jQ(n.Rect[2])),e},sn.internal.getHeight=function(n){var e=0;return"object"===Nr(n)&&(e=jQ(n.Rect[3])),e};var n,e,sie=Ui.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(rc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(tie)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mD=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new KQ,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&nie(s,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Jre(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=sn.createDefaultAppearanceStream(a),"object"===Nr(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=eie(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var A="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var h=a.appearanceStreamContent[f];if(A+="/"+f+" ",A+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];"function"==typeof g&&(g=g.call(i,a)),A+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else"function"==typeof(g=h)&&(g=g.call(i,a)),A+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);A+=">>"}l.push({key:"AP",value:"<<\n"+A+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===Nr(i)&&"function"==typeof i.putStream&&i.putStream(),delete n[r]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof rc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function qQ(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}Ui.AcroFormChoiceField=Jg,Ui.AcroFormListBox=em,Ui.AcroFormComboBox=tm,Ui.AcroFormEditBox=aC,Ui.AcroFormButton=Is,Ui.AcroFormPushButton=lC,Ui.AcroFormRadioButton=nm,Ui.AcroFormCheckBox=uC,Ui.AcroFormTextField=ld,Ui.AcroFormPasswordField=AC,Ui.AcroFormAppearance=sn,Ui.AcroForm={ChoiceField:Jg,ListBox:em,ComboBox:tm,EditBox:aC,Button:Is,PushButton:lC,RadioButton:nm,CheckBox:uC,TextField:ld,PasswordField:AC,Appearance:sn},Cn.AcroForm={ChoiceField:Jg,ListBox:em,ComboBox:tm,EditBox:aC,Button:Is,PushButton:lC,RadioButton:nm,CheckBox:uC,TextField:ld,PasswordField:AC,Appearance:sn},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(I,O){var V,R,J,W,ae,Z=e;if("RGBA"===(O=O||e)||void 0!==I.data&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(k(I))for(ae in t)for(J=t[ae],V=0;V<J.length;V+=1){for(W=!0,R=0;R<J[V].length;R+=1)if(void 0!==J[V][R]&&J[V][R]!==I[R]){W=!1;break}if(!0===W){Z=ae;break}}else for(ae in t)for(J=t[ae],V=0;V<J.length;V+=1){for(W=!0,R=0;R<J[V].length;R+=1)if(void 0!==J[V][R]&&J[V][R]!==I.charCodeAt(R)){W=!1;break}if(!0===W){Z=ae;break}}return Z===e&&O!==e&&(Z=O),Z},i=function I(O){for(var V=this.internal.write,R=this.internal.putStream,J=(0,this.internal.getFilters)();-1!==J.indexOf("FlateEncode");)J.splice(J.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:O.width}),W.push({key:"Height",value:O.height}),O.colorSpace===v.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&void 0!==O.sMask?O.objectId+2:O.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===v.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&void 0!==O.decodeParameters&&W.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var ae="",Z=0,Ae=O.transparency.length;Z<Ae;Z++)ae+=O.transparency[Z]+" "+O.transparency[Z]+" ";W.push({key:"Mask",value:"["+ae+"]"})}if(void 0!==O.sMask&&W.push({key:"SMask",value:O.objectId+1+" 0 R"}),R({data:O.data,additionalKeyValues:W,alreadyAppliedFilters:void 0!==O.filter?["/"+O.filter]:void 0,objectId:O.objectId}),V("endobj"),"sMask"in O&&void 0!==O.sMask){var Q={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:"/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,data:O.sMask};"filter"in O&&(Q.filter=O.filter),I.call(this,Q)}if(O.colorSpace===v.INDEXED){var se=this.internal.newObject();R({data:P(new Uint8Array(O.palette)),objectId:se}),V("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var O in I)i.call(this,I[O])},o=function(){var I,O=this.internal.collections.addImage_images,V=this.internal.write;for(var R in O)V("/I"+(I=O[R]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(I){return"function"==typeof n["process"+I.toUpperCase()]},A=function(I){return"object"===Nr(I)&&1===I.nodeType},f=function(I,O){if("IMG"===I.nodeName&&I.hasAttribute("src")){var V=""+I.getAttribute("src");if(0===V.indexOf("data:image/"))return qy(unescape(V).split("base64,").pop());var R=n.loadFile(V,!0);if(void 0!==R)return R}if("CANVAS"===I.nodeName){if(0===I.width||0===I.height)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var J;switch(O){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;default:J="image/jpeg"}return qy(I.toDataURL(J,1).split("base64,").pop())}},h=function(I){var O=this.internal.collections.addImage_images;if(O)for(var V in O)if(I===O[V].alias)return O[V]},g=function(I,O,V){return I||O||(I=-96,O=-96),I<0&&(I=-1*V.width*72/I/this.internal.scaleFactor),O<0&&(O=-1*V.height*72/O/this.internal.scaleFactor),0===I&&(I=O*V.width/V.height),0===O&&(O=I*V.height/V.width),[I,O]},w=function(I,O,V,R,J,W){var ae=g.call(this,V,R,J),Z=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,ge=l.call(this);if(V=ae[0],R=ae[1],ge[J.index]=J,W){W*=Math.PI/180;var Te=Math.cos(W),Q=Math.sin(W),se=function(oe){return oe.toFixed(4)},$=[se(Te),se(Q),se(-1*Q),se(Te),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,Z(I),Ae(O+R),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([Z(V),"0","0",Z(R),"0","0","cm"].join(" "))):this.internal.write([Z(V),"0","0",Z(R),Z(I),Ae(O+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},v=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var p=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=n.__addimage__.sHashCode=function(I){var O,V,R=0;if("string"==typeof I)for(V=I.length,O=0;O<V;O++)R=(R<<5)-R+I.charCodeAt(O),R|=0;else if(k(I))for(V=I.byteLength/2,O=0;O<V;O++)R=(R<<5)-R+I[O],R|=0;return R},E=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var O=!0;return 0===I.length&&(O=!1),I.length%4!=0&&(O=!1),!1===/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))&&(O=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))&&(O=!1),O},B=n.__addimage__.extractImageFromDataUrl=function(I){var O=(I=I||"").split("base64,"),V=null;if(2===O.length){var R=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(R)&&(V={mimeType:R[1],charset:R[2],data:O[1]})}return V},U=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(I){return U()&&I instanceof ArrayBuffer};var k=n.__addimage__.isArrayBufferView=function(I){return U()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},H=n.__addimage__.binaryStringToUint8Array=function(I){for(var O=I.length,V=new Uint8Array(O),R=0;R<O;R++)V[R]=I.charCodeAt(R);return V},P=n.__addimage__.arrayBufferToBinaryString=function(I){for(var O="",V=k(I)?I:new Uint8Array(I),R=0;R<V.length;R+=8192)O+=String.fromCharCode.apply(null,V.subarray(R,R+8192));return O};n.addImage=function(){var I,O,V,R,J,W,ae,Z,Ae;if("number"==typeof arguments[1]?(O=e,V=arguments[1],R=arguments[2],J=arguments[3],W=arguments[4],ae=arguments[5],Z=arguments[6],Ae=arguments[7]):(O=arguments[1],V=arguments[2],R=arguments[3],J=arguments[4],W=arguments[5],ae=arguments[6],Z=arguments[7],Ae=arguments[8]),"object"===Nr(I=arguments[0])&&!A(I)&&"imageData"in I){var ge=I;I=ge.imageData,O=ge.format||O||e,V=ge.x||V||0,R=ge.y||R||0,J=ge.w||ge.width||J,W=ge.h||ge.height||W,ae=ge.alias||ae,Z=ge.compression||Z,Ae=ge.rotation||ge.angle||Ae}var Te=this.internal.getFilters();if(void 0===Z&&-1!==Te.indexOf("FlateEncode")&&(Z="SLOW"),isNaN(V)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var Q=L.call(this,I,O,ae,Z);return w.call(this,V,R,J,W,Q,Ae),this};var L=function(I,O,V,R){var J,W,ae,Ae;if("string"==typeof I&&r(I)===e){I=unescape(I);var Z=D(I,!1);(""!==Z||void 0!==(Z=n.loadFile(I,!0)))&&(I=Z)}if(A(I)&&(I=f(I,O)),O=r(I,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if((null==(ae=V)||0===ae.length)&&(V="string"==typeof(Ae=I)||k(Ae)?C(Ae):k(Ae.data)?C(Ae.data):null),(J=h.call(this,V))||(U()&&(I instanceof Uint8Array||"RGBA"===O||(W=I,I=H(I))),J=this["process"+O.toUpperCase()](I,c.call(this),V,function(Ae){return Ae&&"string"==typeof Ae&&(Ae=Ae.toUpperCase()),Ae in n.image_compression?Ae:p.NONE}(R),W)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},D=n.__addimage__.convertBase64ToBinaryString=function(I,O){var V;O="boolean"!=typeof O||O;var R,J="";if("string"==typeof I){R=null!==(V=B(I))?V.data:I;try{J=qy(R)}catch(W){if(O)throw E(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};n.getImageProperties=function(I){var O,V,R="";if(A(I)&&(I=f(I)),"string"==typeof I&&r(I)===e&&(""===(R=D(I,!1))&&(R=n.loadFile(I)||""),I=R),V=r(I),!u(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!U()||I instanceof Uint8Array||(I=H(I)),!(O=this["process"+V.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=V,O}}(Cn.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
n=Cn.API,e=function(t){if(void 0!==t&&""!=t)return!0},Cn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,A=0;A<c.length&&!u;A++)switch((r=c[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){r=c[f];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(w.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(p(r.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(p(C))+") >>",w.content=s;var E=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),v.content=s+=" >>",this.internal.write(w.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(r.options.name){var U=this.annotations._nameMap[r.options.name];r.options.pageNumber=U.page,r.options.top=U.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var k=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var u=this.splitTextToSize(t,a=s.maxWidth).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),"center"===s.align&&(r-=l/2),"right"===s.align&&(r-=l),this.link(r,(i+=.2*c)-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(w){return void 0!==e[w.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(w){return"string"==typeof w&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=n.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&i.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&s(w)&&4==e[w.charCodeAt(0)].length},A=n.__arabicParser__.resolveLigatures=function(w){var v=0,p=t,C="",E=0;for(v=0;v<w.length;v+=1)void 0!==p[w.charCodeAt(v)]?(E++,"number"==typeof(p=p[w.charCodeAt(v)])&&(C+=String.fromCharCode(p),p=t,E=0),v===w.length-1&&(p=t,C+=w.charAt(v-(E-1)),v-=E-1,E=0)):(p=t,C+=w.charAt(v-E),v-=E,E=0);return C};n.__arabicParser__.isArabicDiacritic=function(w){return void 0!==w&&void 0!==r[w.charCodeAt(0)]};var f=n.__arabicParser__.getCorrectForm=function(w,v,p){return o(w)?!1===s(w)?-1:!c(w)||!o(v)&&!o(p)||!o(p)&&a(v)||a(w)&&!o(v)||a(w)&&l(v)||a(w)&&a(v)?0:u(w)&&o(v)&&!a(v)&&o(p)&&c(p)?3:a(w)||!o(p)?1:2:-1},h=function(w){var v=0,p=0,C=0,E="",B="",U="",k=(w=w||"").split("\\s+"),H=[];for(v=0;v<k.length;v+=1){for(H.push(""),p=0;p<k[v].length;p+=1)B=k[v][p-1],U=k[v][p+1],o(E=k[v][p])?(C=f(E,B,U),H[v]+=-1!==C?String.fromCharCode(e[E.charCodeAt(0)][C]):E):H[v]+=E;H[v]=A(H[v])}return H.join(" ")},g=n.__arabicParser__.processArabic=n.processArabic=function(){var w,v="string"==typeof arguments[0]?arguments[0]:arguments[0].text,p=[];if(Array.isArray(v)){var C=0;for(p=[],C=0;C<v.length;C+=1)Array.isArray(v[C])?p.push([h(v[C][0]),v[C][1],v[C][2]]):p.push([h(v[C])]);w=p}else w=h(v);return"string"==typeof arguments[0]?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",g])}(Cn.API),Cn.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Cn.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(w){A=w}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(w){g=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),A=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,w=0,v=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var p=c.maxWidth;p>0?"string"==typeof l?l=this.splitTextToSize(l,p):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(E,B){return E.concat(v.splitTextToSize(B,p))},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)h<(w=this.getStringUnitWidth(l[C],{font:A})*u)&&(h=w);return 0!==h&&(g=l.length),{w:h/=f,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=A.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,A,f){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,g,w,v,p=[],C=[],E=[],B={},U={},k=[],H=[],P=(f=f||{}).autoSize||!1,L=!1!==f.printHeaders,D=f.css&&void 0!==f.css["font-size"]?16*f.css["font-size"]:f.fontSize||12,I=f.margins||Object.assign({width:this.getPageWidth()},e),O="number"==typeof f.padding?f.padding:3,V=f.headerBackgroundColor||"#c8c8c8",R=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=R,this.setFontSize(D),null==A)C=p=Object.keys(u[0]),E=p.map(function(){return"left"});else if(Array.isArray(A)&&"object"===Nr(A[0]))for(p=A.map(function(ge){return ge.name}),C=A.map(function(ge){return ge.prompt||ge.name||""}),E=A.map(function(ge){return ge.align||"left"}),h=0;h<A.length;h+=1)U[A[h].name]=A[h].width*(19.049976/25.4);else Array.isArray(A)&&"string"==typeof A[0]&&(C=p=A,E=p.map(function(){return"left"}));if(P||Array.isArray(A)&&"string"==typeof A[0])for(h=0;h<p.length;h+=1){for(B[v=p[h]]=u.map(function(ge){return ge[v]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(C[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=B[v],this.setFont(void 0,"normal"),w=0;w<g.length;w+=1)k.push(this.getTextDimensions(g[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[v]=Math.max.apply(null,k)+O+O,k=[]}if(L){var J={};for(h=0;h<p.length;h+=1)J[p[h]]={},J[p[h]].text=C[h],J[p[h]].align=E[h];var W=a.call(this,J,U);H=p.map(function(ge){return new s(l,c,U[ge],W,J[ge].text,void 0,J[ge].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ae=A.reduce(function(ge,Te){return ge[Te.name]=Te.align,ge},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var Z=a.call(this,u[h],U);for(w=0;w<p.length;w+=1){var Ae=u[h][p[w]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:w,data:Ae},this),o.call(this,new s(l,c,U[p[w]],Z,Ae,h+2,ae[p[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*A/f+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}(Cn.API);var XQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wD=qQ(YQ),ZQ=[100,200,300,400,500,600,700,800,900],oie=qQ(ZQ);function _D(n){var s,e=n.family.replace(/"|'/g,"").toLowerCase(),t=XQ[s=(s=n.style)||"normal"]?s:"normal",r=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),i=function(s){return"number"==typeof wD[s=s||"normal"]?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function JQ(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var aie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},e6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function t6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function n6(n){return n.trimLeft()}function cie(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function uie(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var hC,r6,i6,bD=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(Q){return this.isStrokeTransparent=(Q=Q||{}).isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=void 0!==Q.transform?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof Q.ignoreClearRect||Q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var A=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var se=Q;Object.defineProperty(this,"pdf",{get:function(){return se}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(ve){$=!!ve}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(ve){oe=!!ve}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(ve){isNaN(ve)||(pe=ve)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(ve){isNaN(ve)||(de=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var ee;"number"==typeof ve?ee=[ve,ve,ve,ve]:((ee=new Array(4))[0]=ve[0],ee[1]=ve.length>=2?ve[1]:ee[0],ee[2]=ve.length>=3?ve[2]:ee[0],ee[3]=ve.length>=4?ve[3]:ee[1]),c.margin=ee}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(ve){me=ve}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(ve){Ee=ve}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(ve){ze=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof u&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var st=[];Object.defineProperty(this,"ctxStack",{get:function(){return st},set:function(ve){st=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var ee;ee=f(ve),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=0===ee.a,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var ee=f(ve);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=0===ee.a,this.ctx.strokeOpacity=ee.a,0===ee.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(ee.r,ee.g,ee.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){-1!==["butt","round","square"].indexOf(ve)&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){-1!==["bevel","round","miter"].indexOf(ve)&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){-1!==["right","end","center","left","start"].indexOf(ve)&&(this.ctx.textAlign=ve)}});var dt=null,te=null;Object.defineProperty(this,"fontFaces",{get:function(){return te},set:function(ve){dt=null,te=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var ee;if(this.ctx.font=ve,null!==(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))){var Pe=ee[1],Se=ee[3],Oe=ee[4],Fe=ee[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor("px"===qe?parseFloat(Oe)*this.pdf.internal.scaleFactor:"em"===qe?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var ot=function(gt){var lt,Ye,Ut=[],Ze=gt.trim();if(""===Ze)return bD;if(Ze in e6)return[e6[Ze]];for(;""!==Ze;){switch(Ye=null,lt=(Ze=n6(Ze)).charAt(0)){case'"':case"'":Ye=cie(Ze.substring(1),lt);break;default:Ye=uie(Ze)}if(null===Ye||(Ut.push(Ye[0]),""!==(Ze=n6(Ye[1]))&&","!==Ze.charAt(0)))return bD;Ze=Ze.replace(/^,/,"")}return Ut}(Fe);if(this.fontFaces){var re=function lie(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},aie,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=_D(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+t6(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=wD[l],f=JQ(c,YQ,u,u<=wD.normal?-1:1);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=XQ[l],A=0;A<u.length;++A)if(c[u[A]])return c[u[A]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(400===l&&c[500])return c[500];if(500===l&&c[400])return c[400];var A=JQ(c,ZQ,oie[l],l<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+l);return A}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+t6(s)+"'.");return o}(function nt(ve,ee){if(null===dt){var Pe=(Se=ve.getFontList(),Oe=[],Object.keys(Se).forEach(function(Fe){Se[Fe].forEach(function(qe){var ot=null;switch(qe){case"bold":ot={family:Fe,weight:"bold"};break;case"italic":ot={family:Fe,style:"italic"};break;case"bolditalic":ot={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:Fe}}null!==ot&&(ot.ref={name:Fe,style:qe},Oe.push(ot))})}),Oe);dt=function(Se){for(var Oe={},Fe=0;Fe<Se.length;++Fe){var qe=_D(Se[Fe]),ot=qe.family,re=qe.stretch,z=qe.style,Ce=qe.weight;Oe[ot]=Oe[ot]||{},Oe[ot][re]=Oe[ot][re]||{},Oe[ot][re][z]=Oe[ot][re][z]||{},Oe[ot][re][z][Ce]=qe}return Oe}(Pe.concat(ee))}var Se,Oe;return dt}(this.pdf,this.fontFaces),ot.map(function(gt){return{family:gt,stretch:"normal",weight:Se,style:Pe}}));this.pdf.setFont(re.ref.name,re.ref.style)}else{var z="";("bold"===Se||parseInt(Se,10)>=700||"bold"===Pe)&&(z="bold"),"italic"===Pe&&(z+="italic"),0===z.length&&(z="normal");for(var Ce="",Ne={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<ot.length;Ke++){if(void 0!==this.pdf.internal.getFont(ot[Ke],z,{noFallback:!0,disableWarning:!0})){Ce=ot[Ke];break}if("bolditalic"===z&&void 0!==this.pdf.internal.getFont(ot[Ke],"bold",{noFallback:!0,disableWarning:!0}))Ce=ot[Ke],z="bold";else if(void 0!==this.pdf.internal.getFont(ot[Ke],"normal",{noFallback:!0,disableWarning:!0})){Ce=ot[Ke],z="normal";break}}if(""===Ce)for(var Ve=0;Ve<ot.length;Ve++)if(Ne[ot[Ve]]){Ce=Ne[ot[Ve]];break}this.pdf.setFont(Ce=""===Ce?"Times":Ce,z)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};A.prototype.setLineDash=function(Q){this.lineDash=Q},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){B.call(this,"fill",!1)},A.prototype.stroke=function(){B.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(Q,se){if(isNaN(Q)||isNaN(se))throw Zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new o(Q,se));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new o(Q,se)},A.prototype.closePath=function(){var Q=new o(0,0),se=0;for(se=this.path.length-1;-1!==se;se--)if("begin"===this.path[se].type&&"object"===Nr(this.path[se+1])&&"number"==typeof this.path[se+1].x){Q=new o(this.path[se+1].x,this.path[se+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},A.prototype.lineTo=function(Q,se){if(isNaN(Q)||isNaN(se))throw Zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new o(Q,se));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},A.prototype.quadraticCurveTo=function(Q,se,$,oe){if(isNaN($)||isNaN(oe)||isNaN(Q)||isNaN(se))throw Zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new o($,oe)),de=this.ctx.transform.applyToPoint(new o(Q,se));this.path.push({type:"qct",x1:de.x,y1:de.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},A.prototype.bezierCurveTo=function(Q,se,$,oe,pe,de){if(isNaN(pe)||isNaN(de)||isNaN(Q)||isNaN(se)||isNaN($)||isNaN(oe))throw Zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(pe,de)),Ee=this.ctx.transform.applyToPoint(new o(Q,se)),ze=this.ctx.transform.applyToPoint(new o($,oe));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:ze.x,y2:ze.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},A.prototype.arc=function(Q,se,$,oe,pe,de){if(isNaN(Q)||isNaN(se)||isNaN($)||isNaN(oe)||isNaN(pe))throw Zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(Q,se));Q=me.x,se=me.y;var Ee=this.ctx.transform.applyToPoint(new o(0,$)),ze=this.ctx.transform.applyToPoint(new o(0,0));$=Math.sqrt(Math.pow(Ee.x-ze.x,2)+Math.pow(Ee.y-ze.y,2))}Math.abs(pe-oe)>=2*Math.PI&&(oe=0,pe=2*Math.PI),this.path.push({type:"arc",x:Q,y:se,radius:$,startAngle:oe,endAngle:pe,counterclockwise:de})},A.prototype.arcTo=function(Q,se,$,oe,pe){throw new Error("arcTo not implemented.")},A.prototype.rect=function(Q,se,$,oe){if(isNaN(Q)||isNaN(se)||isNaN($)||isNaN(oe))throw Zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,se),this.lineTo(Q+$,se),this.lineTo(Q+$,se+oe),this.lineTo(Q,se+oe),this.lineTo(Q,se),this.lineTo(Q+$,se),this.lineTo(Q,se)},A.prototype.fillRect=function(Q,se,$,oe){if(isNaN(Q)||isNaN(se)||isNaN($)||isNaN(oe))throw Zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var pe={};"butt"!==this.lineCap&&(pe.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,se,$,oe),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},A.prototype.strokeRect=function(Q,se,$,oe){if(isNaN(Q)||isNaN(se)||isNaN($)||isNaN(oe))throw Zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(Q,se,$,oe),this.stroke())},A.prototype.clearRect=function(Q,se,$,oe){if(isNaN(Q)||isNaN(se)||isNaN($)||isNaN(oe))throw Zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,se,$,oe))},A.prototype.save=function(Q){Q="boolean"!=typeof Q||Q;for(var se=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(se),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},A.prototype.restore=function(Q){Q="boolean"!=typeof Q||Q;for(var se=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(se),Q&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(Q){var se,$,oe,pe;if(!0===Q.isCanvasGradient&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))se=0,$=0,oe=0,pe=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(null!==de)se=parseInt(de[1]),$=parseInt(de[2]),oe=parseInt(de[3]),pe=1;else if(null!==(de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q)))se=parseInt(de[1]),$=parseInt(de[2]),oe=parseInt(de[3]),pe=parseFloat(de[4]);else{if(pe=1,"string"==typeof Q&&"#"!==Q.charAt(0)){var me=new kQ(Q);Q=me.ok?me.toHex():"#000000"}4===Q.length?(se=Q.substring(1,2),se+=se,$=Q.substring(2,3),$+=$,oe=Q.substring(3,4),oe+=oe):(se=Q.substring(1,3),$=Q.substring(3,5),oe=Q.substring(5,7)),se=parseInt(se,16),$=parseInt($,16),oe=parseInt(oe,16)}}return{r:se,g:$,b:oe,a:pe,style:Q}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},g=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};A.prototype.fillText=function(Q,se,$,oe){if(isNaN(se)||isNaN($)||"string"!=typeof Q)throw Zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!h.call(this)){var pe=Z(this.ctx.transform.rotation);O.call(this,{text:Q,x:se,y:$,scale:this.ctx.transform.scaleX,angle:pe,align:this.textAlign,maxWidth:oe})}},A.prototype.strokeText=function(Q,se,$,oe){if(isNaN(se)||isNaN($)||"string"!=typeof Q)throw Zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){oe=isNaN(oe)?void 0:oe;var pe=Z(this.ctx.transform.rotation);O.call(this,{text:Q,x:se,y:$,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:oe})}},A.prototype.measureText=function(Q){if("string"!=typeof Q)throw Zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var se=this.pdf,$=this.pdf.internal.scaleFactor,oe=se.internal.getFontSize(),pe=se.getStringUnitWidth(Q)*oe/se.internal.scaleFactor;return new function(me){var Ee=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:pe*=Math.round(96*$/72*1e4)/1e4})},A.prototype.scale=function(Q,se){if(isNaN(Q)||isNaN(se))throw Zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(Q,0,0,se,0,0);this.ctx.transform=this.ctx.transform.multiply($)},A.prototype.rotate=function(Q){if(isNaN(Q))throw Zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var se=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(se)},A.prototype.translate=function(Q,se){if(isNaN(Q)||isNaN(se))throw Zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,Q,se);this.ctx.transform=this.ctx.transform.multiply($)},A.prototype.transform=function(Q,se,$,oe,pe,de){if(isNaN(Q)||isNaN(se)||isNaN($)||isNaN(oe)||isNaN(pe)||isNaN(de))throw Zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(Q,se,$,oe,pe,de);this.ctx.transform=this.ctx.transform.multiply(me)},A.prototype.setTransform=function(Q,se,$,oe,pe,de){Q=isNaN(Q)?1:Q,se=isNaN(se)?0:se,$=isNaN($)?0:$,oe=isNaN(oe)?1:oe,pe=isNaN(pe)?0:pe,de=isNaN(de)?0:de,this.ctx.transform=new l(Q,se,$,oe,pe,de)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(Q,se,$,oe,pe,de,me,Ee,ze){var st=this.pdf.getImageProperties(Q),dt=1,nt=1,te=1,ve=1;void 0!==oe&&void 0!==Ee&&(te=Ee/oe,ve=ze/pe,dt=st.width/oe*Ee/oe,nt=st.height/pe*ze/pe),void 0===de&&(de=se,me=$,se=0,$=0),void 0!==oe&&void 0===Ee&&(Ee=oe,ze=pe),void 0===oe&&void 0===Ee&&(Ee=st.width,ze=st.height);for(var ee,Pe=this.ctx.transform.decompose(),Se=Z(Pe.rotate.shx),Oe=new l,Fe=(Oe=(Oe=(Oe=Oe.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new a(de-se*te,me-$*ve,oe*dt,pe*nt)),qe=v.call(this,Fe),ot=[],re=0;re<qe.length;re+=1)-1===ot.indexOf(qe[re])&&ot.push(qe[re]);if(E(ot),this.autoPaging)for(var z=ot[0],Ce=ot[ot.length-1],Ne=z;Ne<Ce+1;Ne++){this.pdf.setPage(Ne);var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=1===Ne?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=1===Ne?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ne-2)*lt;if(0!==this.ctx.clip_path.length){var Ut=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ee,this.posX+this.margin[3],-Ye+Ve+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Ut}var Ze=JSON.parse(JSON.stringify(Fe));Ze=C([Ze],this.posX+this.margin[3],-Ye+Ve+this.ctx.prevPageLastElemOffset)[0];var Rt=(Ne>z||Ne<Ce)&&w.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,lt,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,Se),Rt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Se)};var v=function(Q,se,$){var oe=[];se=se||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":oe.push(Math.floor((Q.y+pe)/$)+1);break;case"arc":oe.push(Math.floor((Q.y+pe-Q.radius)/$)+1),oe.push(Math.floor((Q.y+pe+Q.radius)/$)+1);break;case"qct":var de=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);oe.push(Math.floor((de.y+pe)/$)+1),oe.push(Math.floor((de.y+de.h+pe)/$)+1);break;case"bct":var me=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);oe.push(Math.floor((me.y+pe)/$)+1),oe.push(Math.floor((me.y+me.h+pe)/$)+1);break;case"rect":oe.push(Math.floor((Q.y+pe)/$)+1),oe.push(Math.floor((Q.y+Q.h+pe)/$)+1)}for(var Ee=0;Ee<oe.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Ee];)p.call(this);return oe},p=function(){var Q=this.fillStyle,se=this.strokeStyle,$=this.font,oe=this.lineCap,pe=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=se,this.font=$,this.lineCap=oe,this.lineWidth=pe,this.lineJoin=de},C=function(Q,se,$){for(var oe=0;oe<Q.length;oe++)switch(Q[oe].type){case"bct":Q[oe].x2+=se,Q[oe].y2+=$;case"qct":Q[oe].x1+=se,Q[oe].y1+=$;default:Q[oe].x+=se,Q[oe].y+=$}return Q},E=function(Q){return Q.sort(function(se,$){return se-$})},B=function(Q,se){for(var $,oe,pe=this.fillStyle,de=this.strokeStyle,me=this.lineCap,Ee=this.lineWidth,ze=Math.abs(Ee*this.ctx.transform.scaleX),st=this.lineJoin,dt=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),te=[],ve=0;ve<nt.length;ve++)if(void 0!==nt[ve].x)for(var ee=v.call(this,nt[ve]),Pe=0;Pe<ee.length;Pe+=1)-1===te.indexOf(ee[Pe])&&te.push(ee[Pe]);for(var Se=0;Se<te.length;Se++)for(;this.pdf.internal.getNumberOfPages()<te[Se];)p.call(this);if(E(te),this.autoPaging)for(var Oe=te[0],Fe=te[te.length-1],qe=Oe;qe<Fe+1;qe++){this.pdf.setPage(qe),this.fillStyle=pe,this.strokeStyle=de,this.lineCap=me,this.lineWidth=ze,this.lineJoin=st;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],re=1===qe?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=1===qe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(qe-2)*Ce;if(0!==this.ctx.clip_path.length){var Ke=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C($,this.posX+this.margin[3],-Ne+re+this.ctx.prevPageLastElemOffset),U.call(this,Q,!0),this.path=Ke}if(oe=JSON.parse(JSON.stringify(dt)),this.path=C(oe,this.posX+this.margin[3],-Ne+re+this.ctx.prevPageLastElemOffset),!1===se||0===qe){var Ve=(qe>Oe||qe<Fe)&&w.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ce,null).clip().discardPath()),U.call(this,Q,se),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=ze,U.call(this,Q,se),this.lineWidth=Ee;this.path=dt},U=function(Q,se){if(("stroke"!==Q||se||!g.call(this))&&("stroke"===Q||se||!h.call(this))){for(var $,oe,pe=[],de=this.path,me=0;me<de.length;me++){var Ee=de[me];switch(Ee.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:Ee,deltas:[],abs:[]});break;case"lt":var ze=pe.length;if(de[me-1]&&!isNaN(de[me-1].x)&&($=[Ee.x-de[me-1].x,Ee.y-de[me-1].y],ze>0))for(;ze>=0;ze--)if(!0!==pe[ze-1].close&&!0!==pe[ze-1].begin){pe[ze-1].deltas.push($),pe[ze-1].abs.push(Ee);break}break;case"bct":pe[pe.length-1].deltas.push($=[Ee.x1-de[me-1].x,Ee.y1-de[me-1].y,Ee.x2-de[me-1].x,Ee.y2-de[me-1].y,Ee.x-de[me-1].x,Ee.y-de[me-1].y]);break;case"qct":pe[pe.length-1].deltas.push($=[de[me-1].x+2/3*(Ee.x1-de[me-1].x)-de[me-1].x,de[me-1].y+2/3*(Ee.y1-de[me-1].y)-de[me-1].y,Ee.x+2/3*(Ee.x1-Ee.x)-de[me-1].x,Ee.y+2/3*(Ee.y1-Ee.y)-de[me-1].y,Ee.x-de[me-1].x,Ee.y-de[me-1].y]);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(Ee)}}oe=se?null:"stroke"===Q?"stroke":"fill";for(var Pe=!1,Se=0;Se<pe.length;Se++)if(pe[Se].arc)for(var Oe=pe[Se].abs,Fe=0;Fe<Oe.length;Fe++){var qe=Oe[Fe];"arc"===qe.type?P.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,se,!Pe):V.call(this,qe.x,qe.y),Pe=!0}else!0===pe[Se].close?(this.pdf.internal.out("h"),Pe=!1):!0!==pe[Se].begin&&(R.call(this,pe[Se].deltas,pe[Se].start.x,pe[Se].start.y),Pe=!0);oe&&L.call(this,oe),se&&D.call(this)}},k=function(Q){var se=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=se*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-$;case"top":return Q+se-$;case"hanging":return Q+se-2*$;case"middle":return Q+se/2-$;default:return Q}},H=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(se,$){this.colorStops.push([se,$])},Q.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(Q,se,$,oe,pe,de,me,Ee,ze){for(var st=W.call(this,$,oe,pe,de),dt=0;dt<st.length;dt++){var nt=st[dt];0===dt&&(ze?I.call(this,nt.x1+Q,nt.y1+se):V.call(this,nt.x1+Q,nt.y1+se)),J.call(this,Q,se,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}Ee?D.call(this):L.call(this,me)},L=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(Q,se){this.pdf.internal.out(t(Q)+" "+r(se)+" m")},O=function(Q){var se;switch(Q.align){case"right":case"end":se="right";break;case"center":se="center";break;default:se="left"}var $=this.pdf.getTextDimensions(Q.text),oe=k.call(this,Q.y),pe=H.call(this,oe)-$.h,de=this.ctx.transform.applyToPoint(new o(Q.x,oe)),me=this.ctx.transform.decompose(),Ee=new l;Ee=(Ee=(Ee=Ee.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var ze,st,dt,nt=this.ctx.transform.applyToRectangle(new a(Q.x,oe,$.w,$.h)),te=Ee.applyToRectangle(new a(Q.x,pe,$.w,$.h)),ve=v.call(this,te),ee=[],Pe=0;Pe<ve.length;Pe+=1)-1===ee.indexOf(ve[Pe])&&ee.push(ve[Pe]);if(E(ee),this.autoPaging)for(var Se=ee[0],Oe=ee[ee.length-1],Fe=Se;Fe<Oe+1;Fe++){this.pdf.setPage(Fe);var qe=1===Fe?this.posY+this.margin[0]:this.margin[0],re=this.pdf.internal.pageSize.height-this.margin[2],z=re-this.margin[0],Ce=this.pdf.internal.pageSize.width-this.margin[1],Ne=Ce-this.margin[3],Ke=1===Fe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Fe-2)*z;if(0!==this.ctx.clip_path.length){var Ve=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ze,this.posX+this.margin[3],-1*Ke+qe),U.call(this,"fill",!0),this.path=Ve}var gt=C([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-Ke+qe+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(st=this.pdf.internal.getFontSize(),this.pdf.setFontSize(st*Q.scale),this.lineWidth=(dt=this.lineWidth)*Q.scale);var lt="text"!==this.autoPaging;if(lt||gt.y+gt.h<=re){if(lt||gt.y>=qe&&gt.x<=Ce){var Ye=lt?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Ce-gt.x)[0],Ut=C([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-Ke+qe+this.ctx.prevPageLastElemOffset)[0],Ze=lt&&(Fe>Se||Fe<Oe)&&w.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,z,null).clip().discardPath()),this.pdf.text(Ye,Ut.x,Ut.y,{angle:Q.angle,align:se,renderingMode:Q.renderingMode}),Ze&&this.pdf.restoreGraphicsState()}}else gt.y<re&&(this.ctx.prevPageLastElemOffset+=re-gt.y);Q.scale>=.01&&(this.pdf.setFontSize(st),this.lineWidth=dt)}else Q.scale>=.01&&(st=this.pdf.internal.getFontSize(),this.pdf.setFontSize(st*Q.scale),this.lineWidth=(dt=this.lineWidth)*Q.scale),this.pdf.text(Q.text,de.x+this.posX,de.y+this.posY,{angle:Q.angle,align:se,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(st),this.lineWidth=dt)},V=function(Q,se,$,oe){oe=oe||0,this.pdf.internal.out(t(Q+($=$||0))+" "+r(se+oe)+" l")},R=function(Q,se,$){return this.pdf.lines(Q,se,$,null,null)},J=function(Q,se,$,oe,pe,de,me,Ee){this.pdf.internal.out([e(i($+Q)),e(s(oe+se)),e(i(pe+Q)),e(s(de+se)),e(i(me+Q)),e(s(Ee+se)),"c"].join(" "))},W=function(Q,se,$,oe){for(var pe=2*Math.PI,de=Math.PI/2;se>$;)se-=pe;var me=Math.abs($-se);me<pe&&oe&&(me=pe-me);for(var Ee=[],ze=oe?-1:1,st=se;me>1e-5;){var dt=st+ze*Math.min(me,de);Ee.push(ae.call(this,Q,st,dt)),me-=Math.abs(dt-st),st=dt}return Ee},ae=function(Q,se,$){var oe=($-se)/2,pe=Q*Math.cos(oe),de=Q*Math.sin(oe),me=pe,Ee=-de,ze=me*me+Ee*Ee,st=ze+me*pe+Ee*de,dt=4/3*(Math.sqrt(2*ze*st)-st)/(me*de-Ee*pe),nt=me-dt*Ee,te=Ee+dt*me,ve=nt,ee=-te,Pe=oe+se,Se=Math.cos(Pe),Oe=Math.sin(Pe);return{x1:Q*Math.cos(se),y1:Q*Math.sin(se),x2:nt*Se-te*Oe,y2:nt*Oe+te*Se,x3:ve*Se-ee*Oe,y3:ve*Oe+ee*Se,x4:Q*Math.cos($),y4:Q*Math.sin($)}},Z=function(Q){return 180*Q/Math.PI},Ae=function(Q,se,$,oe,pe,de){var me=Q+.5*($-Q),Ee=se+.5*(oe-se),ze=pe+.5*($-pe),st=de+.5*(oe-de),dt=Math.min(Q,pe,me,ze),nt=Math.max(Q,pe,me,ze),te=Math.min(se,de,Ee,st),ve=Math.max(se,de,Ee,st);return new a(dt,te,nt-dt,ve-te)},ge=function(Q,se,$,oe,pe,de,me,Ee){var ze,st,dt,nt,te,ve,ee,Pe,Se,Oe,Fe,qe,ot,re,z=$-Q,Ce=oe-se,Ne=pe-$,Ke=de-oe,Ve=me-pe,gt=Ee-de;for(st=0;st<41;st++)Se=(ee=(dt=Q+(ze=st/40)*z)+ze*((te=$+ze*Ne)-dt))+ze*(te+ze*(pe+ze*Ve-te)-ee),Oe=(Pe=(nt=se+ze*Ce)+ze*((ve=oe+ze*Ke)-nt))+ze*(ve+ze*(de+ze*gt-ve)-Pe),0==st?(Fe=Se,qe=Oe,ot=Se,re=Oe):(Fe=Math.min(Fe,Se),qe=Math.min(qe,Oe),ot=Math.max(ot,Se),re=Math.max(re,Oe));return new a(Math.round(Fe),Math.round(qe),Math.round(ot-Fe),Math.round(re-qe))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Cn.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var o,a,l,c,u,A,f,h,g,w;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(A=(u=((u=((u=((u=(u-(w=u%85))/85)-(g=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,a.push(A+33,f+33,h+33,g+33,w+33)):a.push(122);return function(v,p){for(var C=p;C>0;C--)v.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,A=String,f="length",h=255,g="charCodeAt",w="slice",v="replace";for(s[w](-2),s=s[w](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[w](s[f]%5||5))[f];u>c;c+=5)a=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),l.push(h&a>>24,h&a>>16,h&a>>8,h&a);return function(p,C){for(var E=C;E>0;E--)p.pop()}(l,o[f]),A.fromCharCode.apply(A,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return(o=$y(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Cn.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var a=void 0;try{a=function(l,c,u){var A=new XMLHttpRequest,f=0,h=function(g){var w=g.length,v=[],p=String.fromCharCode;for(f=0;f<w;f+=1)v.push(p(255&g.charCodeAt(f)));return v.join("")};if(A.open("GET",l,!c),A.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(A.onload=function(){u(200===A.status?h(this.responseText):void 0)}),A.send(null),c&&200===A.status)return h(A.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(Cn.API),function(n){function e(){return(Bn.html2canvas?Promise.resolve(Bn.html2canvas):Promise.resolve().then(jt.t.bind(jt,4456,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Bn.DOMPurify?Promise.resolve(Bn.DOMPurify):jt.e(896).then(jt.t.bind(jt,896,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Nr(o);return"undefined"===a?"undefined":"string"===a||o instanceof String?"string":"number"===a||o instanceof Number?"number":"function"===a||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===a?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var A=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)!0!==u&&1===f.nodeType&&"SCRIPT"===f.nodeName||A.appendChild(l(f,u));return 1===c.nodeType&&("CANVAS"===c.nodeName?(A.width=c.width,A.height=c.height,A.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(A.value=c.value),A.addEventListener("load",function(){A.scrollTop=c.scrollTop,A.scrollLeft=c.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===a.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var h=c[f],g=h.src.find(function(w){return"truetype"===w.format});g&&l.addFont(g.url,h.ref.name,h.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=0==A.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,l.context2d.save(!0),a(this.prop.container,A)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==r(o))return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Cn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return null!=o&&(this.progress.val=o),null!=a&&(this.progress.state=a),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(A){return l.updateProgress(null,c),A}).then(c,u).then(function(A){return l.updateProgress(1),A})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Cn.getPageSize=function(o,a,l){if("object"===Nr(o)){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,A=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var h,g=0,w=0;if(f.hasOwnProperty(A))g=f[A][1]/u,w=f[A][0]/u;else try{g=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===o||"portrait"===o)o="p",w>g&&(h=w,w=g,g=h);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",g>w&&(h=w,w=g,g=h)}return{width:w,height:g,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(_D):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Cn.API),Cn.API.addJS=function(n){return i6=n,this.internal.events.subscribe("postPutResources",function(){hC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==hC&&void 0!==r6&&this.internal.out("/Names <</JavaScript "+hC+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var A=t.internal.newObject();u.push(A);var f=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return null==r&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Cn.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(l=function(A){for(var f,h=256*A.charCodeAt(4)+A.charCodeAt(5),g=A.length,w={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(-1!==e.indexOf(A.charCodeAt((v+=h)+1))){f=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),w={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:f,numcomponents:A.charCodeAt(v+9)};break}h=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Cn.API);var rm,fC,s6,o6,a6,Aie=function(){var n,e,t;function r(s){var o,l,c,u,A,f,h,g,w,v,p,C,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(o=this.readUInt32(),g=function(){var B,U;for(U=[],B=0;B<4;++B)U.push(String.fromCharCode(this.data[this.pos++]));return U}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,A.delay=1e3*u/c,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for("fdAT"===g&&(this.pos+=4,o-=4),s=A?.data||this.imgData,p=0;0<=o?p<o:p>o;0<=o?++p:--p)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(C=0;0<=w?C<w:C>w;0<=w?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(v=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,v.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,v.slice(f+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(E=this.colorType)||6===E,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function u(A,f,h,g){var w,v,p,C,E,B,U,k,P,L,D,I,O,V,R,J,W,ae,Z,Ae,ge=Math.ceil((c.width-A)/h),Te=Math.ceil((c.height-f)/g),Q=c.width==ge&&c.height==Te;for(O=o*ge,D=Q?a:new Uint8Array(O*Te),B=s.length,I=0,v=0;I<Te&&l<B;){switch(s[l++]){case 0:for(C=J=0;J<O;C=J+=1)D[v++]=s[l++];break;case 1:for(C=W=0;W<O;C=W+=1)w=s[l++],E=C<o?0:D[v-o],D[v++]=(w+E)%256;break;case 2:for(C=ae=0;ae<O;C=ae+=1)w=s[l++],p=(C-C%o)/o,D[v++]=((V=I&&D[(I-1)*O+p*o+C%o])+w)%256;break;case 3:for(C=Z=0;Z<O;C=Z+=1)w=s[l++],p=(C-C%o)/o,E=C<o?0:D[v-o],V=I&&D[(I-1)*O+p*o+C%o],D[v++]=(w+Math.floor((E+V)/2))%256;break;case 4:for(C=Ae=0;Ae<O;C=Ae+=1)w=s[l++],p=(C-C%o)/o,0===I?V=R=0:(V=D[(I-1)*O+p*o+C%o],R=p&&D[(I-1)*O+(p-1)*o+C%o]),U=(E=C<o?0:D[v-o])+V-R,k=Math.abs(U-E),P=Math.abs(U-V),L=Math.abs(U-R),D[v++]=(w+(k<=P&&k<=L?E:P<=L?V:R))%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!Q){var se=((f+I*g)*c.width+A)*o,$=I*O;for(C=0;C<ge;C+=1){for(var oe=0;oe<o;oe+=1)a[se++]=D[$++];se+=(h-1)*o}}I++}}return s=Jx(s),1==c.interlaceMethod?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,A,f,h;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=A=0,f=a.length;A<f;o=A+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=null!=(h=u[s++])?h:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,A,f,h,g,w,v,p;if(l=this.colors,w=null,a=this.hasAlphaChannel,this.palette.length&&(w=null!=(p=this._decodedPalette)?p:this._decodedPalette=this.decodePalette(),l=4,a=!0),g=(c=s.data||s).length,A=w||o,u=f=0,1===l)for(;u<g;)h=w?4*o[u/4]:f,v=A[h++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=a?A[h++]:255,f=h;else for(;u<g;)h=w?4*o[u/4]:f,c[u++]=A[h++],c[u++]=A[h++],c[u++]=A[h++],c[u++]=a?A[h++]:255,f=h},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if("[object Window]"===Object.prototype.toString.call(Bn)){try{e=Bn.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(!0===i())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,A,f,h;if(this.animation){for(h=[],a=u=0,A=(f=this.animation.frames).length;u<A;a=++u)l=s.createImageData((o=f[a]).width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,h.push(o.image=n(l));return h}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===c?.disposeOp?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&s.putImageData(c.imageData,c.xOffset,c.yOffset),0===a.blendOp&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,A,f=this;return a=0,c=(A=this.animation).numFrames,l=A.frames,u=A.numPlays,(o=function(){var h,g;if(h=a++%c,g=l[h],f.renderFrame(s,h),c>1&&a/c<u)return f.animation._timeout=setTimeout(o,g.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();function hie(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=1<<1+(7&i);e++,e++;var a=null,l=null;i>>7&&(a=e,l=o,e+=3*o);var c=!0,u=[],A=0,f=null,h=0,g=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,g=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var w=n[e++];A=n[e++]|n[e++]<<8,f=n[e++],!(1&w)&&(f=null),h=w>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var v=n[e++]|n[e++]<<8,p=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,B=n[e++],U=B>>6&1,k=1<<1+(7&B),H=a,P=l,L=!1;B>>7&&(L=!0,H=e,P=k,e+=3*k);var D=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}u.push({x:v,y:p,width:C,height:E,has_local_palette:L,palette_offset:H,palette_size:P,data_offset:D,data_length:e-D,transparent_index:f,interlaced:!!U,delay:A,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(O){if(O<0||O>=u.length)throw new Error("Frame index out of range.");return u[O]},this.decodeAndBlitFrameBGRA=function(O,V){var R=this.frameInfo(O),J=R.width*R.height,W=new Uint8Array(J);l6(n,R.data_offset,W,J);var ae=R.palette_offset,Z=R.transparent_index;null===Z&&(Z=256);var Ae=R.width,ge=t-Ae,Te=Ae,Q=4*(R.y*t+R.x),se=4*((R.y+R.height)*t+R.x),$=Q,oe=4*ge;!0===R.interlaced&&(oe+=4*t*7);for(var pe=8,de=0,me=W.length;de<me;++de){var Ee=W[de];if(0===Te&&(Te=Ae,($+=oe)>=se&&(oe=4*ge+4*t*(pe-1),$=Q+(Ae+ge)*(pe<<1),pe>>=1)),Ee===Z)$+=4;else{var ze=n[ae+3*Ee],st=n[ae+3*Ee+1];V[$++]=n[ae+3*Ee+2],V[$++]=st,V[$++]=ze,V[$++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(O,V){var R=this.frameInfo(O),J=R.width*R.height,W=new Uint8Array(J);l6(n,R.data_offset,W,J);var ae=R.palette_offset,Z=R.transparent_index;null===Z&&(Z=256);var Ae=R.width,ge=t-Ae,Te=Ae,Q=4*(R.y*t+R.x),se=4*((R.y+R.height)*t+R.x),$=Q,oe=4*ge;!0===R.interlaced&&(oe+=4*t*7);for(var pe=8,de=0,me=W.length;de<me;++de){var Ee=W[de];if(0===Te&&(Te=Ae,($+=oe)>=se&&(oe=4*ge+4*t*(pe-1),$=Q+(Ae+ge)*(pe<<1),pe>>=1)),Ee===Z)$+=4;else{var st=n[ae+3*Ee+1],dt=n[ae+3*Ee+2];V[$++]=n[ae+3*Ee],V[$++]=st,V[$++]=dt,V[$++]=255}--Te}}}function l6(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,A=0,f=0,h=n[e++],g=new Int32Array(4096),w=null;;){for(;u<16&&0!==h;)A|=n[e++]<<u,u+=8,1===h?h=n[e++]:--h;if(u<l)break;var v=A&c;if(A>>=l,u-=l,v!==s){if(v===o)break;for(var p=v<a?v:w,C=0,E=p;E>s;)E=g[E]>>8,++C;var B=E;if(f+C+(p!==v?1:0)>r)return void Zr.log("Warning, gif stream longer than expected.");t[f++]=B;var U=f+=C;for(p!==v&&(t[f++]=B),E=p;C--;)t[--U]=255&(E=g[E]),E>>=8;null!==w&&a<4096&&(g[a++]=w<<8|B,a>=c+1&&l<12&&(++l,c=c<<1|1)),w=v}else a=o+1,c=(1<<(l=i+1))-1,w=null}return f!==r&&Zr.log("Warning, gif stream shorter than expected."),t}function xD(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(65535),f=new Array(65535),h=new Array(64),g=new Array(64),w=[],v=0,p=7,C=new Array(64),E=new Array(64),B=new Array(64),U=new Array(256),k=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(Q,se){for(var $=0,oe=0,pe=new Array,de=1;de<=16;de++){for(var me=1;me<=Q[de];me++)pe[se[oe]]=[],pe[se[oe]][0]=$,pe[se[oe]][1]=de,oe++,$++;$*=2}return pe}function ae(Q){for(var se=Q[0],$=Q[1]-1;$>=0;)se&1<<$&&(v|=1<<p),$--,--p<0&&(255==v?(Z(255),Z(0)):Z(v),p=7,v=0)}function Z(Q){w.push(Q)}function Ae(Q){Z(Q>>8&255),Z(255&Q)}function ge(Q,se,$,oe,pe){for(var de,me=pe[0],Ee=pe[240],ze=function(Oe,Fe){var qe,ot,re,z,Ce,Ne,Ke,Ve,gt,lt,Ye=0;for(gt=0;gt<8;++gt){var Ut=(qe=Oe[Ye])+(Ve=Oe[Ye+7]),Ze=qe-Ve,Rt=(ot=Oe[Ye+1])+(Ke=Oe[Ye+6]),Pt=ot-Ke,Qt=(re=Oe[Ye+2])+(Ne=Oe[Ye+5]),Bt=re-Ne,Vt=(z=Oe[Ye+3])+(Ce=Oe[Ye+4]),xe=z-Ce,xt=Ut+Vt,mt=Ut-Vt,zt=Rt+Qt,ct=Rt-Qt;Oe[Ye]=xt+zt,Oe[Ye+4]=xt-zt;var Ge=.707106781*(ct+mt);Oe[Ye+2]=mt+Ge,Oe[Ye+6]=mt-Ge;var Ct=.382683433*((xt=xe+Bt)-(ct=Pt+Ze)),bn=.5411961*xt+Ct,Hn=1.306562965*ct+Ct,Zn=.707106781*(zt=Bt+Pt),Oi=Ze+Zn,cn=Ze-Zn;Oe[Ye+5]=cn+bn,Oe[Ye+3]=cn-bn,Oe[Ye+1]=Oi+Hn,Oe[Ye+7]=Oi-Hn,Ye+=8}for(Ye=0,gt=0;gt<8;++gt){var ha=(qe=Oe[Ye])+(Ve=Oe[Ye+56]),Ka=qe-Ve,ki=(ot=Oe[Ye+8])+(Ke=Oe[Ye+48]),Ti=ot-Ke,Ii=(re=Oe[Ye+16])+(Ne=Oe[Ye+40]),Co=re-Ne,gc=(z=Oe[Ye+24])+(Ce=Oe[Ye+32]),Cl=z-Ce,Eo=ha+gc,fa=ha-gc,da=ki+Ii,El=ki-Ii;Oe[Ye]=Eo+da,Oe[Ye+32]=Eo-da;var pa=.707106781*(El+fa);Oe[Ye+16]=fa+pa,Oe[Ye+48]=fa-pa;var Sl=.382683433*((Eo=Cl+Co)-(El=Ti+Ka)),mA=.5411961*Eo+Sl,Qh=1.306562965*El+Sl,Vh=.707106781*(da=Co+Ti),ie=Ka+Vh,Ie=Ka-Vh;Oe[Ye+40]=Ie+mA,Oe[Ye+24]=Ie-mA,Oe[Ye+8]=ie+Qh,Oe[Ye+56]=ie-Qh,Ye++}for(gt=0;gt<64;++gt)h[gt]=(lt=Oe[gt]*Fe[gt])>0?lt+.5|0:lt-.5|0;return h}(Q,se),st=0;st<64;++st)g[H[st]]=ze[st];var dt=g[0]-$;$=g[0],0==dt?ae(oe[0]):(ae(oe[f[de=32767+dt]]),ae(A[de]));for(var nt=63;nt>0&&0==g[nt];)nt--;if(0==nt)return ae(me),$;for(var te,ve=1;ve<=nt;){for(var ee=ve;0==g[ve]&&ve<=nt;)++ve;var Pe=ve-ee;if(Pe>=16){te=Pe>>4;for(var Se=1;Se<=te;++Se)ae(Ee);Pe&=15}ae(pe[(Pe<<4)+f[de=32767+g[ve]]]),ae(A[de]),ve++}return 63!=nt&&ae(me),$}function Te(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&(function(se){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var pe=o(($[oe]*se+50)/100);pe=Math.min(Math.max(pe,1),255),a[H[oe]]=pe}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var Ee=o((de[me]*se+50)/100);Ee=Math.min(Math.max(Ee,1),255),l[H[me]]=Ee}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],st=0,dt=0;dt<8;dt++)for(var nt=0;nt<8;nt++)c[st]=1/(a[H[st]]*ze[dt]*ze[nt]*8),u[st]=1/(l[H[st]]*ze[dt]*ze[nt]*8),st++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,se){var ot,re;se&&Te(se),w=new Array,v=0,p=7,Ae(65496),Ae(65504),Ae(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),Ae(1),Ae(1),Z(0),Z(0),function(){Ae(65499),Ae(132),Z(0);for(var ot=0;ot<64;ot++)Z(a[ot]);Z(1);for(var re=0;re<64;re++)Z(l[re])}(),ot=Q.width,re=Q.height,Ae(65472),Ae(17),Z(8),Ae(re),Ae(ot),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1),function(){Ae(65476),Ae(418),Z(0);for(var ot=0;ot<16;ot++)Z(P[ot+1]);for(var re=0;re<=11;re++)Z(L[re]);Z(16);for(var z=0;z<16;z++)Z(D[z+1]);for(var Ce=0;Ce<=161;Ce++)Z(I[Ce]);Z(1);for(var Ne=0;Ne<16;Ne++)Z(O[Ne+1]);for(var Ke=0;Ke<=11;Ke++)Z(V[Ke]);Z(17);for(var Ve=0;Ve<16;Ve++)Z(R[Ve+1]);for(var gt=0;gt<=161;gt++)Z(J[gt])}(),Ae(65498),Ae(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var $=0,oe=0,pe=0;v=0,p=7,this.encode.displayName="_encode_";for(var de,me,Ee,ze,st,dt,nt,te,ve,ee=Q.data,Se=Q.height,Oe=4*Q.width,Fe=0;Fe<Se;){for(de=0;de<Oe;){for(st=Oe*Fe+de,nt=-1,te=0,ve=0;ve<64;ve++)dt=st+(te=ve>>3)*Oe+(nt=4*(7&ve)),Fe+te>=Se&&(dt-=Oe*(Fe+1+te-Se)),de+nt>=Oe&&(dt-=de+nt-Oe+4),me=ee[dt++],Ee=ee[dt++],ze=ee[dt++],C[ve]=(k[me]+k[Ee+256>>0]+k[ze+512>>0]>>16)-128,E[ve]=(k[me+768>>0]+k[Ee+1024>>0]+k[ze+1280>>0]>>16)-128,B[ve]=(k[me+1280>>0]+k[Ee+1536>>0]+k[ze+1792>>0]>>16)-128;$=ge(C,c,$,e,r),oe=ge(E,u,oe,t,i),pe=ge(B,u,pe,t,i),de+=32}Fe+=8}if(p>=0){var qe=[];qe[1]=p+1,qe[0]=(1<<p+1)-1,ae(qe)}return Ae(65497),new Uint8Array(w)},n=n||50,function(){for(var Q=String.fromCharCode,se=0;se<256;se++)U[se]=Q(se)}(),e=W(P,L),t=W(O,V),r=W(D,I),i=W(R,J),function(){for(var Q=1,se=2,$=1;$<=15;$++){for(var oe=Q;oe<se;oe++)f[32767+oe]=$,A[32767+oe]=[],A[32767+oe][1]=$,A[32767+oe][0]=oe;for(var pe=-(se-1);pe<=-Q;pe++)f[32767+pe]=$,A[32767+pe]=[],A[32767+pe][1]=$,A[32767+pe][0]=se-1+pe;Q<<=1,se<<=1}}(),function(){for(var Q=0;Q<256;Q++)k[Q]=19595*Q,k[Q+256>>0]=38470*Q,k[Q+512>>0]=7471*Q+32768,k[Q+768>>0]=-11059*Q,k[Q+1024>>0]=-21709*Q,k[Q+1280>>0]=32768*Q+8421375,k[Q+1536>>0]=-27439*Q,k[Q+1792>>0]=-5329*Q}(),Te(n)}function ic(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function c6(n){function e(P){if(!P)throw Error("assert :P")}function t(P,L,D){for(var I=0;4>I;I++)if(P[L+I]!=D.charCodeAt(I))return!0;return!1}function r(P,L,D,I,O){for(var V=0;V<O;V++)P[L+V]=D[I+V]}function i(P,L,D,I){for(var O=0;O<I;O++)P[L+O]=D}function s(P){return new Int32Array(P)}function o(P,L){for(var D=[],I=0;I<P;I++)D.push(new L);return D}function a(P,L){var D=[];return function I(O,V,R){for(var J=R[V],W=0;W<J&&(O.push(R.length>V+1?[]:new L),!(R.length<V+1));W++)I(O[W],V+1,R)}(D,0,P),D}var l=function(){var P=this;function L(d,x){for(var M=1<<x-1>>>0;d&M;)M>>>=1;return M?(d&M-1)+M:d}function D(d,x,M,F,G){e(!(F%M));do{d[x+(F-=M)]=G}while(0<F)}function I(d,x,M,F,G){if(e(2328>=G),512>=G)var q=s(512);else if(null==(q=s(G)))return 0;return function(X,Y,ne,ue,_e,ke){var He,De,ht=Y,Xe=1<<ne,be=s(16),Be=s(16);for(e(0!=_e),e(null!=ue),e(null!=X),e(0<ne),De=0;De<_e;++De){if(15<ue[De])return 0;++be[ue[De]]}if(be[0]==_e)return 0;for(Be[1]=0,He=1;15>He;++He){if(be[He]>1<<He)return 0;Be[He+1]=Be[He]+be[He]}for(De=0;De<_e;++De)He=ue[De],0<ue[De]&&(ke[Be[He]++]=De);if(1==Be[15])return(ue=new O).g=0,ue.value=ke[0],D(X,ht,1,Xe,ue),Xe;var at,vt=-1,ut=Xe-1,Xt=0,Ft=1,vn=1,Nt=1<<ne;for(De=0,He=1,_e=2;He<=ne;++He,_e<<=1){if(Ft+=vn<<=1,0>(vn-=be[He]))return 0;for(;0<be[He];--be[He])(ue=new O).g=He,ue.value=ke[De++],D(X,ht+Xt,_e,Nt,ue),Xt=L(Xt,He)}for(He=ne+1,_e=2;15>=He;++He,_e<<=1){if(Ft+=vn<<=1,0>(vn-=be[He]))return 0;for(;0<be[He];--be[He]){if(ue=new O,(Xt&ut)!=vt){for(ht+=Nt,at=1<<(vt=He)-ne;15>vt&&!(0>=(at-=be[vt]));)++vt,at<<=1;Xe+=Nt=1<<(at=vt-ne),X[Y+(vt=Xt&ut)].g=at+ne,X[Y+vt].value=ht-Y-vt}ue.g=He-ne,ue.value=ke[De++],D(X,ht+(Xt>>ne),_e,Nt,ue),Xt=L(Xt,He)}}return Ft!=2*Be[15]-1?0:Xe}(d,x,M,F,G,q)}function O(){this.value=this.g=0}function V(){this.value=this.g=0}function R(){this.G=o(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Xs,V)}function J(d,x,M,F){e(null!=d),e(null!=x),e(2147483648>F),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=x,d.pa=M,d.Jd=x,d.Yc=M+F,d.Zc=4<=F?M+F-4+1:M,de(d)}function W(d,x){for(var M=0;0<x--;)M|=Ee(d,128)<<x;return M}function ae(d,x){var M=W(d,x);return me(d)?-M:M}function Z(d,x,M,F){var G,q=0;for(e(null!=d),e(null!=x),e(4294967288>F),d.Sb=F,d.Ra=0,d.u=0,d.h=0,4<F&&(F=4),G=0;G<F;++G)q+=x[M+G]<<8*G;d.Ra=q,d.bb=F,d.oa=x,d.pa=M}function Ae(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<_0-8>>>0,++d.bb,d.u-=8;$(d)&&(d.h=1,d.u=0)}function ge(d,x){if(e(0<=x),!d.h&&x<=w0){var M=se(d)&y0[x];return d.u+=x,Ae(d),M}return d.h=1,d.u=0}function Te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(d){return d.Ra>>>(d.u&_0-1)>>>0}function $(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>_0}function oe(d,x){d.u=x,d.h=$(d)}function pe(d){d.u>=d1&&(e(d.u>=d1),Ae(d))}function de(d){e(null!=d&&null!=d.oa),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(null!=d&&null!=d.oa),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function me(d){return W(d,1)}function Ee(d,x){var M=d.Ca;0>d.b&&de(d);var F=d.b,G=M*x>>>8,q=(d.I>>>F>G)+0;for(q?(M-=G,d.I-=G+1<<F>>>0):M=G+1,F=M,G=0;256<=F;)G+=8,F>>=8;return d.b-=F=7^G+ga[F],d.Ca=(M<<F)-1,q}function ze(d,x,M){d[x+0]=M>>24&255,d[x+1]=M>>16&255,d[x+2]=M>>8&255,d[x+3]=M>>0&255}function st(d,x){return d[x+0]<<0|d[x+1]<<8}function dt(d,x){return st(d,x)|d[x+2]<<16}function nt(d,x){return st(d,x)|st(d,x+2)<<16}function te(d,x){var M=1<<x;return e(null!=d),e(0<x),d.X=s(M),null==d.X?0:(d.Mb=32-x,d.Xa=x,1)}function ve(d,x){e(null!=d),e(null!=x),e(d.Xa==x.Xa),r(x.X,0,d.X,0,1<<x.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function Pe(d,x,M,F){e(null!=M),e(null!=F);var G=M[0],q=F[0];return 0==G&&(G=(d*q+x/2)/x),0==q&&(q=(x*G+d/2)/d),0>=G||0>=q?0:(M[0]=G,F[0]=q,1)}function Se(d,x){return d+(1<<x)-1>>>x}function Oe(d,x){return((4278255360&d)+(4278255360&x)>>>0&4278255360)+((16711935&d)+(16711935&x)>>>0&16711935)>>>0}function Fe(d,x){P[x]=function(M,F,G,q,X,Y,ne){var ue;for(ue=0;ue<X;++ue){var _e=P[d](Y[ne+ue-1],G,q+ue);Y[ne+ue]=Oe(M[F+ue],_e)}}}function qe(){this.ud=this.hd=this.jd=0}function ot(d,x){return((4278124286&(d^x))>>>1)+(d&x)>>>0}function re(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function z(d,x){return re(d+(d-x+.5>>1))}function Ce(d,x,M){return Math.abs(x-M)-Math.abs(d-M)}function Ne(d,x,M,F,G,q,X){for(F=q[X-1],M=0;M<G;++M)q[X+M]=F=Oe(d[x+M],F)}function Ke(d,x,M,F,G){var q;for(q=0;q<M;++q){var X=d[x+q],Y=X>>8&255,ne=16711935&(ne=(ne=16711935&X)+((Y<<16)+Y));F[G+q]=(4278255360&X)+ne>>>0}}function Ve(d,x){x.jd=d>>0&255,x.hd=d>>8&255,x.ud=d>>16&255}function gt(d,x,M,F,G,q){var X;for(X=0;X<F;++X){var Y=x[M+X],ne=Y>>>8,ue=Y,_e=255&(_e=(_e=Y>>>16)+((d.jd<<24>>24)*(ne<<24>>24)>>>5));ue=255&(ue=(ue+=(d.hd<<24>>24)*(ne<<24>>24)>>>5)+((d.ud<<24>>24)*(_e<<24>>24)>>>5)),G[q+X]=(4278255360&Y)+(_e<<16)+ue}}function lt(d,x,M,F,G){P[x]=function(q,X,Y,ne,ue,_e,ke,He,De){for(ne=ke;ne<He;++ne)for(ke=0;ke<De;++ke)ue[_e++]=G(Y[F(q[X++])])},P[d]=function(q,X,Y,ne,ue,_e,ke){var He=8>>q.b,De=q.Ea,ht=q.K[0],Xe=q.w;if(8>He)for(q=(1<<q.b)-1,Xe=(1<<He)-1;X<Y;++X){var be,Be=0;for(be=0;be<De;++be)be&q||(Be=F(ne[ue++])),_e[ke++]=G(ht[Be&Xe]),Be>>=He}else P["VP8LMapColor"+M](ne,ue,ht,Xe,_e,ke,X,Y,De)}}function Ye(d,x,M,F,G){for(M=x+M;x<M;){var q=d[x++];F[G++]=q>>16&255,F[G++]=q>>8&255,F[G++]=q>>0&255}}function Ut(d,x,M,F,G){for(M=x+M;x<M;){var q=d[x++];F[G++]=q>>16&255,F[G++]=q>>8&255,F[G++]=q>>0&255,F[G++]=q>>24&255}}function Ze(d,x,M,F,G){for(M=x+M;x<M;){var q=(X=d[x++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;F[G++]=q,F[G++]=X}}function Rt(d,x,M,F,G){for(M=x+M;x<M;){var q=(X=d[x++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;F[G++]=q,F[G++]=X}}function Pt(d,x,M,F,G){for(M=x+M;x<M;){var q=d[x++];F[G++]=q>>0&255,F[G++]=q>>8&255,F[G++]=q>>16&255}}function Qt(d,x,M,F,G,q){if(0==q)for(M=x+M;x<M;)ze(F,((q=d[x++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),G+=32;else r(F,G,d,x,M)}function Bt(d,x){P[x][0]=P[d+"0"],P[x][1]=P[d+"1"],P[x][2]=P[d+"2"],P[x][3]=P[d+"3"],P[x][4]=P[d+"4"],P[x][5]=P[d+"5"],P[x][6]=P[d+"6"],P[x][7]=P[d+"7"],P[x][8]=P[d+"8"],P[x][9]=P[d+"9"],P[x][10]=P[d+"10"],P[x][11]=P[d+"11"],P[x][12]=P[d+"12"],P[x][13]=P[d+"13"],P[x][14]=P[d+"0"],P[x][15]=P[d+"0"]}function Vt(d){return d==FL||d==RL||d==ZE||d==LL}function xe(){this.eb=[],this.size=this.A=this.fb=0}function xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xe,this.f.kb=new xt,this.sd=null}function zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ge(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Ct(d,x){var M=d.T,F=x.ba.f.RGBA,G=F.eb,q=F.fb+d.ka*F.A,X=Fl[x.ba.S],Y=d.y,ne=d.O,ue=d.f,_e=d.N,ke=d.ea,He=d.W,De=x.cc,ht=x.dc,Xe=x.Mc,be=x.Nc,Be=d.ka,at=d.ka+d.T,vt=d.U,ut=vt+1>>1;for(0==Be?X(Y,ne,null,null,ue,_e,ke,He,ue,_e,ke,He,G,q,null,null,vt):(X(x.ec,x.fc,Y,ne,De,ht,Xe,be,ue,_e,ke,He,G,q-F.A,G,q,vt),++M);Be+2<at;Be+=2)X(Y,(ne+=2*d.fa)-d.fa,Y,ne,De=ue,ht=_e,Xe=ke,be=He,ue,_e+=d.Rc,ke,He+=d.Rc,G,(q+=2*F.A)-F.A,G,q,vt);return ne+=d.fa,d.j+at<d.o?(r(x.ec,x.fc,Y,ne,vt),r(x.cc,x.dc,ue,_e,ut),r(x.Mc,x.Nc,ke,He,ut),M--):1&at||X(Y,ne,null,null,ue,_e,ke,He,ue,_e,ke,He,G,q+F.A,null,null,vt),M}function bn(d,x,M){var F=d.F,G=[d.J];if(null!=F){var q=d.U,X=x.ba.S,Y=X==YE||X==ZE;x=x.ba.f.RGBA;var ne=[0],ue=d.ka;ne[0]=d.T,d.Kb&&(0==ue?--ne[0]:(--ue,G[0]-=d.width),d.j+d.ka+d.T==d.o&&(ne[0]=d.o-d.j-ue));var _e=x.eb;d=ai(F,G[0],d.width,q,ne,_e,(ue=x.fb+ue*x.A)+(Y?0:3),x.A),e(M==ne),d&&Vt(X)&&Il(_e,ue,Y,q,ne,x.A)}return 0}function Hn(d){var x=d.ma,M=x.ba.S,F=11>M,G=M==qE||M==XE||M==YE||M==DL||12==M||Vt(M);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!h1(x.Oa,d,G?11:12))return 0;if(G&&Vt(M)&&wt(),d.da)alert("todo:use_scaling");else{if(F){if(x.Ib=Ge,d.Kb){if(x.memory=s(d.U+2*(M=d.U+1>>1)),null==x.memory)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+d.U,x.Mc=x.cc,x.Nc=x.dc+M,x.Ib=Ct,wt()}}else alert("todo:EmitYUV");G&&(x.Jb=bn,F&&Le())}if(F&&!c9){for(d=0;256>d;++d)Iye[d]=89858*(d-128)+eS>>JE,Rye[d]=-22014*(d-128)+eS,Fye[d]=-45773*(d-128),Dye[d]=113618*(d-128)+eS>>JE;for(d=_1;d<NL;++d)Lye[d-_1]=Ya(x=76283*(d-16)+eS>>JE,255),Uye[d-_1]=Ya(x+8>>4,15);c9=1}return 1}function Zn(d){var x=d.ma,M=d.U,F=d.T;return e(!(1&d.ka)),0>=M||0>=F?0:(M=x.Ib(d,x),null!=x.Jb&&x.Jb(d,x,M),x.Dc+=M,1)}function Oi(d){d.ma.memory=null}function cn(d,x,M,F){return 47!=ge(d,8)?0:(x[0]=ge(d,14)+1,M[0]=ge(d,14)+1,F[0]=ge(d,1),0!=ge(d,3)?0:!d.h)}function ha(d,x){if(4>d)return d+1;var M=d-2>>1;return(2+(1&d)<<M)+ge(x,M)+1}function Ka(d,x){return 120<x?x-120:1<=(M=((M=gye[x-1])>>4)*d+(8-(15&M)))?M:1;var M}function ki(d,x,M){var F=se(M),G=d[x+=255&F].g-8;return 0<G&&(oe(M,M.u+8),F=se(M),x+=d[x].value,x+=F&(1<<G)-1),oe(M,M.u+d[x].g),d[x].value}function Ti(d,x,M){return M.g+=d.g,M.value+=d.value<<x>>>0,e(8>=M.g),d.g}function Ii(d,x,M){var F=d.xc;return e((x=0==F?0:d.vc[d.md*(M>>F)+(x>>F)])<d.Wb),d.Ya[x]}function Co(d,x,M,F){var G=d.ab,q=d.c*x,X=d.C;x=X+x;var Y=M,ne=F;for(F=d.Ta,M=d.Ua;0<G--;){var ue=d.gc[G],_e=X,ke=x,He=Y,De=ne,ht=(ne=F,Y=M,ue.Ea);switch(e(_e<ke),e(ke<=ue.nc),ue.hc){case 2:VE(He,De,(ke-_e)*ht,ne,Y);break;case 0:var Xe=_e,be=ke,Be=ne,at=Y,vt=(Nt=ue).Ea;0==Xe&&(TL(He,De,null,null,1,Be,at),Ne(He,De+1,0,0,vt-1,Be,at+1),De+=vt,at+=vt,++Xe);for(var ut=1<<Nt.b,Xt=ut-1,Ft=Se(vt,Nt.b),vn=Nt.K,Nt=Nt.w+(Xe>>Nt.b)*Ft;Xe<be;){var Dr=vn,Qr=Nt,xr=1;for(p1(He,De,Be,at-vt,1,Be,at);xr<vt;){var Ar=(xr&~Xt)+ut;Ar>vt&&(Ar=vt),(0,Wh[Dr[Qr++]>>8&15])(He,De+ +xr,Be,at+xr-vt,Ar-xr,Be,at+xr),xr=Ar}De+=vt,at+=vt,++Xe&Xt||(Nt+=Ft)}ke!=ue.nc&&r(ne,Y-ht,ne,Y+(ke-_e-1)*ht,ht);break;case 1:for(ht=He,be=De,vt=(He=ue.Ea)-(at=He&~(Be=(De=1<<ue.b)-1)),Xe=Se(He,ue.b),ut=ue.K,ue=ue.w+(_e>>ue.b)*Xe;_e<ke;){for(Xt=ut,Ft=ue,vn=new qe,Nt=be+at,Dr=be+He;be<Nt;)Ve(Xt[Ft++],vn),Zd(vn,ht,be,De,ne,Y),be+=De,Y+=De;be<Dr&&(Ve(Xt[Ft++],vn),Zd(vn,ht,be,vt,ne,Y),be+=vt,Y+=vt),++_e&Be||(ue+=Xe)}break;case 3:if(He==ne&&De==Y&&0<ue.b){for(be=ne,He=ht=Y+(ke-_e)*ht-(at=(ke-_e)*Se(ue.Ea,ue.b)),De=ne,Be=Y,Xe=[],at=(vt=at)-1;0<=at;--at)Xe[at]=De[Be+at];for(at=vt-1;0<=at;--at)be[He+at]=Xe[at];Bl(ue,_e,ke,ne,ht,ne,Y)}else Bl(ue,_e,ke,He,De,ne,Y)}Y=F,ne=M}ne!=M&&r(F,M,Y,ne,q)}function gc(d,x){var M=d.V,F=d.Ba+d.c*d.C,G=x-d.C;if(e(x<=d.l.o),e(16>=G),0<G){var q=d.l,X=d.Ta,Y=d.Ua,ne=q.width;if(Co(d,G,M,F),G=Y=[Y],e((M=d.C)<(F=x)),e(q.v<q.va),F>q.o&&(F=q.o),M<q.j){var ue=q.j-M;M=q.j,G[0]+=ue*ne}if(M>=F?M=0:(G[0]+=4*q.v,q.ka=M-q.j,q.U=q.va-q.v,q.T=F-M,M=1),M){if(Y=Y[0],11>(M=d.ca).S){var _e=M.f.RGBA,ke=(F=M.S,G=q.U,q=q.T,ue=_e.eb,_e.A),He=q;for(_e=_e.fb+d.Ma*_e.A;0<He--;){var De=X,ht=Y,Xe=G,be=ue,Be=_e;switch(F){case KE:ma(De,ht,Xe,be,Be);break;case qE:Wo(De,ht,Xe,be,Be);break;case FL:Wo(De,ht,Xe,be,Be),Il(be,Be,0,Xe,1,0);break;case Jz:_A(De,ht,Xe,be,Be);break;case XE:Qt(De,ht,Xe,be,Be,1);break;case RL:Qt(De,ht,Xe,be,Be,1),Il(be,Be,0,Xe,1,0);break;case YE:Qt(De,ht,Xe,be,Be,0);break;case ZE:Qt(De,ht,Xe,be,Be,0),Il(be,Be,1,Xe,1,0);break;case DL:$h(De,ht,Xe,be,Be);break;case LL:$h(De,ht,Xe,be,Be),oi(be,Be,Xe,1,0);break;case e9:wA(De,ht,Xe,be,Be);break;default:e(0)}Y+=ne,_e+=ke}d.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=M.height)}}d.C=x,e(d.C<=d.i)}function Cl(d){var x;if(0<d.ua)return 0;for(x=0;x<d.Wb;++x){var M=d.Ya[x].G,F=d.Ya[x].H;if(0<M[1][F[1]+0].g||0<M[2][F[2]+0].g||0<M[3][F[3]+0].g)return 0}return 1}function Eo(d,x,M,F,G,q){if(0!=d.Z){var X=d.qd,Y=d.rd;for(e(null!=Yh[d.Z]);x<M;++x)Yh[d.Z](X,Y,F,G,F,G,q),X=F,Y=G,G+=q;d.qd=X,d.rd=Y}}function fa(d,x){var M=d.l.ma,F=0==M.Z||1==M.Z?d.l.j:d.C;if(F=d.C<F?F:d.C,e(x<=d.l.o),x>F){var G=d.l.width,q=M.ca,X=M.tb+G*F,Y=d.V,ne=d.Ba+d.c*F,ue=d.gc;e(1==d.ab),e(3==ue[0].hc),GE(ue[0],F,x,Y,ne,q,X),Eo(M,F,x,q,X,G)}d.C=d.Ma=x}function da(d,x,M,F,G,q,X){var Y=d.$/F,ne=d.$%F,ue=d.m,_e=d.s,ke=M+d.$,He=ke;G=M+F*G;var De=M+F*q,ht=280+_e.ua,Xe=d.Pb?Y:16777216,be=0<_e.ua?_e.Wa:null,Be=_e.wc,at=ke<De?Ii(_e,ne,Y):null;e(d.C<q),e(De<=G);var vt=!1;e:for(;;){for(;vt||ke<De;){var ut=0;if(Y>=Xe){var Xt=ke-M;e((Xe=d).Pb),Xe.wd=Xe.m,Xe.xd=Xt,0<Xe.s.ua&&ve(Xe.s.Wa,Xe.s.vb),Xe=Y+vye}if(ne&Be||(at=Ii(_e,ne,Y)),e(null!=at),at.Qb&&(x[ke]=at.qb,vt=!0),!vt)if(pe(ue),at.jc){Xt=x;var Ft=ke,vn=at.pd[se(ut=ue)&Xs-1];e(at.jc),256>vn.g?(oe(ut,ut.u+vn.g),Xt[Ft]=vn.value,ut=0):(oe(ut,ut.u+vn.g-256),e(256<=vn.value),ut=vn.value),0==ut&&(vt=!0)}else ut=ki(at.G[0],at.H[0],ue);if(ue.h)break;if(vt||256>ut){if(!vt)if(at.nd)x[ke]=(at.qb|ut<<8)>>>0;else{if(pe(ue),vt=ki(at.G[1],at.H[1],ue),pe(ue),Xt=ki(at.G[2],at.H[2],ue),Ft=ki(at.G[3],at.H[3],ue),ue.h)break;x[ke]=(Ft<<24|vt<<16|ut<<8|Xt)>>>0}if(vt=!1,++ke,++ne>=F&&(ne=0,++Y,null!=X&&Y<=q&&!(Y%16)&&X(d,Y),null!=be))for(;He<ke;)ut=x[He++],be.X[(506832829*ut&4294967295)>>>be.Mb]=ut}else if(280>ut){if(ut=ha(ut-256,ue),Xt=ki(at.G[4],at.H[4],ue),pe(ue),Xt=Ka(F,Xt=ha(Xt,ue)),ue.h)break;if(ke-M<Xt||G-ke<ut)break e;for(Ft=0;Ft<ut;++Ft)x[ke+Ft]=x[ke+Ft-Xt];for(ke+=ut,ne+=ut;ne>=F;)ne-=F,++Y,null!=X&&Y<=q&&!(Y%16)&&X(d,Y);if(e(ke<=G),ne&Be&&(at=Ii(_e,ne,Y)),null!=be)for(;He<ke;)ut=x[He++],be.X[(506832829*ut&4294967295)>>>be.Mb]=ut}else{if(!(ut<ht))break e;for(vt=ut-280,e(null!=be);He<ke;)ut=x[He++],be.X[(506832829*ut&4294967295)>>>be.Mb]=ut;ut=ke,e(!(vt>>>(Xt=be).Xa)),x[ut]=Xt.X[vt],vt=!0}vt||e(ue.h==$(ue))}if(d.Pb&&ue.h&&ke<G)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&ve(d.s.vb,d.s.Wa);else{if(ue.h)break e;X?.(d,Y>q?q:Y),d.a=0,d.$=ke-M}return 1}return d.a=3,0}function El(d){e(null!=d),d.vc=null,d.yc=null,d.Ya=null;var x=d.Wa;null!=x&&(x.X=null),d.vb=null,e(null!=d)}function pa(){var d=new ML;return null==d?null:(d.a=0,d.xb=r9,Bt("Predictor","VP8LPredictors"),Bt("Predictor","VP8LPredictors_C"),Bt("PredictorAdd","VP8LPredictorsAdd"),Bt("PredictorAdd","VP8LPredictorsAdd_C"),VE=Ke,Zd=gt,ma=Ye,Wo=Ut,$h=Ze,wA=Rt,_A=Pt,P.VP8LMapColor32b=b0,P.VP8LMapColor8b=zE,d)}function Sl(d,x,M,F,G){var q=1,X=[d],Y=[x],ne=F.m,ue=F.s,_e=null,ke=0;e:for(;;){if(M)for(;q&&ge(ne,1);){var He=X,De=Y,ht=F,Xe=1,be=ht.m,Be=ht.gc[ht.ab],at=ge(be,2);if(ht.Oc&1<<at)q=0;else{switch(ht.Oc|=1<<at,Be.hc=at,Be.Ea=He[0],Be.nc=De[0],Be.K=[null],++ht.ab,e(4>=ht.ab),at){case 0:case 1:Be.b=ge(be,3)+2,Xe=Sl(Se(Be.Ea,Be.b),Se(Be.nc,Be.b),0,ht,Be.K),Be.K=Be.K[0];break;case 3:var vt,ut=ge(be,8)+1,Xt=16<ut?0:4<ut?1:2<ut?2:3;if(He[0]=Se(Be.Ea,Xt),Be.b=Xt,vt=Xe=Sl(ut,1,0,ht,Be.K)){var Ft,vn=ut,Nt=Be,Dr=1<<(8>>Nt.b),Qr=s(Dr);if(null==Qr)vt=0;else{var xr=Nt.K[0],Ar=Nt.w;for(Qr[0]=Nt.K[0][0],Ft=1;Ft<1*vn;++Ft)Qr[Ft]=Oe(xr[Ar+Ft],Qr[Ft-1]);for(;Ft<4*Dr;++Ft)Qr[Ft]=0;Nt.K[0]=null,Nt.K[0]=Qr,vt=1}}Xe=vt;break;case 2:break;default:e(0)}q=Xe}}if(X=X[0],Y=Y[0],q&&ge(ne,1)&&!(q=1<=(ke=ge(ne,4))&&11>=ke)){F.a=3;break e}var Jr;if(Jr=q)t:{var qr,$n,us,va=F,As=X,ya=Y,Vr=ke,Ja=M,el=va.m,Rs=va.s,Ys=[null],Ko=1,Rl=0,mu=mye[Vr];n:for(;;){if(Ja&&ge(el,1)){var Ls=ge(el,3)+2,EA=Se(As,Ls),rp=Se(ya,Ls),B0=EA*rp;if(!Sl(EA,rp,0,va,Ys))break n;for(Ys=Ys[0],Rs.xc=Ls,qr=0;qr<B0;++qr){var Zh=Ys[qr]>>8&65535;Ys[qr]=Zh,Zh>=Ko&&(Ko=Zh+1)}}if(el.h)break n;for($n=0;5>$n;++$n){var Qi=t9[$n];!$n&&0<Vr&&(Qi+=1<<Vr),Rl<Qi&&(Rl=Qi)}var OL=o(Ko*mu,O),h9=Ko,f9=o(h9,R);if(null==f9)var nS=null;else e(65536>=h9),nS=f9;var b1=s(Rl);if(null==nS||null==b1||null==OL){va.a=1;break n}var rS=OL;for(qr=us=0;qr<Ko;++qr){var _c=nS[qr],M0=_c.G,T0=_c.H,d9=0,iS=1,p9=0;for($n=0;5>$n;++$n){Qi=t9[$n],M0[$n]=rS,T0[$n]=us,!$n&&0<Vr&&(Qi+=1<<Vr);i:{var sS,kL=Qi,oS=va,x1=b1,Oye=rS,kye=us,HL=0,Jh=oS.m,Hye=ge(Jh,1);if(i(x1,0,0,kL),Hye){var Qye=ge(Jh,1)+1,Vye=ge(Jh,1),g9=ge(Jh,0==Vye?1:8);x1[g9]=1,2==Qye&&(x1[g9=ge(Jh,8)]=1);var aS=1}else{var m9=s(19),v9=ge(Jh,4)+4;if(19<v9){oS.a=3;var lS=0;break i}for(sS=0;sS<v9;++sS)m9[pye[sS]]=ge(Jh,3);var QL=void 0,C1=void 0,y9=oS,Gye=m9,cS=kL,w9=x1,VL=0,ef=y9.m,_9=8,b9=o(128,O);r:for(;I(b9,0,7,Gye,19);){if(ge(ef,1)){var zye=2+2*ge(ef,3);if((QL=2+ge(ef,zye))>cS)break r}else QL=cS;for(C1=0;C1<cS&&QL--;){pe(ef);var x9=b9[0+(127&se(ef))];oe(ef,ef.u+x9.g);var I0=x9.value;if(16>I0)w9[C1++]=I0,0!=I0&&(_9=I0);else{var jye=16==I0,C9=I0-16,Wye=fye[C9],E9=ge(ef,hye[C9])+Wye;if(C1+E9>cS)break r;for(var $ye=jye?_9:0;0<E9--;)w9[C1++]=$ye}}VL=1;break r}VL||(y9.a=3),aS=VL}(aS=aS&&!Jh.h)&&(HL=I(Oye,kye,8,x1,kL)),aS&&0!=HL?lS=HL:(oS.a=3,lS=0)}if(0==lS)break n;if(iS&&1==dye[$n]&&(iS=0==rS[us].g),d9+=rS[us].g,us+=lS,3>=$n){var E1,GL=b1[0];for(E1=1;E1<Qi;++E1)b1[E1]>GL&&(GL=b1[E1]);p9+=GL}}if(_c.nd=iS,_c.Qb=0,iS&&(_c.qb=(M0[3][T0[3]+0].value<<24|M0[1][T0[1]+0].value<<16|M0[2][T0[2]+0].value)>>>0,0==d9&&256>M0[0][T0[0]+0].value&&(_c.Qb=1,_c.qb+=M0[0][T0[0]+0].value<<8)),_c.jc=!_c.Qb&&6>p9,_c.jc){var uS,SA=_c;for(uS=0;uS<Xs;++uS){var tf=uS,nf=SA.pd[tf],AS=SA.G[0][SA.H[0]+tf];256<=AS.value?(nf.g=AS.g+256,nf.value=AS.value):(nf.g=0,nf.value=0,tf>>=Ti(AS,8,nf),tf>>=Ti(SA.G[1][SA.H[1]+tf],16,nf),tf>>=Ti(SA.G[2][SA.H[2]+tf],0,nf),Ti(SA.G[3][SA.H[3]+tf],24,nf))}}}Rs.vc=Ys,Rs.Wb=Ko,Rs.Ya=nS,Rs.yc=OL,Jr=1;break t}Jr=0}if(!(q=Jr)){F.a=3;break e}if(0<ke){if(ue.ua=1<<ke,!te(ue.Wa,ke)){F.a=1,q=0;break e}}else ue.ua=0;var zL=F,S9=X,Kye=Y,jL=zL.s,WL=jL.xc;if(zL.c=S9,zL.i=Kye,jL.md=Se(S9,WL),jL.wc=0==WL?-1:(1<<WL)-1,M){F.xb=Eye;break e}if(null==(_e=s(X*Y))){F.a=1,q=0;break e}q=(q=da(F,_e,0,X,Y,Y,null))&&!ne.h;break e}return q?(null!=G?G[0]=_e:(e(null==_e),e(M)),F.$=0,M||El(ue)):El(ue),q}function mA(d,x){var M=d.c*d.i,F=M+x+16*x;return e(d.c<=x),d.V=s(F),null==d.V?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+M+x,1)}function Qh(d,x){var M=d.C,F=x-M,G=d.V,q=d.Ba+d.c*M;for(e(x<=d.l.o);0<F;){var X=16<F?16:F,Y=d.l.ma,ne=d.l.width,ue=ne*X,_e=Y.ca,ke=Y.tb+ne*M,He=d.Ta,De=d.Ua;Co(d,X,G,q),ts(He,De,_e,ke,ue),Eo(Y,M,M+X,_e,ke,ne),F-=X,G+=X*d.c,M+=X}e(M==x),d.C=d.Ma=x}function Vh(){this.ub=this.yd=this.td=this.Rb=0}function ie(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function je(){var d;this.Yb=(function x(M,F,G){for(var q=G[F],X=0;X<q&&(M.push(G.length>F+1?[]:0),!(G.length<F+1));X++)x(M[X],F+1,G)}(d=[],0,[3,11]),d)}function We(){this.jb=s(3),this.Wc=a([4,8],je),this.Xc=a([4,17],je)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function bt(){this.ld=this.La=this.dd=this.tc=0}function Dt(){this.Na=this.la=0}function tn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mn(){this.uc=this.M=this.Nb=0,this.wa=Array(new bt),this.Y=0,this.ya=Array(new Zt),this.aa=0,this.l=new Wn}function En(){this.y=s(16),this.f=s(8),this.ea=s(8)}function An(){this.cb=this.a=0,this.sc="",this.m=new Te,this.Od=new Vh,this.Kc=new ie,this.ed=new Re,this.Qa=new Ie,this.Ic=this.$c=this.Aa=0,this.D=new mn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Te),this.ia=0,this.pb=o(4,tn),this.Pa=new We,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new En),this.Hd=0,this.rb=Array(new Dt),this.sb=0,this.wa=Array(new bt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zt),this.L=this.aa=0,this.gd=a([4,2],bt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mr(){var d=new An;return null!=d&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,w1||(w1=hn)),d}function Qn(d,x,M){return 0==d.a&&(d.a=x,d.sc=M,d.cb=0),0}function br(d,x,M){return 3<=M&&157==d[x+0]&&1==d[x+1]&&42==d[x+2]}function Sr(d,x){if(null==d)return 0;if(d.a=0,d.sc="OK",null==x)return Qn(d,2,"null VP8Io passed to VP8GetHeaders()");var M=x.data,F=x.w,G=x.ha;if(4>G)return Qn(d,7,"Truncated header.");var q=M[F+0]|M[F+1]<<8|M[F+2]<<16,X=d.Od;if(X.Rb=!(1&q),X.td=q>>1&7,X.yd=q>>4&1,X.ub=q>>5,3<X.td)return Qn(d,3,"Incorrect keyframe parameters.");if(!X.yd)return Qn(d,4,"Frame not displayable.");F+=3,G-=3;var Y=d.Kc;if(X.Rb){if(7>G)return Qn(d,7,"cannot parse picture header");if(!br(M,F,G))return Qn(d,3,"Bad code word");Y.c=16383&(M[F+4]<<8|M[F+3]),Y.Td=M[F+4]>>6,Y.i=16383&(M[F+6]<<8|M[F+5]),Y.Ud=M[F+6]>>6,F+=7,G-=7,d.za=Y.c+15>>4,d.Ub=Y.i+15>>4,x.width=Y.c,x.height=Y.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((q=d.Pa).jb,0,255,q.jb.length),e(null!=(q=d.Qa)),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(X.ub>G)return Qn(d,7,"bad partition length");J(q=d.m,M,F,X.ub),F+=X.ub,G-=X.ub,X.Rb&&(Y.Ld=me(q),Y.Kd=me(q)),Y=d.Qa;var ne,ue=d.Pa;if(e(null!=q),e(null!=Y),Y.Cb=me(q),Y.Cb){if(Y.Bb=me(q),me(q)){for(Y.Fb=me(q),ne=0;4>ne;++ne)Y.Zb[ne]=me(q)?ae(q,7):0;for(ne=0;4>ne;++ne)Y.Lb[ne]=me(q)?ae(q,6):0}if(Y.Bb)for(ne=0;3>ne;++ne)ue.jb[ne]=me(q)?W(q,8):255}else Y.Bb=0;if(q.Ka)return Qn(d,3,"cannot parse segment header");if((Y=d.ed).zd=me(q),Y.Tb=W(q,6),Y.wb=W(q,3),Y.Pc=me(q),Y.Pc&&me(q)){for(ue=0;4>ue;++ue)me(q)&&(Y.vd[ue]=ae(q,6));for(ue=0;4>ue;++ue)me(q)&&(Y.od[ue]=ae(q,6))}if(d.L=0==Y.Tb?0:Y.zd?1:2,q.Ka)return Qn(d,3,"cannot parse filter header");var _e=G;if(G=ne=F,F=ne+_e,Y=_e,d.Xb=(1<<W(d.m,2))-1,_e<3*(ue=d.Xb))M=7;else{for(ne+=3*ue,Y-=3*ue,_e=0;_e<ue;++_e){var ke=M[G+0]|M[G+1]<<8|M[G+2]<<16;ke>Y&&(ke=Y),J(d.Jc[+_e],M,ne,ke),ne+=ke,Y-=ke,G+=3}J(d.Jc[+ue],M,ne,Y),M=ne<F?0:5}if(0!=M)return Qn(d,M,"cannot parse partitions");for(M=W(ne=d.m,7),G=me(ne)?ae(ne,4):0,F=me(ne)?ae(ne,4):0,Y=me(ne)?ae(ne,4):0,ue=me(ne)?ae(ne,4):0,ne=me(ne)?ae(ne,4):0,_e=d.Qa,ke=0;4>ke;++ke){if(_e.Cb){var He=_e.Zb[ke];_e.Fb||(He+=M)}else{if(0<ke){d.pb[ke]=d.pb[0];continue}He=M}var De=d.pb[ke];De.Sc[0]=UL[Ya(He+G,127)],De.Sc[1]=PL[Ya(He+0,127)],De.Eb[0]=2*UL[Ya(He+F,127)],De.Eb[1]=101581*PL[Ya(He+Y,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=UL[Ya(He+ue,117)],De.Qc[1]=PL[Ya(He+ne,127)],De.lc=He+ne}if(!X.Rb)return Qn(d,4,"Not a key frame.");for(me(q),X=d.Pa,M=0;4>M;++M){for(G=0;8>G;++G)for(F=0;3>F;++F)for(Y=0;11>Y;++Y)ue=Ee(q,xye[M][G][F][Y])?W(q,8):_ye[M][G][F][Y],X.Wc[M][G].Yb[F][Y]=ue;for(G=0;17>G;++G)X.Xc[M][G]=X.Wc[M][Cye[G]]}return d.kc=me(q),d.kc&&(d.Bd=W(q,8)),d.cb=1}function hn(d,x,M,F,G,q,X){var Y=x[G].Yb[M];for(M=0;16>G;++G){if(!Ee(d,Y[M+0]))return G;for(;!Ee(d,Y[M+1]);)if(Y=x[++G].Yb[0],M=0,16==G)return 16;var ne=x[G+1].Yb;if(Ee(d,Y[M+2])){var ue=d,_e=0;if(Ee(ue,(He=Y)[(ke=M)+3]))if(Ee(ue,He[ke+6])){for(Y=0,ke=2*(_e=Ee(ue,He[ke+8]))+(He=Ee(ue,He[ke+9+_e])),_e=0,He=yye[ke];He[Y];++Y)_e+=_e+Ee(ue,He[Y]);_e+=3+(8<<ke)}else Ee(ue,He[ke+7])?(_e=7+2*Ee(ue,165),_e+=Ee(ue,145)):_e=5+Ee(ue,159);else _e=Ee(ue,He[ke+4])?3+Ee(ue,He[ke+5]):2;Y=ne[2]}else _e=1,Y=ne[1];ne=X+wye[G],0>(ue=d).b&&de(ue);var ke,He=ue.b,De=(ke=ue.Ca>>1)-(ue.I>>He)>>31;--ue.b,ue.Ca+=De,ue.Ca|=1,ue.I-=(ke+1&De)<<He,q[ne]=((_e^De)-De)*F[(0<G)+0]}return 16}function kr(d){var x=d.rb[d.sb-1];x.la=0,x.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function di(d,x,M,F,G){d[x+M+32*F]=-256&(G=d[x+M+32*F]+(G>>3))?0>G?0:255:G}function qa(d,x,M,F,G,q){di(d,x,0,M,F+G),di(d,x,1,M,F+q),di(d,x,2,M,F-q),di(d,x,3,M,F-G)}function Kr(d){return(20091*d>>16)+d}function mc(d,x,M,F){var G,q=0,X=s(16);for(G=0;4>G;++G){var Y=d[x+0]+d[x+8],ne=d[x+0]-d[x+8],ue=(35468*d[x+4]>>16)-Kr(d[x+12]),_e=Kr(d[x+4])+(35468*d[x+12]>>16);X[q+0]=Y+_e,X[q+1]=ne+ue,X[q+2]=ne-ue,X[q+3]=Y-_e,q+=4,x++}for(G=q=0;4>G;++G)Y=(d=X[q+0]+4)+X[q+8],ne=d-X[q+8],ue=(35468*X[q+4]>>16)-Kr(X[q+12]),di(M,F,0,0,Y+(_e=Kr(X[q+4])+(35468*X[q+12]>>16))),di(M,F,1,0,ne+ue),di(M,F,2,0,ne-ue),di(M,F,3,0,Y-_e),q++,F+=32}function Hr(d,x,M,F){var G=d[x+0]+4,q=35468*d[x+4]>>16,X=Kr(d[x+4]),Y=35468*d[x+1]>>16;qa(M,F,0,G+X,d=Kr(d[x+1]),Y),qa(M,F,1,G+q,d,Y),qa(M,F,2,G-q,d,Y),qa(M,F,3,G-X,d,Y)}function So(d,x,M,F,G){mc(d,x,M,F),G&&mc(d,x+16,M,F+4)}function qs(d,x,M,F){bA(d,x+0,M,F,1),bA(d,x+32,M,F+128,1)}function Cs(d,x,M,F){var G;for(d=d[x+0]+4,G=0;4>G;++G)for(x=0;4>x;++x)di(M,F,x,G,d)}function Es(d,x,M,F){d[x+0]&&$o(d,x+0,M,F),d[x+16]&&$o(d,x+16,M,F+4),d[x+32]&&$o(d,x+32,M,F+128),d[x+48]&&$o(d,x+48,M,F+128+4)}function $d(d,x,M,F){var G,q=s(16);for(G=0;4>G;++G){var X=d[x+0+G]+d[x+12+G],Y=d[x+4+G]+d[x+8+G],ne=d[x+4+G]-d[x+8+G],ue=d[x+0+G]-d[x+12+G];q[0+G]=X+Y,q[8+G]=X-Y,q[4+G]=ue+ne,q[12+G]=ue-ne}for(G=0;4>G;++G)X=(d=q[0+4*G]+3)+q[3+4*G],ne=q[1+4*G]-q[2+4*G],ue=d-q[3+4*G],M[F+0]=X+(Y=q[1+4*G]+q[2+4*G])>>3,M[F+16]=ue+ne>>3,M[F+32]=X-Y>>3,M[F+48]=ue-ne>>3,F+=64}function Xa(d,x,M){var F,G=x-32,q=Za,X=255-d[G-1];for(F=0;F<M;++F){var Y,ne=q,ue=X+d[x-1];for(Y=0;Y<M;++Y)d[x+Y]=ne[ue+d[G+Y]];x+=32}}function pL(d,x){Xa(d,x,4)}function gL(d,x){Xa(d,x,8)}function mL(d,x){Xa(d,x,16)}function vA(d,x){var M;for(M=0;16>M;++M)r(d,x+32*M,d,x-32,16)}function u0(d,x){var M;for(M=16;0<M;--M)i(d,x,d[x-1],16),x+=32}function A0(d,x,M){var F;for(F=0;16>F;++F)i(x,M+32*F,d,16)}function DE(d,x){var M,F=16;for(M=0;16>M;++M)F+=d[x-1+32*M]+d[x+M-32];A0(F>>5,d,x)}function Bo(d,x){var M,F=8;for(M=0;16>M;++M)F+=d[x-1+32*M];A0(F>>4,d,x)}function vL(d,x){var M,F=8;for(M=0;16>M;++M)F+=d[x+M-32];A0(F>>4,d,x)}function FE(d,x){A0(128,d,x)}function Fn(d,x,M){return d+2*x+M+2>>2}function yL(d,x){var M,F=x-32;for(F=new Uint8Array([Fn(d[F-1],d[F+0],d[F+1]),Fn(d[F+0],d[F+1],d[F+2]),Fn(d[F+1],d[F+2],d[F+3]),Fn(d[F+2],d[F+3],d[F+4])]),M=0;4>M;++M)r(d,x+32*M,F,0,F.length)}function wL(d,x){var M=d[x-1],F=d[x-1+32],G=d[x-1+64],q=d[x-1+96];ze(d,x+0,16843009*Fn(d[x-1-32],M,F)),ze(d,x+32,16843009*Fn(M,F,G)),ze(d,x+64,16843009*Fn(F,G,q)),ze(d,x+96,16843009*Fn(G,q,q))}function du(d,x){var M,F=4;for(M=0;4>M;++M)F+=d[x+M-32]+d[x-1+32*M];for(F>>=3,M=0;4>M;++M)i(d,x+32*M,F,4)}function RE(d,x){var M=d[x-1+0],F=d[x-1+32],G=d[x-1+64],q=d[x-1-32],X=d[x+0-32],Y=d[x+1-32],ne=d[x+2-32],ue=d[x+3-32];d[x+0+96]=Fn(F,G,d[x-1+96]),d[x+1+96]=d[x+0+64]=Fn(M,F,G),d[x+2+96]=d[x+1+64]=d[x+0+32]=Fn(q,M,F),d[x+3+96]=d[x+2+64]=d[x+1+32]=d[x+0+0]=Fn(X,q,M),d[x+3+64]=d[x+2+32]=d[x+1+0]=Fn(Y,X,q),d[x+3+32]=d[x+2+0]=Fn(ne,Y,X),d[x+3+0]=Fn(ue,ne,Y)}function LE(d,x){var M=d[x+1-32],F=d[x+2-32],G=d[x+3-32],q=d[x+4-32],X=d[x+5-32],Y=d[x+6-32],ne=d[x+7-32];d[x+0+0]=Fn(d[x+0-32],M,F),d[x+1+0]=d[x+0+32]=Fn(M,F,G),d[x+2+0]=d[x+1+32]=d[x+0+64]=Fn(F,G,q),d[x+3+0]=d[x+2+32]=d[x+1+64]=d[x+0+96]=Fn(G,q,X),d[x+3+32]=d[x+2+64]=d[x+1+96]=Fn(q,X,Y),d[x+3+64]=d[x+2+96]=Fn(X,Y,ne),d[x+3+96]=Fn(Y,ne,ne)}function h0(d,x){var M=d[x-1+0],F=d[x-1+32],G=d[x-1+64],q=d[x-1-32],X=d[x+0-32],Y=d[x+1-32],ne=d[x+2-32],ue=d[x+3-32];d[x+0+0]=d[x+1+64]=q+X+1>>1,d[x+1+0]=d[x+2+64]=X+Y+1>>1,d[x+2+0]=d[x+3+64]=Y+ne+1>>1,d[x+3+0]=ne+ue+1>>1,d[x+0+96]=Fn(G,F,M),d[x+0+64]=Fn(F,M,q),d[x+0+32]=d[x+1+96]=Fn(M,q,X),d[x+1+32]=d[x+2+96]=Fn(q,X,Y),d[x+2+32]=d[x+3+96]=Fn(X,Y,ne),d[x+3+32]=Fn(Y,ne,ue)}function e1(d,x){var M=d[x+0-32],F=d[x+1-32],G=d[x+2-32],q=d[x+3-32],X=d[x+4-32],Y=d[x+5-32],ne=d[x+6-32],ue=d[x+7-32];d[x+0+0]=M+F+1>>1,d[x+1+0]=d[x+0+64]=F+G+1>>1,d[x+2+0]=d[x+1+64]=G+q+1>>1,d[x+3+0]=d[x+2+64]=q+X+1>>1,d[x+0+32]=Fn(M,F,G),d[x+1+32]=d[x+0+96]=Fn(F,G,q),d[x+2+32]=d[x+1+96]=Fn(G,q,X),d[x+3+32]=d[x+2+96]=Fn(q,X,Y),d[x+3+64]=Fn(X,Y,ne),d[x+3+96]=Fn(Y,ne,ue)}function _L(d,x){var M=d[x-1+0],F=d[x-1+32],G=d[x-1+64],q=d[x-1+96];d[x+0+0]=M+F+1>>1,d[x+2+0]=d[x+0+32]=F+G+1>>1,d[x+2+32]=d[x+0+64]=G+q+1>>1,d[x+1+0]=Fn(M,F,G),d[x+3+0]=d[x+1+32]=Fn(F,G,q),d[x+3+32]=d[x+1+64]=Fn(G,q,q),d[x+3+64]=d[x+2+64]=d[x+0+96]=d[x+1+96]=d[x+2+96]=d[x+3+96]=q}function bL(d,x){var M=d[x-1+0],F=d[x-1+32],G=d[x-1+64],q=d[x-1+96],X=d[x-1-32],Y=d[x+0-32],ne=d[x+1-32],ue=d[x+2-32];d[x+0+0]=d[x+2+32]=M+X+1>>1,d[x+0+32]=d[x+2+64]=F+M+1>>1,d[x+0+64]=d[x+2+96]=G+F+1>>1,d[x+0+96]=q+G+1>>1,d[x+3+0]=Fn(Y,ne,ue),d[x+2+0]=Fn(X,Y,ne),d[x+1+0]=d[x+3+32]=Fn(M,X,Y),d[x+1+32]=d[x+3+64]=Fn(F,M,X),d[x+1+64]=d[x+3+96]=Fn(G,F,M),d[x+1+96]=Fn(q,G,F)}function xL(d,x){var M;for(M=0;8>M;++M)r(d,x+32*M,d,x-32,8)}function t1(d,x){var M;for(M=0;8>M;++M)i(d,x,d[x-1],8),x+=32}function Kd(d,x,M){var F;for(F=0;8>F;++F)i(x,M+32*F,d,8)}function Gh(d,x){var M,F=8;for(M=0;8>M;++M)F+=d[x+M-32]+d[x-1+32*M];Kd(F>>4,d,x)}function CL(d,x){var M,F=4;for(M=0;8>M;++M)F+=d[x+M-32];Kd(F>>3,d,x)}function qd(d,x){var M,F=4;for(M=0;8>M;++M)F+=d[x-1+32*M];Kd(F>>3,d,x)}function n1(d,x){Kd(128,d,x)}function f0(d,x,M){var F=d[x-M],G=d[x+0],q=3*(G-F)+IL[1020+d[x-2*M]-d[x+M]],X=$E[112+(q+4>>3)];d[x-M]=Za[255+F+$E[112+(q+3>>3)]],d[x+0]=Za[255+G-X]}function UE(d,x,M,F){return Dl[255+d[x-2*M]-d[x-M]]>F||Dl[255+d[x+M]-d[x+0]]>F}function PE(d,x,M,F){return 4*Dl[255+d[x-M]-d[x+0]]+Dl[255+d[x-2*M]-d[x+M]]<=F}function NE(d,x,M,F,G){var q=d[x-3*M],X=d[x-2*M],Y=d[x-M],ne=d[x+0],ue=d[x+M],_e=d[x+2*M];return 4*Dl[255+Y-ne]+Dl[255+X-ue]>F?0:Dl[255+d[x-4*M]-q]<=G&&Dl[255+q-X]<=G&&Dl[255+X-Y]<=G&&Dl[255+d[x+3*M]-_e]<=G&&Dl[255+_e-ue]<=G&&Dl[255+ue-ne]<=G}function OE(d,x,M,F){var G=2*F+1;for(F=0;16>F;++F)PE(d,x+F,M,G)&&f0(d,x+F,M)}function pu(d,x,M,F){var G=2*F+1;for(F=0;16>F;++F)PE(d,x+F*M,1,G)&&f0(d,x+F*M,1)}function yA(d,x,M,F){var G;for(G=3;0<G;--G)OE(d,x+=4*M,M,F)}function EL(d,x,M,F){var G;for(G=3;0<G;--G)pu(d,x+=4,M,F)}function zh(d,x,M,F,G,q,X,Y){for(q=2*q+1;0<G--;){if(NE(d,x,M,q,X))if(UE(d,x,M,Y))f0(d,x,M);else{var ne=d,ue=x,_e=M,ke=ne[ue-2*_e],He=ne[ue-_e],De=ne[ue+0],ht=ne[ue+_e],Xe=ne[ue+2*_e],be=27*(at=IL[1020+3*(De-He)+IL[1020+ke-ht]])+63>>7,Be=18*at+63>>7,at=9*at+63>>7;ne[ue-3*_e]=Za[255+ne[ue-3*_e]+at],ne[ue-2*_e]=Za[255+ke+Be],ne[ue-_e]=Za[255+He+be],ne[ue+0]=Za[255+De-be],ne[ue+_e]=Za[255+ht-Be],ne[ue+2*_e]=Za[255+Xe-at]}x+=F}}function vc(d,x,M,F,G,q,X,Y){for(q=2*q+1;0<G--;){if(NE(d,x,M,q,X))if(UE(d,x,M,Y))f0(d,x,M);else{var ne=d,ue=x,_e=M,ke=ne[ue-_e],He=ne[ue+0],De=ne[ue+_e],ht=$E[112+(4+(Xe=3*(He-ke))>>3)],Xe=$E[112+(Xe+3>>3)],be=ht+1>>1;ne[ue-2*_e]=Za[255+ne[ue-2*_e]+be],ne[ue-_e]=Za[255+ke+Xe],ne[ue+0]=Za[255+He-ht],ne[ue+_e]=Za[255+De-be]}x+=F}}function r1(d,x,M,F,G,q){zh(d,x,M,1,16,F,G,q)}function Xd(d,x,M,F,G,q){zh(d,x,1,M,16,F,G,q)}function SL(d,x,M,F,G,q){var X;for(X=3;0<X;--X)vc(d,x+=4*M,M,1,16,F,G,q)}function d0(d,x,M,F,G,q){var X;for(X=3;0<X;--X)vc(d,x+=4,1,M,16,F,G,q)}function BL(d,x,M,F,G,q,X,Y){zh(d,x,G,1,8,q,X,Y),zh(M,F,G,1,8,q,X,Y)}function i1(d,x,M,F,G,q,X,Y){zh(d,x,1,G,8,q,X,Y),zh(M,F,1,G,8,q,X,Y)}function s1(d,x,M,F,G,q,X,Y){vc(d,x+4*G,G,1,8,q,X,Y),vc(M,F+4*G,G,1,8,q,X,Y)}function kE(d,x,M,F,G,q,X,Y){vc(d,x+4,1,G,8,q,X,Y),vc(M,F+4,1,G,8,q,X,Y)}function p0(){this.ba=new mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function o1(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function a1(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function HE(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new O}function ML(){this.xb=this.a=0,this.l=new Wn,this.ca=new mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new HE,this.ab=0,this.gc=o(4,a1),this.Oc=0}function g0(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yd(d,x,M,F,G,q,X){for(d=null==d?0:d[x+0],x=0;x<X;++x)G[q+x]=d+M[F+x]&255,d=G[q+x]}function l1(d,x,M,F,G,q,X){var Y;if(null==d)Yd(null,null,M,F,G,q,X);else for(Y=0;Y<X;++Y)G[q+Y]=d[x+Y]+M[F+Y]&255}function jh(d,x,M,F,G,q,X){if(null==d)Yd(null,null,M,F,G,q,X);else{var Y,ne=d[x+0],ue=ne,_e=ne;for(Y=0;Y<X;++Y)ue=_e+(ne=d[x+Y])-ue,_e=M[F+Y]+(-256&ue?0>ue?0:255:ue)&255,ue=ne,G[q+Y]=_e}}function c1(d,x,M,F){var G=x.width,q=x.o;if(e(null!=d&&null!=x),0>M||0>=F||M+F>q)return null;if(!d.Cc){if(null==d.ga){var X;if(d.ga=new g0,(X=null==d.ga)||(X=x.width*x.o,e(0==d.Gb.length),d.Gb=s(X),d.Uc=0,null==d.Gb?X=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,X=1),X=!X),!X){var Y=d.Fa,ne=d.P,ue=d.qc,_e=d.mb,ke=d.nb,He=ne+1,De=ue-1,ht=(X=d.ga).l;if(e(null!=Y&&null!=_e&&null!=x),Yh[0]=null,Yh[1]=Yd,Yh[2]=l1,Yh[3]=jh,X.ca=_e,X.tb=ke,X.c=x.width,X.i=x.height,e(0<X.c&&0<X.i),1>=ue)x=0;else if(X.$a=Y[ne+0]>>0&3,X.Z=Y[ne+0]>>2&3,X.Lc=Y[ne+0]>>4&3,ne=Y[ne+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ne)x=0;else if(ht.put=Zn,ht.ac=Hn,ht.bc=Oi,ht.ma=X,ht.width=x.width,ht.height=x.height,ht.Da=x.Da,ht.v=x.v,ht.va=x.va,ht.j=x.j,ht.o=x.o,X.$a)e:{e(1==X.$a),x=pa();t:for(;;){if(null==x){x=0;break e}if(e(null!=X),X.mc=x,x.c=X.c,x.i=X.i,x.l=X.l,x.l.ma=X,x.l.width=X.c,x.l.height=X.i,x.a=0,Z(x.m,Y,He,De),!Sl(X.c,X.i,1,x,null)||(1==x.ab&&3==x.gc[0].hc&&Cl(x.s)?(X.ic=1,Y=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(Y),x.Ba=0,null==x.V?(x.a=1,x=0):x=1):(X.ic=0,x=mA(x,X.c)),!x))break t;x=1;break e}X.mc=null,x=0}else x=De>=X.c*X.i;X=!x}if(X)return null;1!=d.ga.Lc?d.Ga=0:F=q-M}e(null!=d.ga),e(M+F<=q);e:{if(x=(Y=d.ga).c,q=Y.l.o,0==Y.$a){if(He=d.rc,De=d.Vc,ht=d.Fa,ue=d.mb,_e=d.nb+M*x,e((ne=d.P+1+M*x)<=d.P+d.qc),0!=Y.Z)for(e(null!=Yh[Y.Z]),X=0;X<F;++X)Yh[Y.Z](He,De,ht,ne,ue,_e,x),He=ue,De=_e,_e+=x,ne+=x;else for(X=0;X<F;++X)r(ue,_e,ht,ne,x),He=ue,De=_e,_e+=x,ne+=x;d.rc=He,d.Vc=De}else{if(e(null!=Y.mc),x=M+F,e(null!=(X=Y.mc)),e(x<=X.i),X.C>=x)x=1;else if(Y.ic||Le(),Y.ic){Y=X.V,He=X.Ba;var Xe=X.i,be=(ht=1,ne=X.$/(De=X.c),ue=X.$%De,_e=X.m,ke=X.s,X.$),Be=De*Xe,at=De*x,vt=ke.wc,ut=be<at?Ii(ke,ue,ne):null;e(be<=Be),e(x<=Xe),e(Cl(ke));t:for(;;){for(;!_e.h&&be<at;){if(ue&vt||(ut=Ii(ke,ue,ne)),e(null!=ut),pe(_e),256>(Xe=ki(ut.G[0],ut.H[0],_e)))Y[He+be]=Xe,++be,++ue>=De&&(ue=0,++ne<=x&&!(ne%16)&&fa(X,ne));else{if(!(280>Xe)){ht=0;break t}Xe=ha(Xe-256,_e);var Xt,Ft=ki(ut.G[4],ut.H[4],_e);if(pe(_e),!(be>=(Ft=Ka(De,Ft=ha(Ft,_e)))&&Be-be>=Xe)){ht=0;break t}for(Xt=0;Xt<Xe;++Xt)Y[He+be+Xt]=Y[He+be+Xt-Ft];for(be+=Xe,ue+=Xe;ue>=De;)ue-=De,++ne<=x&&!(ne%16)&&fa(X,ne);be<at&&ue&vt&&(ut=Ii(ke,ue,ne))}e(_e.h==$(_e))}fa(X,ne>x?x:ne);break t}!ht||_e.h&&be<Be?(ht=0,X.a=_e.h?5:3):X.$=be,x=ht}else x=da(X,X.V,X.Ba,X.c,X.i,x,Qh);if(!x){F=0;break e}}M+F>=q&&(d.Cc=1),F=1}if(!F)return null;if(d.Cc&&(null!=(F=d.ga)&&(F.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+M*G}function S(d,x,M,F,G,q){for(;0<G--;){var X,Y=d,ne=x+(M?1:0),ue=d,_e=x+(M?0:3);for(X=0;X<F;++X){var ke=ue[_e+4*X];255!=ke&&(Y[ne+4*X+0]=Y[ne+4*X+0]*(ke*=32897)>>23,Y[ne+4*X+1]=Y[ne+4*X+1]*ke>>23,Y[ne+4*X+2]=Y[ne+4*X+2]*ke>>23)}x+=q}}function j(d,x,M,F,G){for(;0<F--;){var q;for(q=0;q<M;++q){var X=d[x+2*q+0],Y=15&(ue=d[x+2*q+1]),ne=4369*Y,ue=(240&ue|ue>>4)*ne>>16;d[x+2*q+0]=(240&X|X>>4)*ne>>16&240|(15&X|X<<4)*ne>>16>>4&15,d[x+2*q+1]=240&ue|Y}x+=G}}function fe(d,x,M,F,G,q,X,Y){var ne,ue,_e=255;for(ue=0;ue<G;++ue){for(ne=0;ne<F;++ne){var ke=d[x+ne];q[X+4*ne]=ke,_e&=ke}x+=M,X+=Y}return 255!=_e}function ye(d,x,M,F,G){var q;for(q=0;q<G;++q)M[F+q]=d[x+q]>>8}function Le(){Il=S,oi=j,ai=fe,ts=ye}function et(d,x,M){P[d]=function(F,G,q,X,Y,ne,ue,_e,ke,He,De,ht,Xe,be,Be,at,vt){var ut,Xt=vt-1>>1,Ft=Y[ne+0]|ue[_e+0]<<16,vn=ke[He+0]|De[ht+0]<<16;e(null!=F);var Nt=3*Ft+vn+131074>>2;for(x(F[G+0],255&Nt,Nt>>16,Xe,be),null!=q&&x(q[X+0],255&(Nt=3*vn+Ft+131074>>2),Nt>>16,Be,at),ut=1;ut<=Xt;++ut){var Dr=Y[ne+ut]|ue[_e+ut]<<16,Qr=ke[He+ut]|De[ht+ut]<<16,xr=Ft+Dr+vn+Qr+524296,Ar=xr+2*(Dr+vn)>>3;Nt=Ar+Ft>>1,Ft=(xr=xr+2*(Ft+Qr)>>3)+Dr>>1,x(F[G+2*ut-1],255&Nt,Nt>>16,Xe,be+(2*ut-1)*M),x(F[G+2*ut-0],255&Ft,Ft>>16,Xe,be+(2*ut-0)*M),null!=q&&(Ft=Ar+Qr>>1,x(q[X+2*ut-1],255&(Nt=xr+vn>>1),Nt>>16,Be,at+(2*ut-1)*M),x(q[X+2*ut+0],255&Ft,Ft>>16,Be,at+(2*ut+0)*M)),Ft=Dr,vn=Qr}1&vt||(x(F[G+vt-1],255&(Nt=3*Ft+vn+131074>>2),Nt>>16,Xe,be+(vt-1)*M),null!=q&&x(q[X+vt-1],255&(Nt=3*vn+Ft+131074>>2),Nt>>16,Be,at+(vt-1)*M))}}function wt(){Fl[KE]=Sye,Fl[qE]=i9,Fl[Jz]=Bye,Fl[XE]=s9,Fl[YE]=o9,Fl[DL]=a9,Fl[e9]=Mye,Fl[FL]=i9,Fl[RL]=s9,Fl[ZE]=o9,Fl[LL]=a9}function qt(d){return d&~Tye?0>d?0:255:d>>l9}function dn(d,x){return qt((19077*d>>8)+(26149*x>>8)-14234)}function Vn(d,x,M){return qt((19077*d>>8)-(6419*x>>8)-(13320*M>>8)+8708)}function Nn(d,x){return qt((19077*d>>8)+(33050*x>>8)-17685)}function vr(d,x,M,F,G){F[G+0]=dn(d,M),F[G+1]=Vn(d,x,M),F[G+2]=Nn(d,x)}function Di(d,x,M,F,G){F[G+0]=Nn(d,x),F[G+1]=Vn(d,x,M),F[G+2]=dn(d,M)}function Hi(d,x,M,F,G){var q=Vn(d,x,M);x=q<<3&224|Nn(d,x)>>3,F[G+0]=248&dn(d,M)|q>>5,F[G+1]=x}function cs(d,x,M,F,G){var q=240&Nn(d,x)|15;F[G+0]=240&dn(d,M)|Vn(d,x,M)>>4,F[G+1]=q}function Mo(d,x,M,F,G){F[G+0]=255,vr(d,x,M,F,G+1)}function Fs(d,x,M,F,G){Di(d,x,M,F,G),F[G+3]=255}function yc(d,x,M,F,G){vr(d,x,M,F,G),F[G+3]=255}function Ya(d,x){return 0>d?0:d>x?x:d}function gu(d,x,M){P[d]=function(F,G,q,X,Y,ne,ue,_e,ke){for(var He=_e+(-2&ke)*M;_e!=He;)x(F[G+0],q[X+0],Y[ne+0],ue,_e),x(F[G+1],q[X+0],Y[ne+0],ue,_e+M),G+=2,++X,++ne,_e+=2*M;1&ke&&x(F[G+0],q[X+0],Y[ne+0],ue,_e)}}function QE(d,x,M){return 0==M?0==d?0==x?6:5:0==x?4:0:M}function u1(d,x,M,F,G){switch(d>>>30){case 3:bA(x,M,F,G,0);break;case 2:es(x,M,F,G);break;case 1:$o(x,M,F,G)}}function A1(d,x){var M,F,G=x.M,q=x.Nb,X=d.oc,Y=d.pc+40,ne=d.oc,ue=d.pc+584,_e=d.oc,ke=d.pc+600;for(M=0;16>M;++M)X[Y+32*M-1]=129;for(M=0;8>M;++M)ne[ue+32*M-1]=129,_e[ke+32*M-1]=129;for(0<G?X[Y-1-32]=ne[ue-1-32]=_e[ke-1-32]=129:(i(X,Y-32-1,127,21),i(ne,ue-32-1,127,9),i(_e,ke-32-1,127,9)),F=0;F<d.za;++F){var He=x.ya[x.aa+F];if(0<F){for(M=-1;16>M;++M)r(X,Y+32*M-4,X,Y+32*M+12,4);for(M=-1;8>M;++M)r(ne,ue+32*M-4,ne,ue+32*M+4,4),r(_e,ke+32*M-4,_e,ke+32*M+4,4)}var De=d.Gd,ht=d.Hd+F,Xe=He.ad,be=He.Hc;if(0<G&&(r(X,Y-32,De[ht].y,0,16),r(ne,ue-32,De[ht].f,0,8),r(_e,ke-32,De[ht].ea,0,8)),He.Za){var Be=X,at=Y-32+16;for(0<G&&(F>=d.za-1?i(Be,at,De[ht].y[15],4):r(Be,at,De[ht+1].y,0,4)),M=0;4>M;M++)Be[at+128+M]=Be[at+256+M]=Be[at+384+M]=Be[at+0+M];for(M=0;16>M;++M,be<<=2)wc[He.Ob[M]](Be=X,at=Y+u9[M]),u1(be,Xe,16*+M,Be,at)}else if(Be=QE(F,G,He.Ob[0]),Xh[Be](X,Y),0!=be)for(M=0;16>M;++M,be<<=2)u1(be,Xe,16*+M,X,Y+u9[M]);for(M=He.Gc,Be=QE(F,G,He.Dd),CA[Be](ne,ue),CA[Be](_e,ke),be=Xe,Be=ne,at=ue,255&(He=M>>0)&&(170&He?g1(be,256,Be,at):Ml(be,256,Be,at)),He=_e,be=ke,255&(M>>=8)&&(170&M?g1(Xe,320,He,be):Ml(Xe,320,He,be)),G<d.Ub-1&&(r(De[ht].y,0,X,Y+480,16),r(De[ht].f,0,ne,ue+224,8),r(De[ht].ea,0,_e,ke+224,8)),De=d.sa,ht=d.ta+16*F+16*q*d.R,Xe=d.qa,He=d.ra+8*F+(M=8*q*d.B),be=d.Ha,Be=d.Ia+8*F+M,M=0;16>M;++M)r(De,ht+M*d.R,X,Y+32*M,16);for(M=0;8>M;++M)r(Xe,He+M*d.B,ne,ue+32*M,8),r(be,Be+M*d.B,_e,ke+32*M,8)}}function m0(d,x,M,F,G,q,X,Y,ne){var ue=[0],_e=[0],ke=0,He=null!=ne?ne.kd:0,De=ne??new o1;if(null==d||12>M)return 7;De.data=d,De.w=x,De.ha=M,x=[x],M=[M],De.gb=[De.gb];e:{var ht=x,Xe=M,be=De.gb;if(e(null!=d),e(null!=Xe),e(null!=be),be[0]=0,12<=Xe[0]&&!t(d,ht[0],"RIFF")){if(t(d,ht[0]+8,"WEBP")){be=3;break e}var Be=nt(d,ht[0]+4);if(12>Be||4294967286<Be){be=3;break e}if(He&&Be>Xe[0]-8){be=7;break e}be[0]=Be,ht[0]+=12,Xe[0]-=12}be=0}if(0!=be)return be;for(Be=0<De.gb[0],M=M[0];;){e:{var at=d;Xe=x,be=M;var vt=ue,ut=_e,Xt=ht=[0];if((Nt=ke=[ke])[0]=0,8>be[0])be=7;else{if(!t(at,Xe[0],"VP8X")){if(10!=nt(at,Xe[0]+4)){be=3;break e}if(18>be[0]){be=7;break e}var Ft=nt(at,Xe[0]+8),vn=1+dt(at,Xe[0]+12);if(2147483648<=vn*(at=1+dt(at,Xe[0]+15))){be=3;break e}null!=Xt&&(Xt[0]=Ft),null!=vt&&(vt[0]=vn),null!=ut&&(ut[0]=at),Xe[0]+=18,be[0]-=18,Nt[0]=1}be=0}}if(ke=ke[0],0!=be)return be;if(Xe=!!(2&(ht=ht[0])),!Be&&ke)return 3;if(null!=q&&(q[0]=!!(16&ht)),null!=X&&(X[0]=Xe),null!=Y&&(Y[0]=0),X=ue[0],ht=_e[0],ke&&Xe&&null==ne){be=0;break}if(4>M){be=7;break}if(Be&&ke||!Be&&!ke&&!t(d,x[0],"ALPH")){M=[M],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{be=x,Be=M;var Nt=De.gb;vt=De.na,ut=De.P,Xt=De.Sa,vn=22,e(null!=(Ft=d)),e(null!=Be),at=be[0];var Dr=Be[0];for(e(null!=vt),e(null!=Xt),vt[0]=null,ut[0]=null,Xt[0]=0;;){if(be[0]=at,Be[0]=Dr,8>Dr){be=7;break e}var Qr=nt(Ft,at+4);if(4294967286<Qr){be=3;break e}var xr=8+Qr+1&-2;if(vn+=xr,0<Nt&&vn>Nt){be=3;break e}if(!t(Ft,at,"VP8 ")||!t(Ft,at,"VP8L")){be=0;break e}if(Dr[0]<xr){be=7;break e}t(Ft,at,"ALPH")||(vt[0]=Ft,ut[0]=at+8,Xt[0]=Qr),at+=xr,Dr-=xr}}if(M=M[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],0!=be)break}M=[M],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Nt=d,be=x,Be=M,vt=De.gb[0],ut=De.Ja,Xt=De.xa,Ft=be[0],at=!t(Nt,Ft,"VP8 "),vn=!t(Nt,Ft,"VP8L"),e(null!=Nt),e(null!=Be),e(null!=ut),e(null!=Xt),8>Be[0])be=7;else{if(at||vn){if(Nt=nt(Nt,Ft+4),12<=vt&&Nt>vt-12){be=3;break e}if(He&&Nt>Be[0]-8){be=7;break e}ut[0]=Nt,be[0]+=8,Be[0]-=8,Xt[0]=vn}else Xt[0]=5<=Be[0]&&47==Nt[Ft+0]&&!(Nt[Ft+4]>>5),ut[0]=Be[0];be=0}if(M=M[0],De.Ja=De.Ja[0],De.xa=De.xa[0],x=x[0],0!=be)break;if(4294967286<De.Ja)return 3;if(null==Y||Xe||(Y[0]=De.xa?2:1),X=[X],ht=[ht],De.xa){if(5>M){be=7;break}Y=X,He=ht,Xe=q,null==d||5>M?d=0:5<=M&&47==d[x+0]&&!(d[x+4]>>5)?(Be=[0],Nt=[0],vt=[0],Z(ut=new Q,d,x,M),cn(ut,Be,Nt,vt)?(null!=Y&&(Y[0]=Be[0]),null!=He&&(He[0]=Nt[0]),null!=Xe&&(Xe[0]=vt[0]),d=1):d=0):d=0}else{if(10>M){be=7;break}Y=ht,null==d||10>M||!br(d,x+3,M-3)?d=0:(He=d[x+0]|d[x+1]<<8|d[x+2]<<16,Xe=16383&(d[x+7]<<8|d[x+6]),d=16383&(d[x+9]<<8|d[x+8]),1&He||3<(He>>1&7)||!(He>>4&1)||He>>5>=De.Ja||!Xe||!d?d=0:(X&&(X[0]=Xe),Y&&(Y[0]=d),d=1))}if(!d||(X=X[0],ht=ht[0],ke&&(ue[0]!=X||_e[0]!=ht)))return 3;null!=ne&&(ne[0]=De,ne.offset=x-ne.w,e(4294967286>x-ne.w),e(ne.offset==ne.ha-M));break}return 0==be||7==be&&ke&&null==ne?(null!=q&&(q[0]|=null!=De.na&&0<De.na.length),null!=F&&(F[0]=X),null!=G&&(G[0]=ht),0):be}function h1(d,x,M){var F=x.width,G=x.height,q=0,X=0,Y=F,ne=G;if(x.Da=null!=d&&0<d.Da,x.Da&&(Y=d.cd,ne=d.bd,q=d.v,X=d.j,11>M||(q&=-2,X&=-2),0>q||0>X||0>=Y||0>=ne||q+Y>F||X+ne>G))return 0;if(x.v=q,x.j=X,x.va=q+Y,x.o=X+ne,x.U=Y,x.T=ne,x.da=null!=d&&0<d.da,x.da){if(!Pe(Y,ne,M=[d.ib],q=[d.hb]))return 0;x.ib=M[0],x.hb=q[0]}return x.ob=null!=d&&d.ob,x.Kb=null==d||!d.Sd,x.da&&(x.ob=x.ib<3*F/4&&x.hb<3*G/4,x.Kb=0),1}function f1(d){if(null==d)return 2;if(11>d.S){var x=d.f.RGBA;x.fb+=(d.height-1)*x.A,x.A=-x.A}else(x=d.f.kb).O+=((d=d.height)-1)*x.fa,x.fa=-x.fa,x.N+=(d-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(d-1>>1)*x.Db,x.Db=-x.Db,null!=x.F&&(x.J+=(d-1)*x.lb,x.lb=-x.lb);return 0}function v0(d,x,M,F){if(null==F||0>=d||0>=x)return 2;if(null!=M){if(M.Da){var G=M.cd,q=M.bd,X=-2&M.v,Y=-2&M.j;if(0>X||0>Y||0>=G||0>=q||X+G>d||Y+q>x)return 2;d=G,x=q}if(M.da){if(!Pe(d,x,G=[M.ib],q=[M.hb]))return 2;d=G[0],x=q[0]}}F.width=d,F.height=x;e:{var ne=F.width,ue=F.height;if(d=F.S,0>=ne||0>=ue||!(d>=KE&&13>d))d=2;else{if(0>=F.Rd&&null==F.sd){X=q=G=x=0;var _e=(Y=ne*A9[d])*ue;if(11>d||(q=(ue+1)/2*(x=(ne+1)/2),12==d&&(X=(G=ne)*ue)),null==(ue=s(_e+2*q+X))){d=1;break e}F.sd=ue,11>d?((ne=F.f.RGBA).eb=ue,ne.fb=0,ne.A=Y,ne.size=_e):((ne=F.f.kb).y=ue,ne.O=0,ne.fa=Y,ne.Fd=_e,ne.f=ue,ne.N=0+_e,ne.Ab=x,ne.Cd=q,ne.ea=ue,ne.W=0+_e+q,ne.Db=x,ne.Ed=q,12==d&&(ne.F=ue,ne.J=0+_e+2*q),ne.Tc=X,ne.lb=G)}if(x=1,q=F.width,X=F.height,(G=F.S)>=KE&&13>G)if(11>G)d=F.f.RGBA,x&=(Y=Math.abs(d.A))*(X-1)+q<=d.size,x&=Y>=q*A9[G],x&=null!=d.eb;else{d=F.f.kb,Y=(q+1)/2,_e=(X+1)/2,ne=Math.abs(d.fa),ue=Math.abs(d.Ab);var ke=Math.abs(d.Db),He=Math.abs(d.lb);x&=ne*(X-1)+q<=d.Fd,x&=ue*(_e-1)+Y<=d.Cd,x=(x&=ke*(_e-1)+Y<=d.Ed)&ne>=q&ue>=Y&ke>=Y,x&=null!=d.y,x&=null!=d.f,x&=null!=d.ea,12==G&&(x&=He>=q,x&=He*(X-1)+q<=d.Tc,x&=null!=d.F)}else x=0;d=x?0:2}}return 0!=d||null!=M&&M.fd&&(d=f1(F)),d}var Xs=64,y0=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],w0=24,_0=32,d1=8,ga=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(d){return d},P.Predictor2=function(d,x,M){return x[M+0]},P.Predictor3=function(d,x,M){return x[M+1]},P.Predictor4=function(d,x,M){return x[M-1]},P.Predictor5=function(d,x,M){return ot(ot(d,x[M+1]),x[M+0])},P.Predictor6=function(d,x,M){return ot(d,x[M-1])},P.Predictor7=function(d,x,M){return ot(d,x[M+0])},P.Predictor8=function(d,x,M){return ot(x[M-1],x[M+0])},P.Predictor9=function(d,x,M){return ot(x[M+0],x[M+1])},P.Predictor10=function(d,x,M){return ot(ot(d,x[M-1]),ot(x[M+0],x[M+1]))},P.Predictor11=function(d,x,M){var F=x[M+0];return 0>=Ce(F>>24&255,d>>24&255,(x=x[M-1])>>24&255)+Ce(F>>16&255,d>>16&255,x>>16&255)+Ce(F>>8&255,d>>8&255,x>>8&255)+Ce(255&F,255&d,255&x)?F:d},P.Predictor12=function(d,x,M){var F=x[M+0];return(re((d>>24&255)+(F>>24&255)-((x=x[M-1])>>24&255))<<24|re((d>>16&255)+(F>>16&255)-(x>>16&255))<<16|re((d>>8&255)+(F>>8&255)-(x>>8&255))<<8|re((255&d)+(255&F)-(255&x)))>>>0},P.Predictor13=function(d,x,M){var F=x[M-1];return(z((d=ot(d,x[M+0]))>>24&255,F>>24&255)<<24|z(d>>16&255,F>>16&255)<<16|z(d>>8&255,F>>8&255)<<8|z(d>>0&255,F>>0&255))>>>0};var TL=P.PredictorAdd0;P.PredictorAdd1=Ne,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var p1=P.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var VE,Bl=P.ColorIndexInverseTransform,b0=P.MapARGB,GE=P.VP8LColorIndexInverseTransformAlpha,zE=P.MapAlpha,Wh=P.VP8LPredictorsAdd=[];Wh.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Zd,ma,Wo,$h,wA,_A,x0,bA,es,g1,$o,Ml,C0,jE,m1,Jd,ep,Kh,tp,E0,np,qh,v1,Tl,Il,oi,ai,ts,Ss=s(511),xA=s(2041),y1=s(225),S0=s(767),WE=0,IL=xA,$E=y1,Za=S0,Dl=Ss,KE=0,qE=1,Jz=2,XE=3,YE=4,DL=5,e9=6,FL=7,RL=8,ZE=9,LL=10,hye=[2,3,7],fye=[3,3,11],t9=[280,256,256,256,40],dye=[0,1,1,1,0],pye=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gye=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mye=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vye=8,UL=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],PL=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],w1=null,yye=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wye=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],n9=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_ye=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bye=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],xye=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Cye=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xh=[],wc=[],CA=[],Eye=1,r9=2,Yh=[],Fl=[];et("UpsampleRgbLinePair",vr,3),et("UpsampleBgrLinePair",Di,3),et("UpsampleRgbaLinePair",yc,4),et("UpsampleBgraLinePair",Fs,4),et("UpsampleArgbLinePair",Mo,4),et("UpsampleRgba4444LinePair",cs,2),et("UpsampleRgb565LinePair",Hi,2);var Sye=P.UpsampleRgbLinePair,Bye=P.UpsampleBgrLinePair,i9=P.UpsampleRgbaLinePair,s9=P.UpsampleBgraLinePair,o9=P.UpsampleArgbLinePair,a9=P.UpsampleRgba4444LinePair,Mye=P.UpsampleRgb565LinePair,JE=16,eS=1<<JE-1,_1=-227,NL=482,l9=6,Tye=(256<<l9)-1,c9=0,Iye=s(256),Dye=s(256),Fye=s(256),Rye=s(256),Lye=s(NL-_1),Uye=s(NL-_1);gu("YuvToRgbRow",vr,3),gu("YuvToBgrRow",Di,3),gu("YuvToRgbaRow",yc,4),gu("YuvToBgraRow",Fs,4),gu("YuvToArgbRow",Mo,4),gu("YuvToRgba4444Row",cs,2),gu("YuvToRgb565Row",Hi,2);var u9=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tS=[0,2,8],Pye=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(d,x,M,F,G){var q=qE,X=new p0,Y=new mt;X.ba=Y,Y.S=q,Y.width=[Y.width],Y.height=[Y.height];var ne=Y.width,ue=Y.height,_e=new zt;if(null==_e||null==d)var ke=2;else e(null!=_e),ke=m0(d,x,M,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(0!=ke?ne=0:(null!=ne&&(ne[0]=_e.width[0]),null!=ue&&(ue[0]=_e.height[0]),ne=1),ne){Y.width=Y.width[0],Y.height=Y.height[0],null!=F&&(F[0]=Y.width),null!=G&&(G[0]=Y.height);e:{if(F=new Wn,(G=new o1).data=d,G.w=x,G.ha=M,G.kd=1,x=[0],e(null!=G),(0==(d=m0(G.data,G.w,G.ha,null,null,null,x,null,G))||7==d)&&x[0]&&(d=4),0==(x=d)){if(e(null!=X),F.data=G.data,F.w=G.w+G.offset,F.ha=G.ha-G.offset,F.put=Zn,F.ac=Hn,F.bc=Oi,F.ma=X,G.xa){if(null==(d=pa())){X=1;break e}if(function(He,De){var ht=[0],Xe=[0],be=[0];t:for(;;){if(null==He)return 0;if(null==De)return He.a=2,0;if(He.l=De,He.a=0,Z(He.m,De.data,De.w,De.ha),!cn(He.m,ht,Xe,be)){He.a=3;break t}if(He.xb=r9,De.width=ht[0],De.height=Xe[0],!Sl(ht[0],Xe[0],1,He,null))break t;return 1}return e(0!=He.a),0}(d,F)){if(F=0==(x=v0(F.width,F.height,X.Oa,X.ba))){t:{F=d;n:for(;;){if(null==F){F=0;break t}if(e(null!=F.s.yc),e(null!=F.s.Ya),e(0<F.s.Wb),e(null!=(M=F.l)),e(null!=(G=M.ma)),0!=F.xb){if(F.ca=G.ba,F.tb=G.tb,e(null!=F.ca),!h1(G.Oa,M,XE)){F.a=2;break n}if(!mA(F,M.width)||M.da)break n;if((M.da||Vt(F.ca.S))&&Le(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=F.ca.f.kb.F&&Le()),F.Pb&&0<F.s.ua&&null==F.s.vb.X&&!te(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!da(F,F.V,F.Ba,F.c,F.i,M.o,gc))break n;G.Dc=F.Ma,F=1;break t}e(0!=F.a),F=0}F=!F}F&&(x=d.a)}else x=d.a}else{if(null==(d=new mr)){X=1;break e}if(d.Fa=G.na,d.P=G.P,d.qc=G.Sa,Sr(d,F)){if(0==(x=v0(F.width,F.height,X.Oa,X.ba))){if(d.Aa=0,M=X.Oa,e(null!=(G=d)),null!=M){if(0<(ne=0>(ne=M.Md)?0:100<ne?255:255*ne/100)){for(ue=_e=0;4>ue;++ue)12>(ke=G.pb[ue]).lc&&(ke.ia=ne*Pye[0>ke.lc?0:ke.lc]>>3),_e|=ke.ia;_e&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=M.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}(function ur(d,x){if(null==d)return 0;if(null==x)return Qn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Sr(d,x))return 0;if(e(d.cb),null==x.ac||x.ac(x)){x.ob&&(d.L=0);var M=tS[d.L];if(2==d.L?(d.yb=0,d.zb=0):(d.yb=x.v-M>>4,d.zb=x.j-M>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=x.o+15+M>>4,d.Hb=x.va+15+M>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var F=d.ed;for(M=0;4>M;++M){var G;if(d.Qa.Cb){var q=d.Qa.Lb[M];d.Qa.Fb||(q+=F.Tb)}else q=F.Tb;for(G=0;1>=G;++G){var X=d.gd[M][G],Y=q;if(F.Pc&&(Y+=F.vd[0],G&&(Y+=F.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var ne=Y;0<F.wb&&(ne=4<F.wb?ne>>2:ne>>1)>9-F.wb&&(ne=9-F.wb),1>ne&&(ne=1),X.dd=ne,X.tc=2*Y+ne,X.ld=40<=Y?2:15<=Y?1:0}else X.tc=0;X.La=G}}}M=0}else Qn(d,6,"Frame setup failed"),M=d.a;if(M=0==M){if(M){d.$c=0,0<d.Aa||(d.Ic=1);e:{F=4*(ne=d.za);var ue=32*ne,_e=ne+1,ke=0<d.L?ne*(0<d.Aa?2:1):0,He=(2==d.Aa?2:1)*ne;if((X=F+832+(G=3*(16*(M=d.Ic)+tS[d.L])/2*ue)+(q=null!=d.Fa&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=X)M=0;else{if(X>d.Vb){if(d.Vb=0,d.Ec=s(X),d.Fc=0,null==d.Ec){M=Qn(d,1,"no memory during frame initialization.");break e}d.Vb=X}Y=d.Fc,d.Ac=X=d.Ec,d.Bc=Y,Y+=F,d.Gd=o(ue,En),d.Hd=0,d.rb=o(_e+1,Dt),d.sb=1,d.wa=ke?o(ke,bt):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=ne),e(!0),d.oc=X,d.pc=Y,Y+=832,d.ya=o(He,Zt),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,2==d.Aa&&(d.D.aa+=ne),d.R=16*ne,d.B=8*ne,ne=(ue=tS[d.L])*d.R,ue=ue/2*d.B,d.sa=X,d.ta=Y+ne,d.qa=d.sa,d.ra=d.ta+16*M*d.R+ue,d.Ha=d.qa,d.Ia=d.ra+8*M*d.B+ue,d.$c=0,Y+=G,d.mb=q?X:null,d.nb=q?Y:null,e(Y+q<=d.Fc+d.Vb),kr(d),i(d.Ac,d.Bc,0,F),M=1}}if(M){if(x.ka=0,x.y=d.sa,x.O=d.ta,x.f=d.qa,x.N=d.ra,x.ea=d.Ha,x.Vd=d.Ia,x.fa=d.R,x.Rc=d.B,x.F=null,x.J=0,!WE){for(M=-255;255>=M;++M)Ss[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)xA[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)y1[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)S0[255+M]=0>M?0:255<M?255:M;WE=1}x0=$d,bA=So,g1=qs,$o=Cs,Ml=Es,es=Hr,C0=r1,jE=Xd,m1=BL,Jd=i1,ep=SL,Kh=d0,tp=s1,E0=kE,np=OE,qh=pu,v1=yA,Tl=EL,wc[0]=du,wc[1]=pL,wc[2]=yL,wc[3]=wL,wc[4]=RE,wc[5]=h0,wc[6]=LE,wc[7]=e1,wc[8]=bL,wc[9]=_L,Xh[0]=DE,Xh[1]=mL,Xh[2]=vA,Xh[3]=u0,Xh[4]=Bo,Xh[5]=vL,Xh[6]=FE,CA[0]=Gh,CA[1]=gL,CA[2]=xL,CA[3]=t1,CA[4]=qd,CA[5]=CL,CA[6]=n1,M=1}else M=0}M&&(M=function(De,ht){for(De.M=0;De.M<De.Va;++De.M){var Xe,be=De.Jc[De.M&De.Xb],Be=De.m,at=De;for(Xe=0;Xe<at.za;++Xe){var vt=Be,ut=at,Xt=ut.Ac,Ft=ut.Bc+4*Xe,vn=ut.zc,Nt=ut.ya[ut.aa+Xe];if(Nt.$b=ut.Qa.Bb?Ee(vt,ut.Pa.jb[0])?2+Ee(vt,ut.Pa.jb[2]):Ee(vt,ut.Pa.jb[1]):0,ut.kc&&(Nt.Ad=Ee(vt,ut.Bd)),Nt.Za=!Ee(vt,145)+0,Nt.Za){var Dr=Nt.Ob,Qr=0;for(ut=0;4>ut;++ut){var xr,Ar=vn[0+ut];for(xr=0;4>xr;++xr){for(var Jr=n9[Ee(vt,(Ar=bye[Xt[Ft+xr]][Ar])[0])];0<Jr;)Jr=n9[2*Jr+Ee(vt,Ar[Jr])];Xt[Ft+xr]=Ar=-Jr}r(Dr,Qr,Xt,Ft,4),Qr+=4,vn[0+ut]=Ar}}else Ar=Ee(vt,156)?Ee(vt,128)?1:3:Ee(vt,163)?2:0,Nt.Ob[0]=Ar,i(Xt,Ft,Ar,4),i(vn,0,Ar,4);Nt.Dd=Ee(vt,142)?Ee(vt,114)?Ee(vt,183)?1:3:2:0}if(at.m.Ka)return Qn(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(at=be,vt=(Be=De).rb[Be.sb-1],Xt=Be.rb[Be.sb+Be.ja],Xe=Be.ya[Be.aa+Be.ja],Ft=Be.kc?Xe.Ad:0)vt.la=Xt.la=0,Xe.Za||(vt.Na=Xt.Na=0),Xe.Hc=0,Xe.Gc=0,Xe.ia=0;else{var qr,$n;if(vt=Xt,Xt=at,Ft=Be.Pa.Xc,Nt=Be.pb[(vn=Be.ya[Be.aa+Be.ja]).$b],Qr=Be.rb[Be.sb-1],Ar=xr=0,i(ut=vn.ad,Dr=0,0,384),vn.Za)var us=0,va=Ft[3];else{Jr=s(16);var As=vt.Na+Qr.Na;if(As=w1(Xt,Ft[1],As,Nt.Eb,0,Jr,0),vt.Na=Qr.Na=(0<As)+0,1<As)x0(Jr,0,ut,Dr);else{var ya=Jr[0]+3>>3;for(Jr=0;256>Jr;Jr+=16)ut[Dr+Jr]=ya}us=1,va=Ft[0]}var Vr=15&vt.la,Ja=15&Qr.la;for(Jr=0;4>Jr;++Jr){var el=1&Ja;for(ya=$n=0;4>ya;++ya)Vr=Vr>>1|(el=(As=w1(Xt,va,As=el+(1&Vr),Nt.Sc,us,ut,Dr))>us)<<7,$n=$n<<2|(3<As?3:1<As?2:0!=ut[Dr+0]),Dr+=16;Vr>>=4,Ja=Ja>>1|el<<7,xr=(xr<<8|$n)>>>0}for(va=Vr,us=Ja>>4,qr=0;4>qr;qr+=2){for($n=0,Vr=vt.la>>4+qr,Ja=Qr.la>>4+qr,Jr=0;2>Jr;++Jr){for(el=1&Ja,ya=0;2>ya;++ya)Vr=Vr>>1|(el=0<(As=w1(Xt,Ft[2],As=el+(1&Vr),Nt.Qc,0,ut,Dr)))<<3,$n=$n<<2|(3<As?3:1<As?2:0!=ut[Dr+0]),Dr+=16;Vr>>=2,Ja=Ja>>1|el<<5}Ar|=$n<<4*qr,va|=Vr<<4<<qr,us|=(240&Ja)<<qr}vt.la=va,Qr.la=us,vn.Hc=xr,vn.Gc=Ar,vn.ia=43690&Ar?0:Nt.ia,Ft=!(xr|Ar)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[Xe.$b][Xe.Za],Be.wa[Be.Y+Be.ja].La|=!Ft),at.Ka)return Qn(De,7,"Premature end-of-file encountered.")}if(kr(De),Be=ht,at=1,Xe=(be=De).D,vt=0<be.L&&be.M>=be.zb&&be.M<=be.Va,0==be.Aa)e:{if(Xe.M=be.M,Xe.uc=vt,A1(be,Xe),at=1,Xe=($n=be.D).Nb,vt=(Ar=tS[be.L])*be.R,Ft=be.sa,vn=be.ta-vt+(Jr=16*Xe*be.R),Nt=be.qa,ut=be.ra-(Xt=Ar/2*be.B)+(ya=8*Xe*be.B),Dr=be.Ha,Qr=be.Ia-Xt+ya,Ja=0==(Vr=$n.M),xr=Vr>=be.Va-1,2==be.Aa&&A1(be,$n),$n.uc)for(el=(As=be).D.M,e(As.D.uc),$n=As.yb;$n<As.Hb;++$n){va=el;var Rs=(Ys=(Qi=As).D).Nb,Ys=Ys.wa[Ys.Y+(us=$n)],Ko=Qi.sa,Rl=Qi.ta+16*Rs*(qr=Qi.R)+16*us,mu=Ys.dd,Ls=Ys.tc;if(0!=Ls)if(e(3<=Ls),1==Qi.L)0<us&&qh(Ko,Rl,qr,Ls+4),Ys.La&&Tl(Ko,Rl,qr,Ls),0<va&&np(Ko,Rl,qr,Ls+4),Ys.La&&v1(Ko,Rl,qr,Ls);else{var EA=Qi.B,rp=Qi.qa,B0=Qi.ra+8*Rs*EA+8*us,Zh=Qi.Ha,Qi=Qi.Ia+8*Rs*EA+8*us;Rs=Ys.ld,0<us&&(jE(Ko,Rl,qr,Ls+4,mu,Rs),Jd(rp,B0,Zh,Qi,EA,Ls+4,mu,Rs)),Ys.La&&(Kh(Ko,Rl,qr,Ls,mu,Rs),E0(rp,B0,Zh,Qi,EA,Ls,mu,Rs)),0<va&&(C0(Ko,Rl,qr,Ls+4,mu,Rs),m1(rp,B0,Zh,Qi,EA,Ls+4,mu,Rs)),Ys.La&&(ep(Ko,Rl,qr,Ls,mu,Rs),tp(rp,B0,Zh,Qi,EA,Ls,mu,Rs))}}if(be.ia&&alert("todo:DitherRow"),null!=Be.put){if($n=16*Vr,Vr=16*(Vr+1),Ja?(Be.y=be.sa,Be.O=be.ta+Jr,Be.f=be.qa,Be.N=be.ra+ya,Be.ea=be.Ha,Be.W=be.Ia+ya):($n-=Ar,Be.y=Ft,Be.O=vn,Be.f=Nt,Be.N=ut,Be.ea=Dr,Be.W=Qr),xr||(Vr-=Ar),Vr>Be.o&&(Vr=Be.o),Be.F=null,Be.J=null,null!=be.Fa&&0<be.Fa.length&&$n<Vr&&(Be.J=c1(be,Be,$n,Vr-$n),Be.F=be.mb,null==Be.F&&0==Be.F.length)){at=Qn(be,3,"Could not decode alpha data.");break e}$n<Be.j&&(Ar=Be.j-$n,$n=Be.j,e(!(1&Ar)),Be.O+=be.R*Ar,Be.N+=be.B*(Ar>>1),Be.W+=be.B*(Ar>>1),null!=Be.F&&(Be.J+=Be.width*Ar)),$n<Vr&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,null!=Be.F&&(Be.J+=Be.v),Be.ka=$n-Be.j,Be.U=Be.va-Be.v,Be.T=Vr-$n,at=Be.put(Be))}Xe+1!=be.Ic||xr||(r(be.sa,be.ta-vt,Ft,vn+16*be.R,vt),r(be.qa,be.ra-Xt,Nt,ut+8*be.B,Xt),r(be.Ha,be.Ia-Xt,Dr,Qr+8*be.B,Xt))}if(!at)return Qn(De,6,"Output aborted.")}return 1}(d,x)),null!=x.bc&&x.bc(x),M&=1}return M?(d.cb=0,M):0})(d,F)||(x=d.a)}}else x=d.a}0==x&&null!=X.Oa&&X.Oa.fd&&(x=f1(X.ba))}X=x}q=0!=X?null:11>q?Y.f.RGBA.eb:Y.f.kb.y}else q=null;return q};var A9=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,L){for(var D="",I=0;I<4;I++)D+=String.fromCharCode(P[L++]);return D}function u(P,L){return(P[L+0]<<0|P[L+1]<<8|P[L+2]<<16)>>>0}function A(P,L){return(P[L+0]<<0|P[L+1]<<8|P[L+2]<<16|P[L+3]<<24)>>>0}new l;var f=[0],h=[0],g=[],w=new l,v=n,p=function(P,L){var D={},I=0,O=!1,V=0,R=0;if(D.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(se,$,oe,pe){for(var de=0;de<4;de++)if(se[$+de]!="RIFF".charCodeAt(de))return!0;return!1}(P,L)){var J,W;for(A(P,L+=4),L+=8;L<P.length;){var ae=c(P,L),Z=A(P,L+=4);L+=4;var Ae=Z+(1&Z);switch(ae){case"VP8 ":case"VP8L":void 0===D.frames[I]&&(D.frames[I]={}),(Q=D.frames[I]).src_off=O?R:L-8,Q.src_size=V+Z+8,I++,O&&(O=!1,V=0,R=0);break;case"VP8X":(Q=D.header={}).feature_flags=P[L];var ge=L+4;Q.canvas_width=1+u(P,ge),Q.canvas_height=1+u(P,ge+=3),ge+=3;break;case"ALPH":O=!0,V=Ae+8,R=L-8;break;case"ANIM":(Q=D.header).bgcolor=A(P,L),Q.loop_count=(J=P)[(W=ge=L+4)+0]<<0|J[W+1]<<8,ge+=2;break;case"ANMF":var Te,Q;(Q=D.frames[I]={}).offset_x=2*u(P,L),Q.offset_y=2*u(P,L+=3),Q.width=1+u(P,L+=3),Q.height=1+u(P,L+=3),Q.duration=u(P,L+=3),L+=3,Te=P[L++],Q.dispose=1&Te,Q.blend=Te>>1&1}"ANMF"!=ae&&(L+=Ae)}return D}}(v,0);p.response=v,p.rgbaoutput=!0,p.dataurl=!1;var C=p.header?p.header:null,E=p.frames?p.frames:null;if(C){C.loop_counter=C.loop_count,f=[C.canvas_height],h=[C.canvas_width];for(var B=0;B<E.length&&0!=E[B].blend;B++);}var U=E[0],k=w.WebPDecodeRGBA(v,U.src_off,U.src_size,h,f);U.rgba=k,U.imgwidth=h[0],U.imgheight=f[0];for(var H=0;H<h[0]*f[0]*4;H++)g[H]=k[H];return this.width=h,this.height=f,this.data=g,this}(function(n){var t=function(f,h,g,w){var v=4,p=o;switch(w){case n.image_compression.FAST:v=1,p=s;break;case n.image_compression.MEDIUM:v=6,p=a;break;case n.image_compression.SLOW:v=9,p=l}var C=$y(f=r(f,h,g,p),{level:v});return n.__addimage__.arrayBufferToBinaryString(C)},r=function(f,h,g,w){for(var v,p,C,E=f.length/h,B=new Uint8Array(f.length+E),U=u(),k=0;k<E;k+=1){if(v=f.subarray(C=k*h,C+h),w)B.set(w(v,g,p),C+k);else{for(var H,P=U.length,L=[];H<P;H+=1)L[H]=U[H](v,g,p);var D=A(L.concat());B.set(L[D],C+k)}p=v}return B},i=function(f){var h=Array.apply([],f);return h.unshift(0),h},s=function(f,h){var w=[],v=f.length;w[0]=1;for(var p=0;p<v;p+=1)w[p+1]=f[p]-(f[p-h]||0)+256&255;return w},o=function(f,h,g){var v=[],p=f.length;v[0]=2;for(var C=0;C<p;C+=1)v[C+1]=f[C]-(g&&g[C]||0)+256&255;return v},a=function(f,h,g){var p=[],C=f.length;p[0]=3;for(var E=0;E<C;E+=1)p[E+1]=f[E]+256-((f[E-h]||0)+(g&&g[E]||0)>>>1)&255;return p},l=function(f,h,g){var C,E=[],B=f.length;E[0]=4;for(var U=0;U<B;U+=1)C=c(f[U-h]||0,g&&g[U]||0,g&&g[U-h]||0),E[U+1]=f[U]-C+256&255;return E},c=function(f,h,g){if(f===h&&h===g)return f;var w=Math.abs(h-g),v=Math.abs(f-g),p=Math.abs(f+h-g-g);return w<=v&&w<=p?f:v<=p?h:g},u=function(){return[i,s,o,a,l]},A=function(f){var h=f.map(function(g){return g.reduce(function(w,v){return w+Math.abs(v)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(f,h,g,w){var v,p,C,E,B,U,k,H,P,L,D,I,O,V,R,J=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(C=new Aie(f)).imgData,p=C.bits,v=C.colorSpace,B=C.colors,-1!==[4,6].indexOf(C.colorType)){if(8===C.bits){P=(H=32==C.pixelBitlength?new Uint32Array(C.decodePixels().buffer):16==C.pixelBitlength?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,D=new Uint8Array(P*C.colors),L=new Uint8Array(P);var ae,Z=C.pixelBitlength-C.bits;for(V=0,R=0;V<P;V++){for(O=H[V],ae=0;ae<Z;)D[R++]=O>>>ae&255,ae+=C.bits;L[V]=O>>>ae&255}}if(16===C.bits){P=(H=new Uint32Array(C.decodePixels().buffer)).length,D=new Uint8Array(P*(32/C.pixelBitlength)*C.colors),L=new Uint8Array(P*(32/C.pixelBitlength)),I=C.colors>1,V=0,R=0;for(var Ae=0;V<P;)O=H[V++],D[R++]=O>>>0&255,I&&(D[R++]=O>>>16&255,O=H[V++],D[R++]=O>>>0&255),L[Ae++]=O>>>16&255;p=8}w!==n.image_compression.NONE?(f=t(D,C.width*C.colors,C.colors,w),k=t(L,C.width,1,w)):(f=D,k=L,J=void 0)}if(3===C.colorType&&(v=this.color_spaces.INDEXED,U=C.palette,C.transparency.indexed)){var ge=C.transparency.indexed,Te=0;for(V=0,P=ge.length;V<P;++V)Te+=ge[V];if((Te/=255)==P-1&&-1!==ge.indexOf(0))E=[ge.indexOf(0)];else if(Te!==P){for(H=C.decodePixels(),L=new Uint8Array(H.length),V=0,P=H.length;V<P;V++)L[V]=ge[H[V]];k=t(L,C.width,1)}}var Q=function(se){var $;switch(se){case n.image_compression.FAST:$=11;break;case n.image_compression.MEDIUM:$=13;break;case n.image_compression.SLOW:$=14;break;default:$=12}return $}(w);return J===this.decode.FLATE_DECODE&&(W="/Predictor "+Q+" "),W+="/Colors "+B+" /BitsPerComponent "+p+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:g,data:f,index:h,filter:J,decodeParameters:W,transparency:E,palette:U,sMask:k,predictor:Q,width:C.width,height:C.height,bitsPerComponent:p,colorSpace:v}}}})(Cn.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new hie(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new xD(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(Cn.API),ic.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ic.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){Zr.log("bit decode error:"+t)}},ic.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==t&&(this.pos+=4-t)}},ic.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=15&s,c=this.palette[s>>4];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;this.data[o+4]=(c=this.palette[l]).blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},ic.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},ic.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=(s>>10&e)/e*255|0,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},ic.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,u=i*this.width*4+4*s;this.data[u]=(o>>11)/e*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},ic.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ic.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ic.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,r,i){var s=new ic(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new xD(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Cn.API),c6.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,r,i){var s=new c6(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new xD(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Cn.API),Cn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var A=r[c+1],f=r[c+2],h=r[c+3];s[a++]=r[c],s[a++]=A,s[a++]=f,o[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Cn.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fC=(rm=Cn.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,A=!1!==e.doKerning,f=0,h=n.length,g=0,w=a[0]||l,v=[];for(t=0;t<h;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(f=A&&"object"===Nr(c[r])&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,v.push((a[r]||w)/l+f)),g=r;return v},s6=rm.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return rm.processArabic&&(n=rm.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:fC.apply(this,arguments).reduce(function(s,o){return s+o},0)},o6=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},a6=function(n,e,t){t||(t={});var r,i,s,o,a,l,u=[],A=[u],f=t.textIndent||0,h=0,g=0,w=n.split(" "),v=fC.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?w[0].length+2:t.lineIndent||0){var p=Array(l).join(" "),C=[];w.map(function(B){(B=B.split(/\s*\n/)).length>1?C=C.concat(B.map(function(U,k){return(k&&U.length?"\n":"")+U})):C.push(B[0])}),w=C,l=s6.apply(this,[p,t])}for(s=0,o=w.length;s<o;s++){var E=0;if(r=w[s],l&&"\n"==r[0]&&(r=r.substr(1),E=1),f+h+(g=(i=fC.apply(this,[r,t])).reduce(function(B,U){return B+U},0))>e||E){if(g>e){for(a=o6.apply(this,[r,i,e-(f+h),e]),u.push(a.shift()),u=[a.pop()];a.length;)A.push([a.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(B,U){return B+U},0)}else u=[r];A.push(u),f=g+l,h=v}else u.push(r),f+=h+g,h=v}return A.map(l?function(B,U){return(U?p:"")+B.join(" ")}:function(B){return B.join(" ")})},rm.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(a6.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<16;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(A){return"0x"+parseInt(A,10).toString(16)},o=n.__fontmetrics__.compress=function(A){var f,h,g,w,v=["{"];for(var p in A){if(f=A[p],isNaN(parseInt(p,10))?h="'"+p+"'":(p=parseInt(p,10),h=(h=s(p).slice(2)).slice(0,-1)+r[h.slice(-1)]),"number"==typeof f)f<0?(g=s(f).slice(3),w="-"):(g=s(f).slice(2),w=""),g=w+g.slice(0,-1)+r[g.slice(-1)];else{if("object"!==Nr(f))throw new Error("Don't know what to do with value type "+Nr(f)+".");g=o(f)}v.push(h+g)}return v.push("}"),v.join("")},a=n.__fontmetrics__.uncompress=function(A){if("string"!=typeof A)throw new Error("Invalid argument passed to uncompress.");for(var f,h,g,w,v={},p=1,C=v,E=[],B="",U="",k=A.length-1,H=1;H<k;H+=1)"'"==(w=A[H])?f?(g=f.join(""),f=void 0):f=[]:f?f.push(w):"{"==w?(E.push([C,g]),C={},g=void 0):"}"==w?((h=E.pop())[0][h[1]]=C,g=void 0,C=h[0]):"-"==w?p=-1:void 0===g?t.hasOwnProperty(w)?(B+=t[w],g=parseInt(B,16)*p,p=1,B=""):B+=w:t.hasOwnProperty(w)?(U+=t[w],C[g]=parseInt(U,16)*p,p=1,g=void 0,U=""):U+=w;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var f=A.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var g=c.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Cn.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var o,a,r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");o=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(qy(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(Cn),Cn.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var A=u.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return function e(){return(Bn.canvg?Promise.resolve(Bn.canvg):jt.e(665).then(jt.bind(jt,3665))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}().then(function(g){return g.fromString(A,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})},Cn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Cn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,A=0;function f(g,w){var v,p=!1;for(v=0;v<g.length;v+=1)g[v]===w&&(p=!0);return p}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var h=a.length;for(A=0;A<h;A+=1)t[a[A]].value=t[a[A]].defaultValue,t[a[A]].explicitSet=!1}if("object"===Nr(n))for(i in n)if(s=n[i],f(a,i)&&void 0!==s){if("boolean"===t[i].type&&"boolean"==typeof s)t[i].value=s;else if("name"===t[i].type&&f(t[i].valueSet,s))t[i].value=s;else if("integer"===t[i].type&&Number.isInteger(s))t[i].value=s;else if("array"===t[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var g,w=[];for(g in t)!0===t[g].explicitSet&&w.push("name"===t[g].type?"/"+g+" /"+t[g].value:"/"+g+" "+t[g].value);0!==w.length&&this.internal.write("/ViewerPreferences\n<<\n"+w.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Cn.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],A=0,f=s.length;A<f;++A){if(a=o.metadata.characterToGlyph(s.charCodeAt(A)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(A),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,A,f;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],A=0,f=(a=Object.keys(s).sort(function(h,g){return h-g})).length;A<f;A++)o=a[A],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=s[o]&&"function"==typeof s[o].toString&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var A=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",g=0;g<f.length;g++)h+=String.fromCharCode(f[g]);var w=c();u({data:h,addLength1:!0,objectId:w}),l("endobj");var v=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var p=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Xg(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var C=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Xg(a.fontName)),l("/FontDescriptor "+p+" 0 R"),l("/W "+n.API.PDFObject.convert(A)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Xg(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var A=a.metadata.rawData,f="",h=0;h<A.length;h++)f+=String.fromCharCode(A[h]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var w=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var v=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Xg(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var p=0;p<a.metadata.hmtx.widths.length;p++)a.metadata.hmtx.widths[p]=parseInt(a.metadata.hmtx.widths[p]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Xg(a.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},A=s.mutex||{},f=A.pdfEscape,h=A.activeFontKey,g=A.fonts,w=h,v="",p=0,C="",E=g[w].encoding;if("Identity-H"!==g[w].encoding)return{text:a,x:l,y:c,options:u,mutex:A};for(C=a,w=h,Array.isArray(a)&&(C=a[0]),p=0;p<C.length;p+=1)g[w].metadata.hasOwnProperty("cmap")&&(o=g[w].metadata.cmap.unicode.codeMap[C[p].charCodeAt(0)]),o||C[p].charCodeAt(0)<256&&g[w].metadata.hasOwnProperty("Unicode")?v+=C[p]:v+="";var B="";return parseInt(w.slice(1))<14||"WinAnsiEncoding"===E?B=f(v,w).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):"Identity-H"===E&&(B=t(v,g[w])),A.isHex=!0,{text:B,x:l,y:c,options:u,mutex:A}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&3===o[c].length?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Cn),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Cn.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,A=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,E=0;this.__bidiEngine__={};var B=function(I){var O=I.charCodeAt(),V=O>>8,R=w[V];return void 0!==R?A[256*R+(255&O)]:252===V||253===V?"AL":p.test(V)?"L":8===V?"R":"N"},U=function(I){for(var O,V=0;V<I.length;V++){if("L"===(O=B(I.charAt(V))))return!1;if("R"===O)return!0}return!1},k=function(I,O,V,R){var J,W,ae,Z,Ae=O[R];switch(Ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(Ae="AN");break;case"AL":C=!0,Ae="R";break;case"WS":case"BN":Ae="N";break;case"CS":R<1||R+1>=O.length||"EN"!==(J=V[R-1])&&"AN"!==J||"EN"!==(W=O[R+1])&&"AN"!==W?Ae="N":C&&(W="AN"),Ae=W===J?W:"N";break;case"ES":Ae="EN"===(J=R>0?V[R-1]:"B")&&R+1<O.length&&"EN"===O[R+1]?"EN":"N";break;case"ET":if(R>0&&"EN"===V[R-1]){Ae="EN";break}if(C){Ae="N";break}for(ae=R+1,Z=O.length;ae<Z&&"ET"===O[ae];)ae++;Ae=ae<Z&&"EN"===O[ae]?"EN":"N";break;case"NSM":if(o&&!a){for(Z=O.length,ae=R+1;ae<Z&&"NSM"===O[ae];)ae++;if(ae<Z){var ge=I[R];if(J=O[ae],(ge>=1425&&ge<=2303||64286===ge)&&("R"===J||"AL"===J)){Ae="R";break}}}Ae=R<1||"B"===(J=O[R-1])?"N":V[R-1];break;case"B":C=!1,i=!0,Ae=E;break;case"S":s=!0,Ae="N"}return Ae},H=function(I,O,V){var R=I.split("");return V&&P(R,V,{hiLevel:E}),R.reverse(),O&&O.reverse(),R.join("")},P=function(I,O,V){var R,J,W,ae,Z,Ae=-1,ge=I.length,Te=0,Q=[],se=E?h:f,$=[];for(C=!1,i=!1,s=!1,J=0;J<ge;J++)$[J]=B(I[J]);for(W=0;W<ge;W++){if(Z=Te,Q[W]=k(I,$,Q,W),R=240&(Te=se[Z][g[Q[W]]]),O[W]=ae=se[Te&=15][5],R>0)if(16===R){for(J=Ae;J<W;J++)O[J]=1;Ae=-1}else Ae=-1;if(se[Te][6])-1===Ae&&(Ae=W);else if(Ae>-1){for(J=Ae;J<W;J++)O[J]=ae;Ae=-1}"B"===$[W]&&(O[W]=0),V.hiLevel|=ae}s&&function(oe,pe,de){for(var me=0;me<de;me++)if("S"===oe[me]){pe[me]=E;for(var Ee=me-1;Ee>=0&&"WS"===oe[Ee];Ee--)pe[Ee]=E}}($,O,ge)},L=function(I,O,V,R,J){if(!(J.hiLevel<I)){if(1===I&&1===E&&!i)return O.reverse(),void(V&&V.reverse());for(var W,ae,Z,Ae,ge=O.length,Te=0;Te<ge;){if(R[Te]>=I){for(Z=Te+1;Z<ge&&R[Z]>=I;)Z++;for(Ae=Te,ae=Z-1;Ae<ae;Ae++,ae--)W=O[Ae],O[Ae]=O[ae],O[ae]=W,V&&(W=V[Ae],V[Ae]=V[ae],V[ae]=W);Te=Z}Te++}}},D=function(I,O,V){var R=I.split(""),J={hiLevel:E};return V||(V=[]),P(R,V,J),function(W,ae,Z){if(0!==Z.hiLevel&&u)for(var Ae,ge=0;ge<W.length;ge++)1===ae[ge]&&(Ae=v.indexOf(W[ge]))>=0&&(W[ge]=v[Ae+1])}(R,V,J),L(2,R,O,V,J),L(1,R,O,V,J),R.join("")};return this.__bidiEngine__.doBidiReorder=function(I,O,V){if(function(J,W){if(W)for(var ae=0;ae<J.length;ae++)W[ae]=ae;void 0===a&&(a=U(J)),void 0===c&&(c=U(J))}(I,O),o||!l||c)if(o&&l&&a^c)E=a?1:0,I=H(I,O,V);else if(!o&&l&&c)E=a?1:0,I=D(I,O,V),I=H(I,O);else if(!o||a||l||c){if(o&&!l&&a^c)I=H(I,O),a?(E=0,I=D(I,O,V)):(E=1,I=D(I,O,V),I=H(I,O));else if(o&&a&&!l&&c)E=1,I=D(I,O,V),I=H(I,O);else if(!o&&!l&&a^c){var R=u;a?(E=1,I=D(I,O,V),E=0,u=!1,I=D(I,O,V),u=R):(E=0,I=D(I,O,V),I=H(I,O),E=1,u=!1,I=D(I,O,V),u=R,I=H(I,O))}}else E=0,I=D(I,O,V);else E=a?1:0,I=D(I,O,V);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,c=I.isOutputRtl,u=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=r.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(o=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Cn),Cn.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new yh(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Bie(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new fie(this.contents),this.head=new pie(this),this.name=new wie(this),this.cmap=new A6(this),this.toUnicode={},this.hhea=new gie(this),this.maxp=new _ie(this),this.hmtx=new bie(this),this.post=new vie(this),this.os2=new mie(this),this.loca=new Sie(this),this.glyf=new xie(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)c.push(Math.round(l[o]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var sc,yh=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,s;for(s=[],r=0,i=e.length;r<i;r++)s.push(this.writeByte(e[r]));return s},n}(),fie=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,a,l,c,u,A,f,h,g,w;for(w in h=Object.keys(t).length,l=Math.log(2),A=16*Math.floor(Math.log(h)/l),o=Math.floor(A/l),u=16*h-A,(i=new yh).writeInt(this.scalarType),i.writeShort(h),i.writeShort(A),i.writeShort(o),i.writeShort(u),c=i.pos+16*h,a=null,g=[],t)for(f=t[w],i.writeString(w),i.writeInt(n(f)),i.writeInt(c),i.writeInt(f.length),g=g.concat(f),"head"===w&&(a=c),c+=f.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=h6.call(t);t.length%4;)t.push(0);for(s=new yh(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),die={}.hasOwnProperty,Yc=function(n,e){for(var t in e)die.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};sc=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var pie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new yh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),u6=function(){function n(e,t){var r,i,s,o,a,l,c,u,A,f,h,g,w,v,p,C,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,s=function(){var B,U;for(U=[],l=B=0;0<=f?B<f:B>f;l=0<=f?++B:--B)U.push(e.readUInt16());return U}(),e.pos+=2,w=function(){var B,U;for(U=[],l=B=0;0<=f?B<f:B>f;l=0<=f?++B:--B)U.push(e.readUInt16());return U}(),c=function(){var B,U;for(U=[],l=B=0;0<=f?B<f:B>f;l=0<=f?++B:--B)U.push(e.readUInt16());return U}(),u=function(){var B,U;for(U=[],l=B=0;0<=f?B<f:B>f;l=0<=f?++B:--B)U.push(e.readUInt16());return U}(),i=(this.length-e.pos+this.offset)/2,a=function(){var B,U;for(U=[],l=B=0;0<=i?B<i:B>i;l=0<=i?++B:--B)U.push(e.readUInt16());return U}(),l=p=0,E=s.length;p<E;l=++p)for(v=s[l],r=C=g=w[l];g<=v?C<=v:C>=v;r=g<=v?++C:--C)0===u[l]?o=r+c[l]:0!==(o=a[u[l]/2+(r-g)-(f-l)]||0)&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=A}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,A,f,h,g,w,v,p,C,E,U,k,H,P,L,D,I,O,V,R,J,W,ae,Z,Ae,ge,Te,Q,se,$,oe,pe,de,me,Ee,ze,st,dt;switch(R=new yh,o=Object.keys(e).sort(function(nt,te){return nt-te}),t){case"macroman":for(w=0,v=function(){var nt=[];for(g=0;g<256;++g)nt.push(0);return nt}(),C={0:0},s={},J=0,Ae=o.length;J<Ae;J++)null==C[Ee=e[i=o[J]]]&&(C[Ee]=++w),s[i]={old:e[i],new:C[e[i]]},v[i]=C[e[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(v),{charMap:s,subtable:R.data,maxGlyphID:w+1};case"unicode":for(O=[],A=[],E=0,C={},r={},p=c=null,W=0,ge=o.length;W<ge;W++)null==C[U=e[i=o[W]]]&&(C[U]=++E),r[i]={old:U,new:C[U]},a=C[U]-i,null!=p&&a===c||(p&&A.push(p),O.push(i),c=a),p=i;for(p&&A.push(p),A.push(65535),O.push(65535),D=2*(L=O.length),P=2*Math.pow(Math.log(L)/Math.LN2,2),f=Math.log(P/2)/Math.LN2,H=2*L-P,l=[],k=[],h=[],g=ae=0,Te=O.length;ae<Te;g=++ae){if(u=A[g],65535===(I=O[g])){l.push(0),k.push(0);break}if(I-(V=r[I].new)>=32768)for(l.push(0),k.push(2*(h.length+L-g)),i=Z=I;I<=u?Z<=u:Z>=u;i=I<=u?++Z:--Z)h.push(r[i].new);else l.push(V-I),k.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*L+2*h.length),R.writeUInt16(0),R.writeUInt16(D),R.writeUInt16(P),R.writeUInt16(f),R.writeUInt16(H),de=0,Q=A.length;de<Q;de++)R.writeUInt16(i=A[de]);for(R.writeUInt16(0),me=0,se=O.length;me<se;me++)R.writeUInt16(i=O[me]);for(ze=0,$=l.length;ze<$;ze++)R.writeUInt16(a=l[ze]);for(st=0,oe=k.length;st<oe;st++)R.writeUInt16(k[st]);for(dt=0,pe=h.length;dt<pe;dt++)R.writeUInt16(w=h[dt]);return{charMap:r,subtable:R.data,maxGlyphID:E+1}}},n}(),A6=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new u6(t,this.offset),this.tables.push(r),r.isUnicode&&null==this.unicode&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return null==r&&(r="macroman"),i=u6.encode(t,r),(s=new yh).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),gie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),mie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),vie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}.call(this)}},e}(),yie=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,A,f,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=A=0,f=i.length;A<f;o=++A)t.pos=(s=i[o]).offset,u=t.readString(s.length),a=new yie(u,s),null==c[h=s.nameID]&&(c[h]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),_ie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),bie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)A.push(t.readInt16());return A}(),this.widths=function(){var u,A,f,h;for(h=[],u=0,A=(f=this.metrics).length;u<A;u++)h.push(f[u].advance);return h}.call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),h6=[].slice,xie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,A,f;return t in this.cache?this.cache[t]:(r=this.file.contents,i=(o=this.file.loca).indexOf(t),0===(s=o.lengthOf(t))?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new yh(r.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),A=l.readShort(),this.cache[t]=-1===a?new Eie(l,u,f,c,A):new Cie(l,a,u,f,c,A),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),Cie=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Eie=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new yh(h6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Sie=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Yc(e,sc),e.prototype.tag="loca",e.prototype.parse=function(t){var i;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a+1]-this.offsets[a];c>0&&(s+=c)}for(var u=new Array(4*i.length),A=0;A<i.length;++A)u[4*A+3]=255&i[A],u[4*A+2]=(65280&i[A])>>8,u[4*A+1]=(16711680&i[A])>>16,u[4*A]=(4278190080&i[A])>>24;return u},e}(),Bie=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=i[s[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)null!=(r=i[s])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))i[s]=r=l[s];return i},n.prototype.encode=function(e,t){var r,i,s,o,l,c,u,A,f,h,g,w,v,p;for(i in r=A6.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},p=r.charMap)h[(l=p[i]).old]=l.new;for(g in f=r.maxGlyphID,o)g in h||(h[g]=f++);return u=function(C){var E,B;for(E in B={},C)B[C[E]]=E;return B}(h),A=Object.keys(u).sort(function(C,E){return C-E}),w=function(){var C,E,B;for(B=[],C=0,E=A.length;C<E;C++)B.push(u[A[C]]);return B}(),s=this.font.glyf.encode(o,w,h),c=this.font.loca.encode(s.offsets,w),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},n}();Cn.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)c.push(e.convert(t[a]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in s=["<<"],t)s.push("/"+i+" "+e.convert(t[i]));return s.push(">>"),s.join("\n")}return""+t},e}();var Mie=jt(4456),Tie=jt.n(Mie);const Iie=["resumeContent"];function Die(n,e){if(1&n&&(it(0,"span"),_t(1),tt()),2&n){const t=e.$implicit,r=e.last;_n(1),Kf(" ",t,"",r?"":", "," ")}}function Fie(n,e){if(1&n&&(it(0,"li"),_t(1),tt()),2&n){const t=e.$implicit;_n(1),js(t)}}function Rie(n,e){if(1&n&&(it(0,"div",22),_t(1),tt()),2&n){const t=r3().$implicit;_n(1),yg(" Previously: ",t.previousRole," ")}}function Lie(n,e){if(1&n&&(it(0,"li"),_t(1),tt()),2&n){const t=e.$implicit;_n(1),js(t)}}const Uie=function(n){return{"experience-section-break":n}};function Pie(n,e){if(1&n&&(it(0,"div",8)(1,"div",19)(2,"div")(3,"h3",20),_t(4),tt(),it(5,"div",10),_t(6),tt(),pl(7,Rie,2,1,"div",21),tt(),it(8,"div",11),_t(9),tt()(),it(10,"ul"),pl(11,Lie,2,1,"li",15),tt()()),2&n){const t=e.$implicit,r=e.index;_n(1),Wr("ngClass",Yf(7,Uie,r>0)),_n(3),js(t.title),_n(2),Kf("",t.company," | ",t.location,""),_n(1),Wr("ngIf",t.previousRole),_n(2),js(t.date),_n(2),Wr("ngForOf",t.points)}}function Nie(n,e){if(1&n&&(it(0,"li"),_t(1),tt()),2&n){const t=e.$implicit;_n(1),js(t)}}function Oie(n,e){if(1&n&&(it(0,"div",27)(1,"div",28),_t(2),tt(),it(3,"div",29),_t(4),tt()()),2&n){const t=e.$implicit;_n(2),js(t.key),_n(2),js(t.value.join(" \u2022 "))}}function kie(n,e){if(1&n&&(it(0,"div",23)(1,"div",24),_t(2),tt(),it(3,"div",25),pl(4,Oie,5,2,"div",26),$b(5,"keyvalue"),tt()()),2&n){const t=e.$implicit;_n(2),js(t.key),_n(2),Wr("ngForOf",vT(5,2,t.value))}}let f6=(()=>{class n{resumeContent;contact={email:"bradyjjacobs@gmail.com",phone:"(864)-499-6768",github:"github.com/bradyjj",linkedin:"linkedin.com/in/bradyjjacobs"};education={school:"Clemson University",degree:"Bachelor of Science in Computer Science",minor:"Minor in Business Administration",date:"May 2023",gpa:"3.92",honors:"Magna Cum Laude",highlights:["Lead Teaching Assistant for CPSC 1060 (Introduction to Java) and CPSC 1010 (Introduction to Computer Science)","Led 4-person capstone team conducting market analysis for American Tire Distributors by integrating web-scraped external data with customer datasets in a Snowflake data warehouse, identifying market opportunities through Tableau and PowerBI visualizations"],coursework:["Machine Learning","Applied Data Science","Cloud Architecture","Linear Algebra"]};experience=[{title:"Full-stack Software Engineer",company:"Manhattan Associates",location:"Atlanta, GA",date:"June 2023 - Present",previousRole:"Software Engineering Intern (May 2022 - August 2022)",points:['Recognized with "Rookie Rockstar" award for exceptional technical performance and rapid integration into the team.',"Developed and maintained full-stack applications using Java and AngularJS, ensuring >90% test coverage for high-quality code.","Redesigned and developed superior replacements to two business-critical legacy systems, enhancing overall system performance and stability while ensuring reliablity.","Resolved outage incidents for multiple Fortune 500 clients during peak season, demonstrating strong problem-solving skills across various functional areas in Order Management."]},{title:"Machine Learning Research Assistant",company:"Watt AI Research Lab, Clemson University",location:"Clemson, SC",date:"August 2021 - December 2021",points:["Developed and implemented linguistic machine learning models and data processing pipelines, leveraging the Clemson Palmetto Cluster Supercomputer for large-scale narrative and disinformation analysis on social media.","Conducted research on narrative pattern analysis and applied advanced statistical methods for detecting disinformation and analyzing extensive datasets."]}];projects={title:"BRADYBALL - Sports Analytics Platform",type:"Independent Research & Development Project",date:"March 2024 - Present",points:["Developed a comprehensive sports analytics platform, integrating data science, machine learning techniques, and custom data visualization using D3.js","Designed and implemented a scalable microservices architecture with Python, FastAPI, and Redis to support advanced sports performance analysis and visualizations."]};skills={"Technical Development":{"Programming Languages":["Java","Python","C/C++","JavaScript"],"Web Technologies":["AngularJS","HTML/CSS","REST APIs"],"Database & Storage":["MySQL","PostgreSQL","Redis","Snowflake","Prometheus"]},"Data Science & Analytics":{"Machine Learning":["Statistical Modeling","NLP","Algorithm Development"],"Data Analysis":["Data Engineering","ETL Pipelines"],Visualization:["D3.js","PowerBI","Tableau"]},"Tools & Infrastructure":{"Cloud Platforms":["AWS","Google Cloud Platform"],DevOps:["Docker","Git","CI/CD"]}};downloadPDF(){var t=this;return(0,Qe.Z)(function*(){const r=t.resumeContent.nativeElement;r.classList.add("pdf-export");try{const i=yield Tie()(r,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#FFFFFF",width:r.offsetWidth,height:r.offsetHeight}),s=new Cn({orientation:"portrait",unit:"mm",format:"a4"}),o=210,a=i.height*o/i.width,l=i.toDataURL("image/png");s.addImage(l,"PNG",0,0,o,a),s.save("Brady_Jacobs_Resume.pdf")}catch(i){console.error("Error generating PDF:",i)}finally{r.classList.remove("pdf-export")}})()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rs({type:n,selectors:[["resume"]],viewQuery:function(r,i){if(1&r&&ju(Iie,5),2&r){let s;Gc(s=zc())&&(i.resumeContent=s.first)}},decls:61,vars:20,consts:[[1,"resume-actions"],[1,"btn","btn-primary","btn-sm","mb-2",3,"click"],[1,"fas","fa-download"],[1,"resume-container"],[1,"vintage-resume"],["resumeContent",""],[1,"contact-info"],[1,"resume-section"],[1,"content"],[1,"flex-header"],[1,"subtitle"],[1,"date"],[1,"details"],[1,"gpa"],[1,"coursework"],[4,"ngFor","ngForOf"],["class","content",4,"ngFor","ngForOf"],[1,"skills-grid"],["class","skill-card",4,"ngFor","ngForOf"],[1,"flex-header",3,"ngClass"],[1,"title"],["class","previous-position",4,"ngIf"],[1,"previous-position"],[1,"skill-card"],[1,"skill-header"],[1,"skill-content"],["class","skill-category",4,"ngFor","ngForOf"],[1,"skill-category"],[1,"category-name"],[1,"skills-list"]],template:function(r,i){1&r&&(it(0,"div",0)(1,"button",1),Bi("click",function(){return i.downloadPDF()}),Si(2,"i",2),_t(3," Download PDF "),tt()(),it(4,"div",3)(5,"div",4,5)(7,"header")(8,"h1"),_t(9,"BRADY J. JACOBS"),tt(),it(10,"div",6)(11,"span"),_t(12),tt()()(),it(13,"section",7)(14,"h2"),_t(15,"EDUCATION"),tt(),it(16,"div",8)(17,"div",9)(18,"div")(19,"h3"),_t(20),tt(),it(21,"div",10),_t(22),tt()(),it(23,"div",11),_t(24),tt()(),it(25,"div",12)(26,"div",13)(27,"strong"),_t(28,"GPA: "),tt(),it(29,"span"),_t(30),tt()(),it(31,"div",14)(32,"strong"),_t(33,"Advanced Coursework: "),tt(),pl(34,Die,2,2,"span",15),tt()(),it(35,"ul"),pl(36,Fie,2,1,"li",15),tt()()(),it(37,"section",7)(38,"h2"),_t(39,"EXPERIENCE"),tt(),pl(40,Pie,12,9,"div",16),tt(),it(41,"section",7)(42,"h2"),_t(43,"TECHNICAL PROJECTS"),tt(),it(44,"div",8)(45,"div",9)(46,"div")(47,"h3"),_t(48),tt(),it(49,"div",10),_t(50),tt()(),it(51,"div",11),_t(52),tt()(),it(53,"ul"),pl(54,Nie,2,1,"li",15),tt()()(),it(55,"section",7)(56,"h2"),_t(57,"TECHNICAL COMPETENCIES"),tt(),it(58,"div",17),pl(59,kie,6,4,"div",18),$b(60,"keyvalue"),tt()()()()),2&r&&(_n(12),aT("",i.contact.email," | ",i.contact.phone," | ",i.contact.github," | ",i.contact.linkedin,""),_n(8),js(i.education.school),_n(2),Kf(" ",i.education.degree,", ",i.education.minor," "),_n(2),js(i.education.date),_n(6),Kf(" ",i.education.gpa," (",i.education.honors,")"),_n(4),Wr("ngForOf",i.education.coursework),_n(2),Wr("ngForOf",i.education.highlights),_n(4),Wr("ngForOf",i.experience),_n(8),js(i.projects.title),_n(2),js(i.projects.type),_n(2),js(i.projects.date),_n(2),Wr("ngForOf",i.projects.points),_n(5),Wr("ngForOf",vT(60,18,i.skills)))},dependencies:[Bg,ck,gx,dk],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.resume-actions[_ngcontent-%COMP%]{margin-bottom:10px;text-align:right}.resume-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}.resume-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:210mm;margin:0 auto;padding:0}.vintage-resume[_ngcontent-%COMP%]{width:210mm;min-height:297mm;padding:10mm 14mm 14mm;background-color:#fff;color:#333;font-family:Georgia,serif;box-sizing:border-box;border:none;display:flex;flex-direction:column;gap:6px;box-shadow:0 4px 8px #0000001a}header[_ngcontent-%COMP%]{text-align:center;margin-bottom:14px;border-bottom:2px solid #8B4513;padding-bottom:10px}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#8b4513;margin:0 0 4px;font-size:28px;line-height:1.1}header[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{font-size:12px;font-family:var(--font-courier-prime, "Courier New", monospace);color:#555;display:flex;justify-content:center;gap:12px}.resume-section[_ngcontent-%COMP%]{margin-bottom:9px}.resume-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.resume-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#8b4513;border-bottom:2px solid #8B4513;margin:0 0 5px;padding-bottom:2px;font-size:16px;font-weight:700}.content[_ngcontent-%COMP%]{margin-bottom:12px}.content[_ngcontent-%COMP%]:last-child{margin-bottom:0}.flex-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:4px}.flex-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2196f3;font-weight:700;font-size:15px}.flex-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-style:italic;color:#555;font-size:13px;margin-top:1px}.flex-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#b87333;font-size:13px;font-family:var(--font-courier-prime, "Courier New", monospace);min-width:140px;text-align:right}.experience-section-break[_ngcontent-%COMP%]{margin-top:10px}.previous-position[_ngcontent-%COMP%]{color:#666;font-size:12px;margin-top:3px;font-style:italic}ul[_ngcontent-%COMP%]{margin:4px 0;padding-left:16px;list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:3px;font-size:13px;line-height:1.3;position:relative}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#8b4513;position:absolute;left:-16px}.details[_ngcontent-%COMP%]{margin-bottom:5px;font-size:13px}.details[_ngcontent-%COMP%]   .gpa[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .coursework[_ngcontent-%COMP%]{margin-bottom:2px}.skills-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:6px}.skill-card[_ngcontent-%COMP%]{border:1px solid #b87333;padding:6px;border-radius:4px;background-color:#f8f5e3}.skill-card[_ngcontent-%COMP%]   .skill-header[_ngcontent-%COMP%]{font-weight:700;color:#2196f3;margin-bottom:4px;padding-bottom:2px;border-bottom:1px solid #b87333;text-align:center;font-size:13px}.skill-card[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]{margin-bottom:4px}.skill-card[_ngcontent-%COMP%]   .skill-category[_ngcontent-%COMP%]:last-child{margin-bottom:0}.skill-card[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:700;font-size:11px;color:#666;margin-bottom:1px}.skill-card[_ngcontent-%COMP%]   .skills-list[_ngcontent-%COMP%]{font-size:11px;line-height:1.2;color:#333;font-family:var(--font-courier-prime, "Courier New", monospace)}.pdf-export[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important;box-shadow:none!important;border:none!important}@media print{[_nghost-%COMP%]{background:none;display:block;height:auto}.resume-actions[_ngcontent-%COMP%]{display:none!important}.resume-container[_ngcontent-%COMP%]{max-width:100%}.vintage-resume[_ngcontent-%COMP%]{border:none;box-shadow:none;margin:0;padding:10mm 14mm 14mm}*[_ngcontent-%COMP%]{-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}@page{size:A4;margin:0}}']})}return n})(),CD=(()=>{class n{router;constructor(t){this.router=t}static \u0275fac=function(r){return new(r||n)(ft(Oo))};static \u0275cmp=rs({type:n,selectors:[["BRADYBALL-footer"]],decls:3,vars:0,consts:[[1,"p-3","d-flex","justify-content-between","align-items-center"],[1,"mb-0","bb-text-berkeley-mono"]],template:function(r,i){1&r&&(it(0,"footer",0)(1,"div",1),_t(2," \xa9 Copyright 2024 BRADYBAL. All rights reserved. Made in the USA. Follow on X.com @BRADYBALLFC "),tt()())}})}return n})();function Hie(n,e){1&n&&(it(0,"span",15),_t(1,"BRADYBALL"),tt())}function Qie(n,e){1&n&&(it(0,"span",15),_t(1,"B"),tt())}const Vie=function(n){return{collapsed:n}},Gie=function(n,e){return{"bi-chevron-left":n,"bi-chevron-right":e}},zie=function(n){return{"d-none":n}};let ED=(()=>{class n{router;isCollapsed=!1;collapseChanged=new Ei;constructor(t){this.router=t}navigateHome(){this.router.navigateByUrl("/home")}toggleCollapse(){this.isCollapsed=!this.isCollapsed,this.collapseChanged.emit(this.isCollapsed)}static \u0275fac=function(r){return new(r||n)(ft(Oo))};static \u0275cmp=rs({type:n,selectors:[["BRADYBALL-header"]],outputs:{collapseChanged:"collapseChanged"},decls:21,vars:12,consts:[[1,"h-100","bg-white"],[1,"header-container","d-flex","flex-column",3,"ngClass"],[1,"p-3","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"mb-0"],[1,"btn","fs-4",3,"click"],["class","bb-text-courier-prime",4,"ngIf"],[1,"btn","p-0",3,"click"],[1,"bi",3,"ngClass"],[1,"p-3",3,"ngClass"],[1,"nav","flex-column"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link"],["routerLink","/about","routerLinkActive","active",1,"nav-link"],["routerLink","/player-analysis","routerLinkActive","active",1,"nav-link"],[1,"bb-text-courier-prime"]],template:function(r,i){1&r&&(it(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4)(5,"a",5),Bi("click",function(){return i.navigateHome()}),pl(6,Hie,2,0,"span",6),pl(7,Qie,2,0,"span",6),tt()()(),it(8,"button",7),Bi("click",function(){return i.toggleCollapse()}),Si(9,"i",8),tt()(),it(10,"nav",9)(11,"ul",10)(12,"li",11)(13,"a",12),_t(14," BRADYBALL Home "),tt()(),it(15,"li",11)(16,"a",13),_t(17," About "),tt()(),it(18,"li",11)(19,"a",14),_t(20," Player Analysis "),tt()()()()()()),2&r&&(_n(1),Wr("ngClass",Yf(5,Vie,i.isCollapsed)),_n(5),Wr("ngIf",!i.isCollapsed),_n(1),Wr("ngIf",i.isCollapsed),_n(2),Wr("ngClass",function M4(n,e,t,r,i){return I4(At(),ms(),n,e,t,r,i)}(7,Gie,!i.isCollapsed,i.isCollapsed)),_n(1),Wr("ngClass",Yf(10,zie,i.isCollapsed)))},dependencies:[Bg,gx,Vg,nQ],styles:['.header-container[_ngcontent-%COMP%]{min-height:100vh;font-family:var(--font-berkeley-mono)}.header-container.collapsed[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:none}.nav-item[_ngcontent-%COMP%]{margin-bottom:1rem}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-family:var(--font-berkeley-mono);position:relative;height:2rem;padding:.25rem 1rem;background-color:#fff;border:1px solid #dee2e6;border-radius:0;box-shadow:3px 2px #dee2e6;transition:all .2s ease;display:flex;align-items:center;width:16rem;color:#000;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{padding-left:1.5rem}.nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:.5rem;top:50%;transform:translateY(-50%);width:8px;height:8px;background-color:var(--bb-red-color);border-radius:50%}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#000;border-color:#000;color:#fff;text-decoration:none}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active{transform:translateY(1px) translate(1px);box-shadow:2px 1px #dee2e6}.btn.bb-text-courier-prime[_ngcontent-%COMP%]:hover{background-color:#0000000d}.bi[_ngcontent-%COMP%]{font-size:1.25rem;transition:transform .3s ease}.bi.bi-chevron-left[_ngcontent-%COMP%]{transform:rotate(0)}.bi.bi-chevron-right[_ngcontent-%COMP%]{transform:rotate(180deg)}.nav[_ngcontent-%COMP%]{transition:opacity .3s ease}.nav.d-none[_ngcontent-%COMP%]{opacity:0}']})}return n})();const jie=function(n){return{expanded:n}};let SD=(()=>{class n{isCollapsed=!1;resumeComponent;onHeaderCollapseChanged(t){this.isCollapsed=t}downloadResumePdf(){this.resumeComponent?this.resumeComponent.downloadPDF():console.error("Resume component not found")}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rs({type:n,selectors:[["about-screen"]],viewQuery:function(r,i){if(1&r&&ju(f6,5),2&r){let s;Gc(s=zc())&&(i.resumeComponent=s.first)}},decls:98,vars:3,consts:[[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-auto"],[3,"collapseChanged"],[1,"col","main-content",3,"ngClass"],[1,"bb-page-header"],[1,"container-fluid","py-3"],[1,"row"],[1,"col-md-5"],[1,"px-3"],[1,"bb-text-berkeley-mono","fs-5","mb-2"],[1,"bb-table"],[1,"text-decoration-none"],["href","https://www.clemson.edu/","target","_blank","rel","noopener noreferrer",1,"text-decoration-none"],[1,"bb-text-berkeley-mono","fs-5","mb-2","mt-3"],["href","mailto:bradyjacobs@gmail.com",1,"text-decoration-none"],["href","https://github.com/bradyjj","target","_blank","rel","noopener noreferrer",1,"text-decoration-none"],["href","https://www.linkedin.com/in/bradyjjacobs/","target","_blank","rel","noopener noreferrer",1,"text-decoration-none"],["routerLink","/player-analysis",1,"text-decoration-none"],[1,"col-md-7"],[1,"resume-container"]],template:function(r,i){1&r&&(it(0,"div",0)(1,"div",1)(2,"div",2)(3,"BRADYBALL-header",3),Bi("collapseChanged",function(o){return i.onHeaderCollapseChanged(o)}),tt()(),it(4,"div",4)(5,"div",5)(6,"h1"),_t(7,"About BRADYBALL"),tt()(),it(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"h2",10),_t(13,"Personal Information"),tt(),it(14,"table",11)(15,"tbody")(16,"tr")(17,"td"),_t(18,"Name"),tt(),it(19,"td"),_t(20,"Brady Jacobs"),tt()(),it(21,"tr")(22,"td"),_t(23,"Occupation"),tt(),it(24,"td"),_t(25,"Full-stack Software Engineer"),tt()(),it(26,"tr")(27,"td"),_t(28,"Employer"),tt(),it(29,"td")(30,"span",12),_t(31,"Manhattan Associates"),tt()()(),it(32,"tr")(33,"td"),_t(34,"Previous Occupations"),tt(),it(35,"td"),_t(36,"Machine Learning Research Assistant"),Si(37,"br"),_t(38,"Senior Teaching Assistant"),tt()(),it(39,"tr")(40,"td"),_t(41,"Previous Employers"),tt(),it(42,"td")(43,"span",12),_t(44,"Clemson University"),tt()()(),it(45,"tr")(46,"td"),_t(47,"Education"),tt(),it(48,"td")(49,"div",12),_t(50,"BS Computer Science"),tt(),it(51,"a",13),_t(52," Clemson University "),tt()()()()(),it(53,"h2",14),_t(54,"Contact"),tt(),it(55,"table",11)(56,"tbody")(57,"tr")(58,"td"),_t(59,"Email"),tt(),it(60,"td")(61,"a",15),_t(62,"bradyjjacobs@gmail.com"),tt()()(),it(63,"tr")(64,"td"),_t(65,"Phone"),tt(),it(66,"td"),_t(67,"+1 (864)-499-6768"),tt()(),it(68,"tr")(69,"td"),_t(70,"Github"),tt(),it(71,"td")(72,"a",16),_t(73,"github.com/bradyjj"),tt()()(),it(74,"tr")(75,"td"),_t(76,"LinkedIn"),tt(),it(77,"td")(78,"a",17),_t(79,"linkedin.com/in/bradyjacobs"),tt()()()()(),it(80,"h2",14),_t(81,"Notes"),tt(),it(82,"table",11)(83,"tbody")(84,"tr")(85,"td"),_t(86,"2024-01-15"),tt(),it(87,"td"),_t(88,"Player Performance Analysis"),tt(),it(89,"td")(90,"a",18),_t(91,"Read \u2192"),tt()()()()()()(),it(92,"div",19)(93,"h2",10),_t(94,"Resume"),tt(),it(95,"div",20),Si(96,"resume"),tt()()()(),Si(97,"BRADYBALL-footer"),tt()()()),2&r&&(_n(4),Wr("ngClass",Yf(1,jie,i.isCollapsed)))},dependencies:[Vg,Bg,CD,ED,f6]})}return n})();function Wie(){}function BD(n){return null==n?Wie:function(){return this.querySelector(n)}}function qie(){return[]}function d6(n){return null==n?qie:function(){return this.querySelectorAll(n)}}function p6(n){return function(){return this.matches(n)}}function g6(n){return function(e){return e.matches(n)}}var Zie=Array.prototype.find;function ese(){return this.firstElementChild}var nse=Array.prototype.filter;function rse(){return Array.from(this.children)}function m6(n){return new Array(n.length)}function dC(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}function cse(n,e,t,r,i,s){for(var a,o=0,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):t[o]=new dC(n,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function use(n,e,t,r,i,s,o){var a,l,h,c=new Map,u=e.length,A=s.length,f=new Array(u);for(a=0;a<u;++a)(l=e[a])&&(f[a]=h=o.call(l,l.__data__,a,e)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<A;++a)h=o.call(n,s[a],a,s)+"",(l=c.get(h))?(r[a]=l,l.__data__=s[a],c.delete(h)):t[a]=new dC(n,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(f[a])===l&&(i[a]=l)}function Ase(n){return n.__data__}function fse(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function yse(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}dC.prototype={constructor:dC,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var MD="http://www.w3.org/1999/xhtml";const v6={svg:"http://www.w3.org/2000/svg",xhtml:MD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pC(n){var e=n+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),v6.hasOwnProperty(e)?{space:v6[e],local:n}:n}function Sse(n){return function(){this.removeAttribute(n)}}function Bse(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Mse(n,e){return function(){this.setAttribute(n,e)}}function Tse(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function Ise(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}function Dse(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function y6(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Rse(n){return function(){this.style.removeProperty(n)}}function Lse(n,e,t){return function(){this.style.setProperty(n,e,t)}}function Use(n,e,t){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function im(n,e){return n.style.getPropertyValue(e)||y6(n).getComputedStyle(n,null).getPropertyValue(e)}function Nse(n){return function(){delete this[n]}}function Ose(n,e){return function(){this[n]=e}}function kse(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}function w6(n){return n.trim().split(/^|\s+/)}function TD(n){return n.classList||new _6(n)}function _6(n){this._node=n,this._names=w6(n.getAttribute("class")||"")}function b6(n,e){for(var t=TD(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function x6(n,e){for(var t=TD(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function Qse(n){return function(){b6(this,n)}}function Vse(n){return function(){x6(this,n)}}function Gse(n,e){return function(){(e.apply(this,arguments)?b6:x6)(this,n)}}function jse(){this.textContent=""}function Wse(n){return function(){this.textContent=n}}function $se(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function qse(){this.innerHTML=""}function Xse(n){return function(){this.innerHTML=n}}function Yse(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function Jse(){this.nextSibling&&this.parentNode.appendChild(this)}function toe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function roe(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===MD&&e.documentElement.namespaceURI===MD?e.createElement(n):e.createElementNS(t,n)}}function ioe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function C6(n){var e=pC(n);return(e.local?ioe:roe)(e)}function ooe(){return null}function loe(){var n=this.parentNode;n&&n.removeChild(this)}function uoe(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Aoe(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function goe(n){return function(){var e=this.__on;if(e){for(var s,t=0,r=-1,i=e.length;t<i;++t)s=e[t],n.type&&s.type!==n.type||s.name!==n.name?e[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?e.length=r:delete this.__on}}}function moe(n,e,t){return function(){var i,r=this.__on,s=function doe(n){return function(e){n.call(this,e,this.__data__)}}(e);if(r)for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===n.type&&i.name===n.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),void(i.value=e);this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function E6(n,e,t){var r=y6(n),i=r.CustomEvent;"function"==typeof i?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function yoe(n,e){return function(){return E6(this,n,e)}}function woe(n,e){return function(){return E6(this,n,e.apply(this,arguments))}}_6.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var S6=[null];function Ha(n,e){this._groups=n,this._parents=e}function B6(){return new Ha([[document.documentElement]],S6)}Ha.prototype=B6.prototype={constructor:Ha,select:function $ie(n){"function"!=typeof n&&(n=BD(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,c,s=e[i],o=s.length,a=r[i]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Ha(r,this._parents)},selectAll:function Yie(n){n="function"==typeof n?function Xie(n){return function(){return function Kie(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):d6(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var l,o=e[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(r.push(n.call(l,l.__data__,c,o)),i.push(l));return new Ha(r,i)},selectChild:function tse(n){return this.select(null==n?ese:function Jie(n){return function(){return Zie.call(this.children,n)}}("function"==typeof n?n:g6(n)))},selectChildren:function sse(n){return this.selectAll(null==n?rse:function ise(n){return function(){return nse.call(this.children,n)}}("function"==typeof n?n:g6(n)))},filter:function ose(n){"function"!=typeof n&&(n=p6(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,s=e[i],o=s.length,a=r[i]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Ha(r,this._parents)},data:function hse(n,e){if(!arguments.length)return Array.from(this,Ase);var t=e?use:cse,r=this._parents,i=this._groups;"function"!=typeof n&&(n=function lse(n){return function(){return n}}(n));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],A=i[c],f=A.length,h=fse(n.call(u,u&&u.__data__,c,r)),g=h.length,w=a[c]=new Array(g),v=o[c]=new Array(g);t(u,A,w,v,l[c]=new Array(f),h,e);for(var B,U,C=0,E=0;C<g;++C)if(B=w[C]){for(C>=E&&(E=C+1);!(U=v[E])&&++E<g;);B._next=U||null}}return(o=new Ha(o,r))._enter=a,o._exit=l,o},enter:function ase(){return new Ha(this._enter||this._groups.map(m6),this._parents)},exit:function dse(){return new Ha(this._exit||this._groups.map(m6),this._parents)},join:function pse(n,e,t){var r=this.enter(),i=this,s=this.exit();return"function"==typeof n?(r=n(r))&&(r=r.selection()):r=r.append(n+""),null!=e&&(i=e(i))&&(i=i.selection()),null==t?s.remove():t(s),r&&i?r.merge(i).order():i},merge:function gse(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,o=Math.min(i,r.length),a=new Array(i),l=0;l<o;++l)for(var h,c=t[l],u=r[l],A=c.length,f=a[l]=new Array(A),g=0;g<A;++g)(h=c[g]||u[g])&&(f[g]=h);for(;l<i;++l)a[l]=t[l];return new Ha(a,this._parents)},selection:function xoe(){return this},order:function mse(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var o,r=n[e],i=r.length-1,s=r[i];--i>=0;)(o=r[i])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function vse(n){function e(A,f){return A&&f?n(A.__data__,f.__data__):!A-!f}n||(n=yse);for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var c,o=t[s],a=o.length,l=i[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new Ha(i,this._parents).order()},call:function wse(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function _se(){return Array.from(this)},node:function bse(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function xse(){let n=0;for(const e of this)++n;return n},empty:function Cse(){return!this.node()},each:function Ese(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a,i=e[t],s=0,o=i.length;s<o;++s)(a=i[s])&&n.call(a,a.__data__,s,i);return this},attr:function Fse(n,e){var t=pC(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((null==e?t.local?Bse:Sse:"function"==typeof e?t.local?Dse:Ise:t.local?Tse:Mse)(t,e))},style:function Pse(n,e,t){return arguments.length>1?this.each((null==e?Rse:"function"==typeof e?Use:Lse)(n,e,t??"")):im(this.node(),n)},property:function Hse(n,e){return arguments.length>1?this.each((null==e?Nse:"function"==typeof e?kse:Ose)(n,e)):this.node()[n]},classed:function zse(n,e){var t=w6(n+"");if(arguments.length<2){for(var r=TD(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each(("function"==typeof e?Gse:e?Qse:Vse)(t,e))},text:function Kse(n){return arguments.length?this.each(null==n?jse:("function"==typeof n?$se:Wse)(n)):this.node().textContent},html:function Zse(n){return arguments.length?this.each(null==n?qse:("function"==typeof n?Yse:Xse)(n)):this.node().innerHTML},raise:function eoe(){return this.each(Jse)},lower:function noe(){return this.each(toe)},append:function soe(n){var e="function"==typeof n?n:C6(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function aoe(n,e){var t="function"==typeof n?n:C6(n),r=null==e?ooe:"function"==typeof e?e:BD(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function coe(){return this.each(loe)},clone:function hoe(n){return this.select(n?Aoe:uoe)},datum:function foe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function voe(n,e,t){var i,o,r=function poe(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(n+""),s=r.length;if(!(arguments.length<2)){for(a=e?moe:goe,i=0;i<s;++i)this.each(a(r[i],e,t));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value},dispatch:function _oe(n,e){return this.each(("function"==typeof e?woe:yoe)(n,e))},[Symbol.iterator]:function*boe(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var o,r=n[e],i=0,s=r.length;i<s;++i)(o=r[i])&&(yield o)}};const Xy=B6;function oc(n){return"string"==typeof n?new Ha([[document.querySelector(n)]],[document.documentElement]):new Ha([[n]],S6)}var Coe={value:()=>{}};function M6(){for(var r,n=0,e=arguments.length,t={};n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new gC(t)}function gC(n){this._=n}function Soe(n,e){for(var i,t=0,r=n.length;t<r;++t)if((i=n[t]).name===e)return i.value}function T6(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=Coe,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=t&&n.push({name:e,value:t}),n}gC.prototype=M6.prototype={constructor:gC,on:function(n,e){var i,t=this._,r=function Eoe(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}(n+"",t),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(n=r[s]).type)t[i]=T6(t[i],n.name,e);else if(null==e)for(i in t)t[i]=T6(t[i],n.name,null);return this}for(;++s<o;)if((i=(n=r[s]).type)&&(i=Soe(t[i],n.name)))return i},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new gC(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var i,s,t=new Array(i),r=0;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=0,i=(s=this._[n]).length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};const Boe=M6;var mC,Jy,sm=0,Yy=0,Zy=0,I6=1e3,vC=0,cd=0,yC=0,ew="object"==typeof performance&&performance.now?performance:Date,D6="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function ID(){return cd||(D6(Moe),cd=ew.now()+yC)}function Moe(){cd=0}function wC(){this._call=this._time=this._next=null}function F6(n,e,t){var r=new wC;return r.restart(n,e,t),r}function R6(){cd=(vC=ew.now())+yC,sm=Yy=0;try{!function Toe(){ID(),++sm;for(var e,n=mC;n;)(e=cd-n._time)>=0&&n._call.call(void 0,e),n=n._next;--sm}()}finally{sm=0,function Doe(){for(var n,t,e=mC,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:mC=t);Jy=n,DD(r)}(),cd=0}}function Ioe(){var n=ew.now(),e=n-vC;e>I6&&(yC-=e,vC=n)}function DD(n){sm||(Yy&&(Yy=clearTimeout(Yy)),n-cd>24?(n<1/0&&(Yy=setTimeout(R6,n-ew.now()-yC)),Zy&&(Zy=clearInterval(Zy))):(Zy||(vC=ew.now(),Zy=setInterval(Ioe,I6)),sm=1,D6(R6)))}function L6(n,e,t){var r=new wC;return r.restart(i=>{r.stop(),n(i+e)},e=null==e?0:+e,t),r}wC.prototype=F6.prototype={constructor:wC,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?ID():+t)+(null==e?0:+e),!this._next&&Jy!==this&&(Jy?Jy._next=this:mC=this,Jy=this),this._call=n,this._time=t,DD()},stop:function(){this._call&&(this._call=null,this._time=1/0,DD())}};var Foe=Boe("start","end","cancel","interrupt"),Roe=[],U6=0,_C=3;function xC(n,e,t,r,i,s){var o=n.__transition;if(o){if(t in o)return}else n.__transition={};!function Loe(n,e,t){var i,r=n.__transition;function o(c){var u,A,f,h;if(1!==t.state)return l();for(u in r)if((h=r[u]).name===t.name){if(h.state===_C)return L6(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",n,n.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",n,n.__data__,h.index,h.group),delete r[u])}if(L6(function(){t.state===_C&&(t.state=4,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=2,t.on.call("start",n,n.__data__,t.index,t.group),2===t.state){for(t.state=_C,i=new Array(f=t.tween.length),u=0,A=-1;u<f;++u)(h=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(i[++A]=h);i.length=A+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=5,1),A=-1,f=i.length;++A<f;)i[A].call(n,u);5===t.state&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){for(var c in t.state=6,t.timer.stop(),delete r[e],r)return;delete n.__transition}r[e]=t,t.timer=F6(function s(c){t.state=1,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)},0,t.time)}(n,t,{name:e,index:r,group:i,on:Foe,tween:Roe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:U6})}function LD(n,e){var t=ac(n,e);if(t.state>U6)throw new Error("too late; already scheduled");return t}function Zc(n,e){var t=ac(n,e);if(t.state>_C)throw new Error("too late; already running");return t}function ac(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function lc(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var CC,O6=180/Math.PI,UD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function k6(n,e,t,r,i,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*O6,skewX:Math.atan(l)*O6,scaleX:o,scaleY:a}}function H6(n,e,t,r){function i(c){return c.length?c.pop()+" ":""}return function(c,u){var A=[],f=[];return c=n(c),u=n(u),function s(c,u,A,f,h,g){if(c!==A||u!==f){var w=h.push("translate(",null,e,null,t);g.push({i:w-4,x:lc(c,A)},{i:w-2,x:lc(u,f)})}else(A||f)&&h.push("translate("+A+e+f+t)}(c.translateX,c.translateY,u.translateX,u.translateY,A,f),function o(c,u,A,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:A.push(i(A)+"rotate(",null,r)-2,x:lc(c,u)})):u&&A.push(i(A)+"rotate("+u+r)}(c.rotate,u.rotate,A,f),function a(c,u,A,f){c!==u?f.push({i:A.push(i(A)+"skewX(",null,r)-2,x:lc(c,u)}):u&&A.push(i(A)+"skewX("+u+r)}(c.skewX,u.skewX,A,f),function l(c,u,A,f,h,g){if(c!==A||u!==f){var w=h.push(i(h)+"scale(",null,",",null,")");g.push({i:w-4,x:lc(c,A)},{i:w-2,x:lc(u,f)})}else(1!==A||1!==f)&&h.push(i(h)+"scale("+A+","+f+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,A,f),c=u=null,function(h){for(var v,g=-1,w=f.length;++g<w;)A[(v=f[g]).i]=v.x(h);return A.join("")}}}var koe=H6(function Noe(n){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?UD:k6(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Hoe=H6(function Ooe(n){return null!=n&&(CC||(CC=document.createElementNS("http://www.w3.org/2000/svg","g")),CC.setAttribute("transform",n),n=CC.transform.baseVal.consolidate())?k6((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):UD},", ",")",")");function Qoe(n,e){var t,r;return function(){var i=Zc(this,n),s=i.tween;if(s!==t)for(var o=0,a=(r=t=s).length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Voe(n,e,t){var r,i;if("function"!=typeof t)throw new Error;return function(){var s=Zc(this,n),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:t},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function PD(n,e,t){var r=n._id;return n.each(function(){var i=Zc(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return ac(i,r).value[e]}}function ND(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Q6(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function tw(){}var EC=1/.7,om="\\s*([+-]?\\d+)\\s*",rw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zoe=/^#([0-9a-f]{3,8})$/,joe=new RegExp(`^rgb\\(${om},${om},${om}\\)$`),Woe=new RegExp(`^rgb\\(${Jc},${Jc},${Jc}\\)$`),$oe=new RegExp(`^rgba\\(${om},${om},${om},${rw}\\)$`),Koe=new RegExp(`^rgba\\(${Jc},${Jc},${Jc},${rw}\\)$`),qoe=new RegExp(`^hsl\\(${rw},${Jc},${Jc}\\)$`),Xoe=new RegExp(`^hsla\\(${rw},${Jc},${Jc},${rw}\\)$`),V6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function G6(){return this.rgb().formatHex()}function z6(){return this.rgb().formatRgb()}function ud(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=zoe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?j6(e):3===t?new sa(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?SC(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?SC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=joe.exec(n))?new sa(e[1],e[2],e[3],1):(e=Woe.exec(n))?new sa(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$oe.exec(n))?SC(e[1],e[2],e[3],e[4]):(e=Koe.exec(n))?SC(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=qoe.exec(n))?K6(e[1],e[2]/100,e[3]/100,1):(e=Xoe.exec(n))?K6(e[1],e[2]/100,e[3]/100,e[4]):V6.hasOwnProperty(n)?j6(V6[n]):"transparent"===n?new sa(NaN,NaN,NaN,0):null}function j6(n){return new sa(n>>16&255,n>>8&255,255&n,1)}function SC(n,e,t,r){return r<=0&&(n=e=t=NaN),new sa(n,e,t,r)}function BC(n,e,t,r){return 1===arguments.length?function Joe(n){return n instanceof tw||(n=ud(n)),n?new sa((n=n.rgb()).r,n.g,n.b,n.opacity):new sa}(n):new sa(n,e,t,r??1)}function sa(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}function W6(){return`#${hd(this.r)}${hd(this.g)}${hd(this.b)}`}function $6(){const n=MC(this.opacity);return`${1===n?"rgb(":"rgba("}${Ad(this.r)}, ${Ad(this.g)}, ${Ad(this.b)}${1===n?")":`, ${n})`}`}function MC(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ad(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function hd(n){return((n=Ad(n))<16?"0":"")+n.toString(16)}function K6(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new cc(n,e,t,r)}function q6(n){if(n instanceof cc)return new cc(n.h,n.s,n.l,n.opacity);if(n instanceof tw||(n=ud(n)),!n)return new cc;if(n instanceof cc)return n;var e=(n=n.rgb()).r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=e===s?(t-r)/a+6*(t<r):t===s?(r-e)/a+2:(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new cc(o,a,l,n.opacity)}function cc(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}function X6(n){return(n=(n||0)%360)<0?n+360:n}function TC(n){return Math.max(0,Math.min(1,n||0))}function OD(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}function Y6(n,e,t,r,i){var s=n*n,o=s*n;return((1-3*n+3*s-o)*e+(4-6*s+3*o)*t+(1+3*n+3*s-3*o)*r+o*i)/6}ND(tw,ud,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:G6,formatHex:G6,formatHex8:function Yoe(){return this.rgb().formatHex8()},formatHsl:function Zoe(){return q6(this).formatHsl()},formatRgb:z6,toString:z6}),ND(sa,BC,Q6(tw,{brighter(n){return n=null==n?EC:Math.pow(EC,n),new sa(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new sa(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new sa(Ad(this.r),Ad(this.g),Ad(this.b),MC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:W6,formatHex:W6,formatHex8:function eae(){return`#${hd(this.r)}${hd(this.g)}${hd(this.b)}${hd(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:$6,toString:$6})),ND(cc,function tae(n,e,t,r){return 1===arguments.length?q6(n):new cc(n,e,t,r??1)},Q6(tw,{brighter(n){return n=null==n?EC:Math.pow(EC,n),new cc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new cc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new sa(OD(n>=240?n-240:n+120,i,r),OD(n,i,r),OD(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new cc(X6(this.h),TC(this.s),TC(this.l),MC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=MC(this.opacity);return`${1===n?"hsl(":"hsla("}${X6(this.h)}, ${100*TC(this.s)}%, ${100*TC(this.l)}%${1===n?")":`, ${n})`}`}}));const kD=n=>()=>n;function J6(n,e){var t=e-n;return t?function Z6(n,e){return function(t){return n+t*e}}(n,t):kD(isNaN(n)?e:n)}const IC=function n(e){var t=function sae(n){return 1==(n=+n)?J6:function(e,t){return t-e?function iae(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}(e,t,n):kD(isNaN(e)?t:e)}}(e);function r(i,s){var o=t((i=BC(i)).r,(s=BC(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),c=J6(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=n,r}(1);function e8(n){return function(e){var o,a,t=e.length,r=new Array(t),i=new Array(t),s=new Array(t);for(o=0;o<t;++o)a=BC(e[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=n(r),i=n(i),s=n(s),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=s(l),a+""}}}e8(function nae(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),i=n[r],s=n[r+1];return Y6((t-r/e)*e,r>0?n[r-1]:2*i-s,i,s,r<e-1?n[r+2]:2*s-i)}}),e8(function rae(n){var e=n.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e);return Y6((t-r/e)*e,n[(r+e-1)%e],n[r%e],n[(r+1)%e],n[(r+2)%e])}});var HD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,QD=new RegExp(HD.source,"g");function t8(n,e){var r,i,s,t=HD.lastIndex=QD.lastIndex=0,o=-1,a=[],l=[];for(n+="",e+="";(r=HD.exec(n))&&(i=QD.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:lc(r,i)})),t=QD.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function aae(n){return function(e){return n(e)+""}}(l[0].x):function oae(n){return function(){return n}}(e):(e=l.length,function(c){for(var A,u=0;u<e;++u)a[(A=l[u]).i]=A.x(c);return a.join("")})}function n8(n,e){var t;return("number"==typeof e?lc:e instanceof ud?IC:(t=ud(e))?(e=t,IC):t8)(n,e)}function lae(n){return function(){this.removeAttribute(n)}}function cae(n){return function(){this.removeAttributeNS(n.space,n.local)}}function uae(n,e,t){var r,s,i=t+"";return function(){var o=this.getAttribute(n);return o===i?null:o===r?s:s=e(r=o,t)}}function Aae(n,e,t){var r,s,i=t+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?s:s=e(r=o,t)}}function hae(n,e,t){var r,i,s;return function(){var o,l,a=t(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function fae(n,e,t){var r,i,s;return function(){var o,l,a=t(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function mae(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&function gae(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}(n,s)),t}return i._value=e,i}function vae(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&function pae(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}(n,s)),t}return i._value=e,i}function wae(n,e){return function(){LD(this,n).delay=+e.apply(this,arguments)}}function _ae(n,e){return e=+e,function(){LD(this,n).delay=e}}function xae(n,e){return function(){Zc(this,n).duration=+e.apply(this,arguments)}}function Cae(n,e){return e=+e,function(){Zc(this,n).duration=e}}var kae=Xy.prototype.constructor;function r8(n){return function(){this.style.removeProperty(n)}}var rle=0;function eA(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function i8(){return++rle}var tA=Xy.prototype;eA.prototype=function ile(n){return Xy().transition(n)}.prototype={constructor:eA,select:function Nae(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=BD(n));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var u,A,a=r[o],l=a.length,c=s[o]=new Array(l),f=0;f<l;++f)(u=a[f])&&(A=n.call(u,u.__data__,f,a))&&("__data__"in u&&(A.__data__=u.__data__),c[f]=A,xC(c[f],e,t,f,c,ac(u,t)));return new eA(s,this._parents,e,t)},selectAll:function Oae(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=d6(n));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u,l=r[a],c=l.length,A=0;A<c;++A)if(u=l[A]){for(var h,f=n.call(u,u.__data__,A,l),g=ac(u,t),w=0,v=f.length;w<v;++w)(h=f[w])&&xC(h,e,t,w,f,g);s.push(f),o.push(u)}return new eA(s,o,e,t)},selectChild:tA.selectChild,selectChildren:tA.selectChildren,filter:function Iae(n){"function"!=typeof n&&(n=p6(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,s=e[i],o=s.length,a=r[i]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new eA(r,this._parents,this._name,this._id)},merge:function Dae(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,s=Math.min(r,t.length),o=new Array(r),a=0;a<s;++a)for(var f,l=e[a],c=t[a],u=l.length,A=o[a]=new Array(u),h=0;h<u;++h)(f=l[h]||c[h])&&(A[h]=f);for(;a<r;++a)o[a]=e[a];return new eA(o,this._parents,this._name,this._id)},selection:function Hae(){return new kae(this._groups,this._parents)},transition:function tle(){for(var n=this._name,e=this._id,t=i8(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l,o=r[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=ac(l,e);xC(l,n,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new eA(r,this._parents,n,t)},call:tA.call,nodes:tA.nodes,node:tA.node,size:tA.size,empty:tA.empty,each:tA.each,on:function Lae(n,e){var t=this._id;return arguments.length<2?ac(this.node(),t).on.on(n):this.each(function Rae(n,e,t){var r,i,s=function Fae(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?LD:Zc;return function(){var o=s(this,n),a=o.on;a!==r&&(i=(r=a).copy()).on(e,t),o.on=i}}(t,n,e))},attr:function dae(n,e){var t=pC(n),r="transform"===t?Hoe:n8;return this.attrTween(n,"function"==typeof e?(t.local?fae:hae)(t,r,PD(this,"attr."+n,e)):null==e?(t.local?cae:lae)(t):(t.local?Aae:uae)(t,r,e))},attrTween:function yae(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var r=pC(n);return this.tween(t,(r.local?mae:vae)(r,e))},style:function jae(n,e,t){var r="transform"==(n+="")?koe:n8;return null==e?this.styleTween(n,function Qae(n,e){var t,r,i;return function(){var s=im(this,n),o=(this.style.removeProperty(n),im(this,n));return s===o?null:s===t&&o===r?i:i=e(t=s,r=o)}}(n,r)).on("end.style."+n,r8(n)):"function"==typeof e?this.styleTween(n,function Gae(n,e,t){var r,i,s;return function(){var o=im(this,n),a=t(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=im(this,n)),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}(n,r,PD(this,"style."+n,e))).each(function zae(n,e){var t,r,i,a,s="style."+e,o="end."+s;return function(){var l=Zc(this,n),c=l.on,u=null==l.value[s]?a||(a=r8(e)):void 0;(c!==t||i!==u)&&(r=(t=c).copy()).on(o,i=u),l.on=r}}(this._id,n)):this.styleTween(n,function Vae(n,e,t){var r,s,i=t+"";return function(){var o=im(this,n);return o===i?null:o===r?s:s=e(r=o,t)}}(n,r,e),t).on("end.style."+n,null)},styleTween:function Kae(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function $ae(n,e,t){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function Wae(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}(n,o,t)),r}return s._value=e,s}(n,e,t??""))},text:function Yae(n){return this.tween("text","function"==typeof n?function Xae(n){return function(){var e=n(this);this.textContent=e??""}}(PD(this,"text",n)):function qae(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function ele(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,function Jae(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&function Zae(n){return function(e){this.textContent=n.call(this,e)}}(i)),e}return r._value=n,r}(n))},remove:function Pae(){return this.on("end.remove",function Uae(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}(this._id))},tween:function Goe(n,e){var t=this._id;if(n+="",arguments.length<2){for(var o,r=ac(this.node(),t).tween,i=0,s=r.length;i<s;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((null==e?Qoe:Voe)(t,n,e))},delay:function bae(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?wae:_ae)(e,n)):ac(this.node(),e).delay},duration:function Eae(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?xae:Cae)(e,n)):ac(this.node(),e).duration},ease:function Bae(n){var e=this._id;return arguments.length?this.each(function Sae(n,e){if("function"!=typeof e)throw new Error;return function(){Zc(this,n).ease=e}}(e,n)):ac(this.node(),e).ease},easeVarying:function Tae(n){if("function"!=typeof n)throw new Error;return this.each(function Mae(n,e){return function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;Zc(this,n).ease=t}}(this._id,n))},end:function nle(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};t.each(function(){var c=Zc(this,r),u=c.on;u!==n&&((e=(n=u).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),0===i&&s()})},[Symbol.iterator]:tA[Symbol.iterator]};var ole={time:null,delay:0,duration:250,ease:function sle(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function ale(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function si(n){return function(){return n}}Xy.prototype.interrupt=function Poe(n){return this.each(function(){!function Uoe(n,e){var r,i,o,t=n.__transition,s=!0;if(t){for(o in e=null==e?null:e+"",t)(r=t[o]).name===e?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[o]):s=!1;s&&delete n.__transition}}(this,n)})},Xy.prototype.transition=function lle(n){var e,t;n instanceof eA?(e=n._id,n=n._name):(e=i8(),(t=ole).time=ID(),n=null==n?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l,o=r[s],a=o.length,c=0;c<a;++c)(l=o[c])&&xC(l,n,e,c,o,t||ale(l,e));return new eA(r,this._parents,n,e)};const s8=Math.abs,fo=Math.atan2,fd=Math.cos,cle=Math.max,VD=Math.min,eu=Math.sin,am=Math.sqrt,oa=1e-12,iw=Math.PI,DC=iw/2,ule=2*iw;function o8(n){return n>=1?DC:n<=-1?-DC:Math.asin(n)}const GD=Math.PI,zD=2*GD,dd=1e-6,hle=zD-dd;function a8(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}class FC{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?a8:function fle(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return a8;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,o){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,(s=+s)<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-t,u=o-e,A=a-t,f=u*u+A*A;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(f>dd)if(Math.abs(A*l-c*u)>dd&&s){let h=r-o,g=i-a,w=l*l+c*c,v=h*h+g*g,p=Math.sqrt(w),C=Math.sqrt(f),E=s*Math.tan((GD-Math.acos((w+f-v)/(2*p*C)))/2),B=E/C,U=E/p;Math.abs(B-1)>dd&&this._append`L${e+B*u},${t+B*A}`,this._append`A${s},${s},0,0,${+(A*h>u*g)},${this._x1=e+U*l},${this._y1=t+U*c}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,i,s,o){if(e=+e,t=+t,o=!!o,(r=+r)<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=t+l,A=1^o,f=o?i-s:s-i;null===this._x1?this._append`M${c},${u}`:(Math.abs(this._x1-c)>dd||Math.abs(this._y1-u)>dd)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%zD+zD),f>hle?this._append`A${r},${r},0,1,${A},${e-a},${t-l}A${r},${r},0,1,${A},${this._x1=c},${this._y1=u}`:f>dd&&this._append`A${r},${r},0,${+(f>=GD)},${A},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jD(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(null==t)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new FC(e)}function ple(n){return n.innerRadius}function gle(n){return n.outerRadius}function mle(n){return n.startAngle}function vle(n){return n.endAngle}function yle(n){return n&&n.padAngle}function RC(n,e,t,r,i,s,o){var a=n-t,l=e-r,c=(o?s:-s)/am(a*a+l*l),u=c*l,A=-c*a,f=n+u,h=e+A,g=t+u,w=r+A,v=(f+g)/2,p=(h+w)/2,C=g-f,E=w-h,B=C*C+E*E,U=i-s,k=f*w-g*h,H=(E<0?-1:1)*am(cle(0,U*U*B-k*k)),P=(k*E-C*H)/B,L=(-k*C-E*H)/B,D=(k*E+C*H)/B,I=(-k*C+E*H)/B,O=P-v,V=L-p,R=D-v,J=I-p;return O*O+V*V>R*R+J*J&&(P=D,L=I),{cx:P,cy:L,x01:-u,y01:-A,x11:P*(i/U-1),y11:L*(i/U-1)}}function LC(){var n=ple,e=gle,t=si(0),r=null,i=mle,s=vle,o=yle,a=null,l=jD(c);function c(){var u,A,f=+n.apply(this,arguments),h=+e.apply(this,arguments),g=i.apply(this,arguments)-DC,w=s.apply(this,arguments)-DC,v=s8(w-g),p=w>g;if(a||(a=u=l()),h<f&&(A=h,h=f,f=A),h>oa)if(v>ule-oa)a.moveTo(h*fd(g),h*eu(g)),a.arc(0,0,h,g,w,!p),f>oa&&(a.moveTo(f*fd(w),f*eu(w)),a.arc(0,0,f,w,g,p));else{var V,R,C=g,E=w,B=g,U=w,k=v,H=v,P=o.apply(this,arguments)/2,L=P>oa&&(r?+r.apply(this,arguments):am(f*f+h*h)),D=VD(s8(h-f)/2,+t.apply(this,arguments)),I=D,O=D;if(L>oa){var J=o8(L/f*eu(P)),W=o8(L/h*eu(P));(k-=2*J)>oa?(B+=J*=p?1:-1,U-=J):(k=0,B=U=(g+w)/2),(H-=2*W)>oa?(C+=W*=p?1:-1,E-=W):(H=0,C=E=(g+w)/2)}var ae=h*fd(C),Z=h*eu(C),Ae=f*fd(U),ge=f*eu(U);if(D>oa){var oe,Te=h*fd(E),Q=h*eu(E),se=f*fd(B),$=f*eu(B);if(v<iw)if(oe=function wle(n,e,t,r,i,s,o,a){var l=t-n,c=r-e,u=o-i,A=a-s,f=A*l-u*c;if(!(f*f<oa))return[n+(f=(u*(e-s)-A*(n-i))/f)*l,e+f*c]}(ae,Z,se,$,Te,Q,Ae,ge)){var pe=ae-oe[0],de=Z-oe[1],me=Te-oe[0],Ee=Q-oe[1],ze=1/eu(function Ale(n){return n>1?0:n<-1?iw:Math.acos(n)}((pe*me+de*Ee)/(am(pe*pe+de*de)*am(me*me+Ee*Ee)))/2),st=am(oe[0]*oe[0]+oe[1]*oe[1]);I=VD(D,(f-st)/(ze-1)),O=VD(D,(h-st)/(ze+1))}else I=O=0}H>oa?O>oa?(V=RC(se,$,ae,Z,h,O,p),R=RC(Te,Q,Ae,ge,h,O,p),a.moveTo(V.cx+V.x01,V.cy+V.y01),O<D?a.arc(V.cx,V.cy,O,fo(V.y01,V.x01),fo(R.y01,R.x01),!p):(a.arc(V.cx,V.cy,O,fo(V.y01,V.x01),fo(V.y11,V.x11),!p),a.arc(0,0,h,fo(V.cy+V.y11,V.cx+V.x11),fo(R.cy+R.y11,R.cx+R.x11),!p),a.arc(R.cx,R.cy,O,fo(R.y11,R.x11),fo(R.y01,R.x01),!p))):(a.moveTo(ae,Z),a.arc(0,0,h,C,E,!p)):a.moveTo(ae,Z),f>oa&&k>oa?I>oa?(V=RC(Ae,ge,Te,Q,f,-I,p),R=RC(ae,Z,se,$,f,-I,p),a.lineTo(V.cx+V.x01,V.cy+V.y01),I<D?a.arc(V.cx,V.cy,I,fo(V.y01,V.x01),fo(R.y01,R.x01),!p):(a.arc(V.cx,V.cy,I,fo(V.y01,V.x01),fo(V.y11,V.x11),!p),a.arc(0,0,f,fo(V.cy+V.y11,V.cx+V.x11),fo(R.cy+R.y11,R.cx+R.x11),p),a.arc(R.cx,R.cy,I,fo(R.y11,R.x11),fo(R.y01,R.x01),!p))):a.arc(0,0,f,U,B,p):a.lineTo(Ae,ge)}else a.moveTo(0,0);if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,A=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-iw/2;return[fd(A)*u,eu(A)*u]},c.innerRadius=function(u){return arguments.length?(n="function"==typeof u?u:si(+u),c):n},c.outerRadius=function(u){return arguments.length?(e="function"==typeof u?u:si(+u),c):e},c.cornerRadius=function(u){return arguments.length?(t="function"==typeof u?u:si(+u),c):t},c.padRadius=function(u){return arguments.length?(r=null==u?null:"function"==typeof u?u:si(+u),c):r},c.startAngle=function(u){return arguments.length?(i="function"==typeof u?u:si(+u),c):i},c.endAngle=function(u){return arguments.length?(s="function"==typeof u?u:si(+u),c):s},c.padAngle=function(u){return arguments.length?(o="function"==typeof u?u:si(+u),c):o},c.context=function(u){return arguments.length?(a=u??null,c):a},c}const _le=["pitch"],UC={pass:{color:"#ffffff",marker:"arrowhead-pass",radius:1.5,outlineColor:"#ffffff"},keyPass:{color:"#ffeb3b",marker:"arrowhead-keypass",radius:1.5,outlineColor:"#000000"},shot:{color:"#ff4444",marker:"arrowhead-shot",radius:1.5,outlineColor:"#ff4444"},carry:{color:"#4CAF50",marker:"arrowhead-carry",radius:1.5,outlineColor:"#4CAF50"},dribble:{color:"#2196F3",marker:"arrowhead-dribble",radius:1.5,outlineColor:"#2196F3"}};let ble=(()=>{class n{goal;pitchRef;svg;pitch;isVertical=!1;PITCH_LENGTH=120;PITCH_WIDTH=80;LINE_COLOR="rgba(255, 255, 255, 0.8)";PLAYER_RADIUS=UC.pass.radius;eventStream=[];currentEventIndex=-1;constructor(){}ngOnInit(){this.goal&&this.initializeEventStream()}initializeEventStream(){this.goal&&(this.eventStream=this.goal.buildup_events.map(t=>({...t,active:!1})))}ngAfterViewInit(){setTimeout(()=>{this.initializePitch(),this.goal&&this.drawGoalSequence(this.goal)})}initializePitch(){this.pitchRef?.nativeElement&&(this.svg&&oc(this.pitchRef.nativeElement).selectAll("*").remove(),this.svg=oc(this.pitchRef.nativeElement).attr("viewBox",`0 0 ${this.PITCH_LENGTH} ${this.PITCH_WIDTH}`).attr("preserveAspectRatio","xMidYMid meet"),this.createArrowMarkers(),this.drawPitchBackground(),this.drawFieldLines())}createArrowMarkers(){const t=this.svg.append("defs");Object.entries(UC).forEach(([r,i])=>{t.append("marker").attr("id",i.marker).attr("viewBox","0 -5 10 10").attr("refX",8).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").attr("markerUnits","strokeWidth").append("path").attr("d","M0,-5 L10,0 L0,5").attr("fill",i.color).attr("opacity",1)})}scaleCoordinates(t,r){return this.isVertical?[r/80*this.PITCH_LENGTH,(120-t)/120*this.PITCH_WIDTH]:[t/120*this.PITCH_LENGTH,r/80*this.PITCH_WIDTH]}drawGoalSequence(t){const r=[...t.buildup_events],i=s=>{if(s>=r.length)return;const o=r[s];this.currentEventIndex=s,this.eventStream[s].active=!0;const[a,l]=this.scaleCoordinates(o.start_location[0],o.start_location[1]),[c,u]=o.end_location?this.scaleCoordinates(o.end_location[0],o.end_location[1]):[a,l],A=this.getEventStyle(o),f=this.pitch.append("g");if(o.end_location)if("pass"===o.event_type){const g=f.append("path").attr("d",this.createCurvedPath(a,l,c,u)).attr("fill","none").attr("stroke",A.color).attr("stroke-width",.5).attr("marker-end",`url(#${A.marker})`),w=g.node().getTotalLength();g.attr("stroke-dasharray",`${w},${w}`).attr("stroke-dashoffset",w).transition().duration(800).attr("stroke-dashoffset",0)}else"shot"===o.event_type?this.animateShot(o,a,l,c,u,()=>{}):("dribble"===o.event_type||"carry"===o.event_type)&&this.animateCarryOrDribble(o,a,l,c,u,()=>{});const h=f.append("circle").attr("cx",a).attr("cy",l).attr("r",A.radius).attr("fill",A.color).attr("opacity",0);o.key_pass&&h.attr("fill",A.outlineColor).attr("stroke",A.color).attr("stroke-width",.5),h.transition().duration(300).attr("opacity",1).on("end",()=>{o.end_location&&"shot"!==o.event_type?f.append("circle").attr("cx",c).attr("cy",u).attr("r",A.radius).attr("fill",A.color).attr("opacity",0).transition().duration(300).attr("opacity",1).on("end",()=>{setTimeout(()=>i(s+1),200)}):setTimeout(()=>i(s+1),800)})};i(0)}animateEventPath(t,r,i,s,o,a){switch(this.getEventStyle(t),t.event_type){case"dribble":case"carry":this.animateCarryOrDribble(t,r,i,s,o,a);break;case"pass":this.animatePass(t,r,i,s,o,a);break;case"shot":this.animateShot(t,r,i,s,o,a);break;default:a()}}animateCarryOrDribble(t,r,i,s,o,a){const l=this.getEventStyle(t),u=this.pitch.append("path").attr("d",this.createCurvedPath(r,i,s,o)).attr("fill","none").attr("stroke",l.color).attr("stroke-width",.5).attr("opacity",.3).node(),A=u.getTotalLength();this.pitch.append("circle").attr("cx",r).attr("cy",i).attr("r",l.radius).attr("fill",l.color).transition().duration(800).attrTween("transform",()=>h=>{const g=u.getPointAtLength(h*A);return`translate(${g.x-r},${g.y-i})`}).on("end",a)}animatePass(t,r,i,s,o,a){const l=this.getEventStyle(t),u=this.pitch.append("g").lower().append("path").attr("d",this.createCurvedPath(r,i,s-3,o)).attr("fill","none").attr("stroke",l.color).attr("stroke-width",.5).attr("marker-end",`url(#${l.marker})`),A=u.node().getTotalLength();u.attr("stroke-dasharray",`${A},${A}`).attr("stroke-dashoffset",A).transition().duration(800).attr("stroke-dashoffset",0).on("end",()=>{this.pitch.append("circle").attr("cx",s).attr("cy",o).attr("r",l.radius).attr("fill",l.color).attr("opacity",0).transition().duration(300).attr("opacity",1).on("end",a)})}animateShot(t,r,i,s,o,a){const l=this.getEventStyle(t),c=this.pitch.append("path").attr("d",this.createCurvedPath(r,i,s,o)).attr("fill","none").attr("stroke",l.color).attr("stroke-width",.5).attr("marker-end",`url(#${l.marker})`).attr("opacity",1),u=c.node().getTotalLength();c.attr("stroke-dasharray",u).attr("stroke-dashoffset",u).transition().duration(800).attr("stroke-dashoffset",0).on("end",a)}drawPitchBackground(){const t=this.svg.append("defs"),r=t.append("pattern").attr("id","wornGrass").attr("patternUnits","userSpaceOnUse").attr("width",20).attr("height",20);r.append("rect").attr("width",20).attr("height",20).attr("fill","#1a472a");for(let o=0;o<20;o++)r.append("circle").attr("cx",20*Math.random()).attr("cy",20*Math.random()).attr("r",1*Math.random()).attr("fill","#143d23").attr("opacity",.3);const i=t.append("radialGradient").attr("id","wornSpot").attr("gradientUnits","userSpaceOnUse").attr("cx","0").attr("cy","0").attr("r","10");i.append("stop").attr("offset","0%").attr("stop-color","#0f2d1c").attr("stop-opacity",.7),i.append("stop").attr("offset","100%").attr("stop-color","#1a472a").attr("stop-opacity",0),this.pitch=this.svg.append("g"),this.pitch.append("rect").attr("width",this.PITCH_LENGTH).attr("height",this.PITCH_WIDTH).attr("fill","url(#wornGrass)"),[{x:this.PITCH_LENGTH/2,y:this.PITCH_WIDTH/2,r:12},{x:11,y:this.PITCH_WIDTH/2,r:8},{x:this.PITCH_LENGTH-11,y:this.PITCH_WIDTH/2,r:8},{x:16.5,y:this.PITCH_WIDTH/2,r:15},{x:this.PITCH_LENGTH-16.5,y:this.PITCH_WIDTH/2,r:15}].forEach(o=>{this.pitch.append("circle").attr("cx",o.x).attr("cy",o.y).attr("r",o.r).attr("fill","url(#wornSpot)").attr("transform",`translate(${o.x},${o.y})`)})}drawFieldLines(){this.pitch.append("rect").attr("x",0).attr("y",0).attr("width",this.PITCH_LENGTH).attr("height",this.PITCH_WIDTH).attr("fill","none").attr("stroke",this.LINE_COLOR).attr("stroke-width",.5),this.pitch.append("line").attr("x1",this.PITCH_LENGTH/2).attr("y1",0).attr("x2",this.PITCH_LENGTH/2).attr("y2",this.PITCH_WIDTH).attr("stroke",this.LINE_COLOR).attr("stroke-width",.5),this.pitch.append("circle").attr("cx",this.PITCH_LENGTH/2).attr("cy",this.PITCH_WIDTH/2).attr("r",9.15).attr("fill","none").attr("stroke",this.LINE_COLOR).attr("stroke-width",.5),[0,this.PITCH_LENGTH].forEach(t=>{const r=0===t,i=r?0:this.PITCH_LENGTH-16.5;this.pitch.append("rect").attr("x",i).attr("y",(this.PITCH_WIDTH-40.32)/2).attr("width",16.5).attr("height",40.32).attr("fill","none").attr("stroke",this.LINE_COLOR).attr("stroke-width",.5);const s=r?0:this.PITCH_LENGTH-5.5;this.pitch.append("rect").attr("x",s).attr("y",(this.PITCH_WIDTH-18.32)/2).attr("width",5.5).attr("height",18.32).attr("fill","none").attr("stroke",this.LINE_COLOR).attr("stroke-width",.5);const o=LC().innerRadius(9.15).outerRadius(9.15).startAngle(r?38*Math.PI/180:218*Math.PI/180).endAngle(r?142*Math.PI/180:322*Math.PI/180);this.pitch.append("path").attr("d",o({})).attr("transform",`translate(${r?11:this.PITCH_LENGTH-11},${this.PITCH_WIDTH/2})`).attr("stroke",this.LINE_COLOR).attr("fill","none").attr("stroke-width",.5),this.pitch.append("circle").attr("cx",r?11:this.PITCH_LENGTH-11).attr("cy",this.PITCH_WIDTH/2).attr("r",.5).attr("fill",this.LINE_COLOR)})}getEventDescription(t){switch(t.event_type){case"pass":return`${t.pass_height?`${t.pass_height} `:""}Pass${t.pass_outcome?` (${t.pass_outcome})`:""}`;case"shot":return`${t.shot_technique?`${t.shot_technique} `:""}Shot${t.shot_outcome?` (${t.shot_outcome})`:""}`;case"carry":return"Carry"+(t.carry_outcome?` (${t.carry_outcome})`:"");case"dribble":return"Dribble"+(t.dribble_outcome?` (${t.dribble_outcome})`:"");default:return t.event_type}}getActionType(t){return t.technique?t.technique:t.event_type.charAt(0).toUpperCase()+t.event_type.slice(1)}getEventStyle(t){return"pass"===t.event_type&&t.key_pass?UC.keyPass:UC[t.event_type]}createCurvedPath(t,r,i,s){const o=i-t,a=s-r;return`M${t},${r} Q${(t+i)/2},${(r+s)/2-.15*Math.sqrt(o*o+a*a)} ${i},${s}`}ngOnDestroy(){this.svg&&oc(this.pitchRef.nativeElement).selectAll("*").remove()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rs({type:n,selectors:[["pitch"]],viewQuery:function(r,i){if(1&r&&ju(_le,5),2&r){let s;Gc(s=zc())&&(i.pitchRef=s.first)}},inputs:{goal:"goal"},features:[ui([lI,fk])],decls:25,vars:9,consts:[[1,"pitch-wrapper"],[1,"d-flex","m-0"],[1,"row","g-0","flex-grow-1"],[1,"col-12","d-flex","flex-column"],[1,"pitch-header","p-3"],[1,"bb-text-league-spartan","mb-0"],[1,"d-flex","justify-content-between","align-items-baseline"],[1,"bb-text-courier-prime","text-muted","small"],[1,"bb-text-courier-prime","mt-1"],[1,"bb-text-bold"],[1,"text-end"],[1,"bb-text-league-spartan","bb-text-bold","small"],[1,"bb-text-pinegrove","bb-text-bold",2,"color","var(--bb-brown-gold-color)"],[1,"pitch-container","flex-grow-1"],[1,"sandlot-frame","h-100"],[1,"w-100","h-100"],["pitch",""]],template:function(r,i){1&r&&(it(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),_t(6),tt(),it(7,"div",6)(8,"div")(9,"div",7),_t(10),tt(),it(11,"div",8),_t(12),it(13,"span",9),_t(14),tt()()(),it(15,"div",10)(16,"div",11),_t(17,"xG"),tt(),it(18,"div",12),_t(19),$b(20,"number"),tt()()()(),it(21,"div",13)(22,"div",14),function z_(){xn.lFrame.currentNamespace="svg"}(),Si(23,"svg",15,16),tt()()()()()()),2&r&&(_n(6),js(null==i.goal?null:i.goal.fixture_name),_n(4),Kf(" ",null==i.goal?null:i.goal.competition_name," | ",null==i.goal?null:i.goal.season," "),_n(2),yg(" ",null==i.goal?null:i.goal.team," - "),_n(2),js(null==i.goal?null:i.goal.goal_scorer),_n(5),yg(" ",function L4(n,e,t,r){const i=n+Kn,s=At(),o=Mu(s,i);return py(s,i)?I4(s,ms(),e,o.transform,t,r,o):o.transform(t,r)}(20,6,null==i.goal?null:i.goal.shot_xg,"1.2-2")," "))},dependencies:[lI],styles:[".pitch-header[_ngcontent-%COMP%]{background-color:var(--bb-cream-off-white-color);border-bottom:3px solid var(--bb-black-color);min-height:90px}.pitch-container[_ngcontent-%COMP%]{background-color:var(--bb-black-color);padding:1rem}.sandlot-frame[_ngcontent-%COMP%]{background:#2b2b2b;border-radius:10px;box-shadow:inset 0 0 20px #00000080;border:3px solid var(--bb-black-color);padding:1rem;position:relative}.event-stream-col[_ngcontent-%COMP%]{border-left:3px solid var(--bb-black-color);background-color:var(--bb-cream-off-white-color)}.event-list[_ngcontent-%COMP%]{position:relative}.event-scroll[_ngcontent-%COMP%]{height:calc(100vh - 2rem);overflow-y:auto;padding-right:.5rem}.event-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.event-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.event-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--bb-brown-gold-color);border-radius:3px}.event-card[_ngcontent-%COMP%]{background:var(--bb-white-color);border:2px solid var(--bb-brown-gold-color);border-radius:8px;transition:all .3s ease}.event-card.active[_ngcontent-%COMP%]{transform:translate(5px);border-color:var(--bb-red-card-color)}.event-card[_ngcontent-%COMP%]   .event-time[_ngcontent-%COMP%]{color:var(--bb-brown-gold-color);font-size:.9rem}.event-card[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:var(--bb-black-color);font-size:.9rem;font-weight:600}.event-card[_ngcontent-%COMP%]   .event-type[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .5rem;border-radius:4px;font-size:.75rem;color:var(--bb-white-color)}.event-card[_ngcontent-%COMP%]   .pass-badge[_ngcontent-%COMP%]{background-color:var(--bb-blue-card-color)}.event-card[_ngcontent-%COMP%]   .shot-badge[_ngcontent-%COMP%]{background-color:var(--bb-red-card-color)}.event-card[_ngcontent-%COMP%]   .carry-badge[_ngcontent-%COMP%]{background-color:#4caf50}.event-card[_ngcontent-%COMP%]   .key-pass-badge[_ngcontent-%COMP%]{background-color:#000;color:#ffeb3b}.pitch-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}"]})}return n})();const xle=["pitchSvg"],Cle=function(n){return{expanded:n}};let WD=(()=>{class n{svgElement;isCollapsed=!1;svg;animationFrameId=null;exampleGoal={id:49864,goal_id:"3698dcf2-d86d-43cb-83e5-6f2cd0778178",competition_name:"FIFA World Cup",season:"2022",fixture_name:"Brazil vs Serbia",match_date:"2022-11-24",timestamp:"00:27:54.741",minute:72,second:54,goal_scorer:"Richarlison",goal_scorer_id:3280,team:"Brazil",shot_xg:.07569885,play_pattern:"From Throw In",shot_location:[107.1,39.6],buildup_events:[{minute:72,player:"Alex Sandro",second:41,player_id:6945,technique:"Dribble",timestamp:"00:27:41.918",event_type:"carry",end_location:[58.9,18.6],carry_outcome:null,start_location:[45.8,25.8]},{minute:72,player:"Alex Sandro",second:43,key_pass:!1,player_id:6945,recipient:"Vin\xedcius J\xfanior",technique:"Left Foot Ground Pass",timestamp:"00:27:43.300",event_type:"pass",pass_height:"Ground Pass",end_location:[83.2,7.9],pass_outcome:null,recipient_id:18395,start_location:[58.9,18.6]},{minute:72,player:"Vin\xedcius J\xfanior",second:45,player_id:18395,technique:"Dribble",timestamp:"00:27:45.371",event_type:"carry",end_location:[82.4,7.7],carry_outcome:null,start_location:[83.2,7.9]},{minute:72,player:"Vin\xedcius J\xfanior",second:45,key_pass:!1,player_id:18395,recipient:"Neymar",technique:"Right Foot Ground Pass",timestamp:"00:27:45.626",event_type:"pass",pass_height:"Ground Pass",end_location:[77.6,13.8],pass_outcome:null,recipient_id:4320,start_location:[82.4,7.7]},{minute:72,player:"Neymar",second:46,player_id:4320,technique:"Dribble",timestamp:"00:27:46.939",event_type:"carry",end_location:[86.8,15.9],carry_outcome:null,start_location:[77.6,13.8]},{minute:72,player:"Neymar",second:49,key_pass:!1,player_id:4320,recipient:"Vin\xedcius J\xfanior",technique:"Right Foot Ground Pass",timestamp:"00:27:49.268",event_type:"pass",pass_height:"Ground Pass",end_location:[100.4,10.7],pass_outcome:null,recipient_id:18395,start_location:[86.8,15.9]},{minute:72,player:"Vin\xedcius J\xfanior",second:50,player_id:18395,technique:"Dribble",timestamp:"00:27:50.618",event_type:"carry",end_location:[109.4,24.8],carry_outcome:null,start_location:[100.4,10.7]},{minute:72,player:"Vin\xedcius J\xfanior",second:52,key_pass:!0,player_id:18395,recipient:"Richarlison",technique:"Right Foot Low Pass",timestamp:"00:27:52.908",event_type:"pass",pass_height:"Low Pass",end_location:[108.6,42.5],pass_outcome:null,recipient_id:3280,start_location:[109.4,24.8]},{minute:72,player:"Richarlison",second:53,player_id:3280,technique:"Dribble",timestamp:"00:27:53.957",event_type:"carry",end_location:[107.1,39.6],carry_outcome:null,start_location:[108.6,42.5]},{xg:.07569885,minute:72,player:"Richarlison",second:54,player_id:3280,technique:"Right Foot Volley",timestamp:"00:27:54.741",event_type:"shot",end_location:[120,37],shot_outcome:"Goal",shot_technique:"Volley",start_location:[107.1,39.6]}],created_at:"2024-12-24 04:50:43.394999+00",updated_at:"2024-12-24 04:50:43.394999+00",shot_technique:"Right Foot Volley"};ngAfterViewInit(){this.initializePitch()}ngOnDestroy(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId)}onHeaderCollapseChanged(t){this.isCollapsed=t}initializePitch(){const t=this.svgElement.nativeElement;for(;t.firstChild;)t.removeChild(t.firstChild);this.svg=oc(t).attr("width","100%").attr("height","100%").attr("viewBox","0 0 1000 700").attr("preserveAspectRatio","xMidYMid slice")}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rs({type:n,selectors:[["home-screen"]],viewQuery:function(r,i){if(1&r&&ju(xle,5),2&r){let s;Gc(s=zc())&&(i.svgElement=s.first)}},decls:62,vars:4,consts:[[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-auto"],[3,"collapseChanged"],[1,"col","main-content","d-flex","flex-column",3,"ngClass"],[1,"bb-page-header"],[1,"bb-content-wrapper","flex-grow-1","d-flex","flex-column"],[1,"bb-page-subheader"],[1,"row","mt-4"],[1,"col-md-6"],[1,"bb-text-berkeley-mono"],[1,"definition-block","mt-3"],[1,"definition-content"],[1,"bb-text-berkeley-mono","bb-text-bold","text-italic"],[1,"bb-text-berkeley-mono","mt-3"],[1,"bb-text-berkeley-mono","bb-text-bold"],[1,"bb-list","bb-text-berkeley-mono","mt-3"],[1,"text-italic"],[1,"mt-4"],[1,"container-fluid","py-3","pitch-container-wrapper"],[3,"goal"],[1,"mt-auto"]],template:function(r,i){1&r&&(it(0,"div",0)(1,"div",1)(2,"div",2)(3,"BRADYBALL-header",3),Bi("collapseChanged",function(o){return i.onHeaderCollapseChanged(o)}),tt()(),it(4,"div",4)(5,"div",5)(6,"h1"),_t(7,"BRADYBALL Home"),tt()(),it(8,"div",6)(9,"div",7)(10,"h2"),_t(11,"Welcome to BRADYBALL"),tt()(),it(12,"div",8)(13,"div",9)(14,"div",10),_t(15," An engineer's precision, an artist's creativity, and an athlete's intuition- "),tt(),it(16,"div",11)(17,"div",12)(18,"span",13),_t(19,"BRADYBALL"),tt(),it(20,"span",10),_t(21," \u2014 An innovative approach to understanding soccer that combines cutting-edge machine learning, intricate tactical analysis, and a deep appreciation for the sport's artistic flair, yielding unparalleled insights into player performance, match dynamics, and team strategies"),tt()()(),it(22,"div",14),_t(23," Simply put, we harnass the mathematical precision and tactical artistry to decode the game's beautiful complexities. "),tt()(),it(24,"div",9)(25,"div",15),_t(26,"Our Philosophy"),tt(),it(27,"ul",16)(28,"li"),_t(29,"Analyze data within the context of game dynamics."),tt(),it(30,"li"),_t(31,"Include multiple viewpoints in decision-making to challenge initial assumptions."),tt(),it(32,"li"),_t(33,"Question opinions, but appreciate feedback from others."),tt(),it(34,"li"),_t(35,"Performance is quantifiable."),tt(),it(36,"li"),_t(37,"Every detail matters."),tt(),it(38,"li"),_t(39,"Evaluate decisions based on the process and logic, not just the result."),tt(),it(40,"li"),_t(41,"Accept responsibility for failures and learn from them."),tt(),it(42,"li"),_t(43,"Self-belief is immensely powerful."),tt(),it(44,"li"),_t(45,"Momentum compounds; compounding momentum."),tt(),it(46,"li"),_t(47,"Enable the dreams of others."),tt(),it(48,"li"),_t(49,"Search for and find the "),it(50,"span",17),_t(51,'"Headfake."'),tt()(),it(52,"li"),_t(53,"Extreme people get extreme results."),tt()()()(),it(54,"div",18)(55,"div",7)(56,"h2"),_t(57,"Goal Simulator"),tt()(),it(58,"div",19),Si(59,"pitch",20),tt()()(),it(60,"div",21),Si(61,"BRADYBALL-footer"),tt()()()()),2&r&&(_n(4),Wr("ngClass",Yf(2,Cle,i.isCollapsed)),_n(55),Wr("goal",i.exampleGoal))},dependencies:[Bg,CD,ED,ble],styles:[".gradient-container[_ngcontent-%COMP%]{position:relative;width:100%;height:calc(100vh - 3rem);overflow:hidden}.gradient-svg[_ngcontent-%COMP%]{width:100%;height:100%}.text-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;text-align:center}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:4rem;color:#fff;margin-bottom:1rem;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Georgia,serif;font-size:1.5rem;color:#4ac6ff;text-shadow:1px 1px 2px rgba(0,0,0,.3)}@keyframes _ngcontent-%COMP%_gradientFlow{0%{r:50%}50%{r:30%}to{r:50%}}.gradient-stop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_gradientFlow 4s ease-in-out infinite}.gradient-background[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_gradientPulse 4s ease-in-out infinite}@keyframes _ngcontent-%COMP%_gradientPulse{0%,to{opacity:.85}50%{opacity:.95}}"]})}return n})();class Ele{player;league;team;position;age;born;playerStats}class $D{player;season;dataPoints;league;team;nation;age;born;position;minutes_90s;constructor(e,t,r,i,s,o,a,l,c,u){this.player=e,this.season=t,this.dataPoints=r,this.league=i,this.team=s,this.nation=o,this.age=a,this.born=l,this.position=c,this.minutes_90s=u}static createDefault(){return new $D("","",[],"","","",0,0,"",0)}}var KD;!function(n){n.createDefault=function e(){return{player:"",title:"RECENT CAREER PERFORMANCE",rows:[]}}}(KD||(KD={}));Math;function sw(n){return{type:n}}["w","e"].map(sw),["n","s"].map(sw),["n","w","e","s","nw","ne","sw","se"].map(sw);const Rle=Math.sqrt(50),Lle=Math.sqrt(10),Ule=Math.sqrt(2);function OC(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Rle?10:s>=Lle?5:s>=Ule?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(n*c),l=Math.round(e*c),a/c<n&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(n/c),l=Math.round(e/c),a*c<n&&++a,l*c>e&&--l),l<a&&.5<=t&&t<2?OC(n,e,2*t):[a,l,c]}function JD(n,e,t){return OC(n=+n,e=+e,t=+t)[2]}function kC(n,e){return null==n||null==e?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Ole(n,e){return null==n||null==e?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function f8(n){let e,t,r;function i(a,l,c=0,u=a.length){if(c<u){if(0!==e(l,l))return u;do{const A=c+u>>>1;t(a[A],l)<0?c=A+1:u=A}while(c<u)}return c}return 2!==n.length?(e=kC,t=(a,l)=>kC(n(a),l),r=(a,l)=>n(a)-l):(e=n===kC||n===Ole?n:kle,t=n,r=n),{left:i,center:function o(a,l,c=0,u=a.length){const A=i(a,l,c,u-1);return A>c&&r(a[A-1],l)>-r(a[A],l)?A-1:A},right:function s(a,l,c=0,u=a.length){if(c<u){if(0!==e(l,l))return u;do{const A=c+u>>>1;t(a[A],l)<=0?c=A+1:u=A}while(c<u)}return c}}}function kle(){return 0}const Qle=f8(kC).right,Vle=(f8(function Hle(n){return null===n?NaN:+n}),Qle);function p8(n,e){var o,t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t);for(o=0;o<r;++o)i[o]=eF(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Gle(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function zle(n,e){var i,t={},r={};for(i in(null===n||"object"!=typeof n)&&(n={}),(null===e||"object"!=typeof e)&&(e={}),e)i in n?t[i]=eF(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}function jle(n,e){e||(e=[]);var i,t=n?Math.min(e.length,n.length):0,r=e.slice();return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function eF(n,e){var r,t=typeof e;return null==e||"boolean"===t?kD(e):("number"===t?lc:"string"===t?(r=ud(e))?(e=r,IC):t8:e instanceof ud?IC:e instanceof Date?Gle:function Wle(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(e)?jle:Array.isArray(e)?p8:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?zle:lc)(n,e)}function $le(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function qle(n){return+n}var g8=[0,1];function um(n){return n}function tF(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:function Kle(n){return function(){return n}}(isNaN(e)?NaN:.5)}function Yle(n,e,t){var r=n[0],i=n[1],s=e[0],o=e[1];return i<r?(r=tF(i,r),s=t(o,s)):(r=tF(r,i),s=t(s,o)),function(a){return s(r(a))}}function Zle(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=tF(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(a){var l=Vle(n,a,1,r)-1;return s[l](i[l](a))}}function nce(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n)}return this}var m8,rce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function HC(n){if(!(e=rce.exec(n)))throw new Error("invalid format: "+n);var e;return new nF({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function nF(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function QC(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function Am(n){return(n=QC(Math.abs(n)))?n[1]:NaN}function v8(n,e){var t=QC(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}HC.prototype=nF.prototype,nF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const y8={"%":(n,e)=>(100*n).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function ice(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>v8(100*n,e),r:v8,s:function cce(n,e){var t=QC(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(m8=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+QC(n,Math.max(0,e+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function w8(n){return n}var VC,x8,C8,_8=Array.prototype.map,b8=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function pce(n){var e=n.domain;return n.ticks=function(t){var r=e();return function Ple(n,e,t){if(!((t=+t)>0))return[];if((n=+n)==(e=+e))return[n];const r=e<n,[i,s,o]=r?OC(e,n,t):OC(n,e,t);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return function dce(n,e,t,r){var s,i=function Nle(n,e,t){t=+t;const r=(e=+e)<(n=+n),i=r?JD(e,n,t):JD(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}(n,e,t);switch((r=HC(r??",f")).type){case"s":var o=Math.max(Math.abs(n),Math.abs(e));return null==r.precision&&!isNaN(s=function sce(n,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Am(e)/3)))-Am(Math.abs(n)))}(i,o))&&(r.precision=s),C8(r,o);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(s=function hce(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Am(e)-Am(n))+1}(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(s=function fce(n){return Math.max(0,-Am(Math.abs(n)))}(i))&&(r.precision=s-2*("%"===r.type))}return x8(r)}(i[0],i[i.length-1],t??10,r)},n.nice=function(t){null==t&&(t=10);var l,c,r=e(),i=0,s=r.length-1,o=r[i],a=r[s],u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if((c=JD(o,a,t))===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else{if(!(c<0))break;o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c}l=c}return n},n}function GC(){var n=function tce(){return function ece(){var r,i,s,a,l,c,n=g8,e=g8,t=eF,o=um;function u(){var f=Math.min(n.length,e.length);return o!==um&&(o=function Xle(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}(n[0],n[f-1])),a=f>2?Zle:Yle,l=c=null,A}function A(f){return null==f||isNaN(f=+f)?s:(l||(l=a(n.map(r),e,t)))(r(o(f)))}return A.invert=function(f){return o(i((c||(c=a(e,n.map(r),lc)))(f)))},A.domain=function(f){return arguments.length?(n=Array.from(f,qle),u()):n.slice()},A.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},A.rangeRound=function(f){return e=Array.from(f),t=$le,u()},A.clamp=function(f){return arguments.length?(o=!!f||um,u()):o!==um},A.interpolate=function(f){return arguments.length?(t=f,u()):t},A.unknown=function(f){return arguments.length?(s=f,A):s},function(f,h){return r=f,i=h,u()}}()(um,um)}();return n.copy=function(){return function Jle(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}(n,GC())},nce.apply(n,arguments),pce(n)}function E8(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function S8(n){this._context=n}function rF(n){return new S8(n)}function B8(n){return n[0]}function M8(n){return n[1]}function iF(n,e){var t=si(!0),r=null,i=rF,s=null,o=jD(a);function a(l){var c,A,h,u=(l=E8(l)).length,f=!1;for(null==r&&(s=i(h=o())),c=0;c<=u;++c)!(c<u&&t(A=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+n(A,c,l),+e(A,c,l));if(h)return s=null,h+""||null}return n="function"==typeof n?n:void 0===n?B8:si(n),e="function"==typeof e?e:void 0===e?M8:si(e),a.x=function(l){return arguments.length?(n="function"==typeof l?l:si(+l),a):n},a.y=function(l){return arguments.length?(e="function"==typeof l?l:si(+l),a):e},a.defined=function(l){return arguments.length?(t="function"==typeof l?l:si(!!l),a):t},a.curve=function(l){return arguments.length?(i=l,null!=r&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(null==l?r=s=null:s=i(r=l),a):r},a}!function Ace(n){VC=function uce(n){var e=void 0===n.grouping||void 0===n.thousands?w8:function oce(n,e){return function(t,r){for(var i=t.length,s=[],o=0,a=n[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=n[o=(o+1)%n.length];return s.reverse().join(e)}}(_8.call(n.grouping,Number),n.thousands+""),t=void 0===n.currency?"":n.currency[0]+"",r=void 0===n.currency?"":n.currency[1]+"",i=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?w8:function ace(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}(_8.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(A){var f=(A=HC(A)).fill,h=A.align,g=A.sign,w=A.symbol,v=A.zero,p=A.width,C=A.comma,E=A.precision,B=A.trim,U=A.type;"n"===U?(C=!0,U="g"):y8[U]||(void 0===E&&(E=12),B=!0,U="g"),(v||"0"===f&&"="===h)&&(v=!0,f="0",h="=");var k="$"===w?t:"#"===w&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",H="$"===w?r:/[%p]/.test(U)?o:"",P=y8[U],L=/[defgprs%]/.test(U);function D(I){var R,J,W,O=k,V=H;if("c"===U)V=P(I)+V,I="";else{var ae=(I=+I)<0||1/I<0;if(I=isNaN(I)?l:P(Math.abs(I),E),B&&(I=function lce(n){e:for(var i,e=n.length,t=1,r=-1;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":0===r&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0)}return r>0?n.slice(0,r)+n.slice(i+1):n}(I)),ae&&0==+I&&"+"!==g&&(ae=!1),O=(ae?"("===g?g:a:"-"===g||"("===g?"":g)+O,V=("s"===U?b8[8+m8/3]:"")+V+(ae&&"("===g?")":""),L)for(R=-1,J=I.length;++R<J;)if(48>(W=I.charCodeAt(R))||W>57){V=(46===W?i+I.slice(R+1):I.slice(R))+V,I=I.slice(0,R);break}}C&&!v&&(I=e(I,1/0));var Z=O.length+I.length+V.length,Ae=Z<p?new Array(p-Z+1).join(f):"";switch(C&&v&&(I=e(Ae+I,Ae.length?p-V.length:1/0),Ae=""),h){case"<":I=O+I+V+Ae;break;case"=":I=O+Ae+I+V;break;case"^":I=Ae.slice(0,Z=Ae.length>>1)+O+I+V+Ae.slice(Z);break;default:I=Ae+O+I+V}return s(I)}return E=void 0===E?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E)),D.toString=function(){return A+""},D}return{format:c,formatPrefix:function u(A,f){var h=c(((A=HC(A)).type="f",A)),g=3*Math.max(-8,Math.min(8,Math.floor(Am(f)/3))),w=Math.pow(10,-g),v=b8[8+g/3];return function(p){return h(w*p)+v}}}}(n),x8=VC.format,C8=VC.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]}),S8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e)}}};var gce=sF(rF);function T8(n){this._curve=n}function sF(n){function e(t){return new T8(n(t))}return e._curve=n,e}function ow(n){var e=n.curve;return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n.curve=function(t){return arguments.length?e(sF(t)):e()._curve},n}function I8(n,e){return[(e=+e)*Math.cos(n-=Math.PI/2),e*Math.sin(n)]}function zC(){}function oF(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function D8(n){this._context=n}function yce(n){return new D8(n)}function F8(n){this._context=n}function wce(n){return new F8(n)}function R8(n){this._context=n}function _ce(n){return new R8(n)}function hm(n,e,t){this.k=n,this.x=e,this.y=t}function U8(...n){const e=$0(n),{args:t,keys:r}=nH(n),i=new yi(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let A=!1;_i(t[u]).subscribe(wi(s,f=>{A||(A=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!A)&&(c||s.next(r?iH(r,a):a),s.complete())}))}});return e?i.pipe(rH(e)):i}T8.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(n,e){this._curve.point(e*Math.sin(n),e*-Math.cos(n))}},D8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oF(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oF(this,n,e)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}},F8.prototype={areaStart:zC,areaEnd:zC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:oF(this,n,e)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}},R8.prototype={areaStart:zC,areaEnd:zC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}},hm.prototype={constructor:hm,scale:function(n){return 1===n?this:new hm(this.k*n,this.x,this.y)},translate:function(n,e){return 0===n&0===e?this:new hm(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new hm(1,0,0);let tu=(()=>{class n{http;loadedFonts={};constructor(t){this.http=t}loadFonts(t){return U8(t.map(i=>this.loadedFonts[i]?nn(this.loadedFonts[i]):this.getFont(i).pipe(Ws(s=>this.loadedFonts[i]=s)))).pipe(ar(i=>{const s={};return t.forEach((o,a)=>{s[o]=i[a]}),s}),Ah(i=>(console.error("Error loading fonts:",i),nn({}))))}getFont(t){return this.http.get(`/assets/fonts/${t}`,{responseType:"arraybuffer"}).pipe(ar(r=>this.arrayBufferToBase64(r)))}arrayBufferToBase64(t){let r="";const i=new Uint8Array(t);for(let s=0;s<i.byteLength;s++)r+=String.fromCharCode(i[s]);return window.btoa(r)}embedFontsInSVG(t,r){const s=(new DOMParser).parseFromString(t,"image/svg+xml"),o=s.documentElement,a=s.createElementNS("http://www.w3.org/2000/svg","style");a.setAttribute("type","text/css");let l=Object.entries(r).map(([c,u])=>`\n            @font-face {\n                font-family: '${this.getFontFamilyFromFilename(c)}';\n                font-weight: ${this.getFontWeightFromFilename(c)};\n                font-style: ${this.getFontStyleFromFilename(c)};\n                src: url(data:application/font-woff2;charset=utf-8;base64,${u}) format('woff2');\n            }\n            `).join("\n");return l+="\n            :root {\n                --bb-black-color: #000000;\n                --bb-white-color: #ffffff;\n                --bb-cream-off-white-color: #f8f5e3;\n                --bb-cream-color: #ded2a2;\n                --bb-red-card-color: #ad563b;\n            }\n            .bb-text-bold { font-weight: 700; }\n            .bb-text-semibold { font-weight: 600; }\n            .bb-text-medium { font-weight: 500; }\n            .bb-text-extra-bold { font-weight: 800; }\n            .bb-text-black { font-weight: 900; }\n            .bb-text-pinegrove { font-family: 'Pinegrove', sans-serif; }\n            .bb-text-special-elite { font-family: 'Special Elite', sans-serif; }\n            .bb-text-league-spartan { font-family: 'League Spartan', sans-serif; }\n            .bb-text-eb-garamond { font-family: 'EB Garamond', serif; }\n            .bb-text-merriweather { font-family: 'Merriweather', serif; }\n            .bb-text-courier-prime { font-family: 'Courier Prime', monospace; }\n            .bb-text-berkeley-mono { font-family: 'Berkeley Mono', monospace; }\n            .bb-text-squada-one { font-family: 'Squada One', monospace; }\n        ",a.textContent=l,o.insertBefore(a,o.firstChild),this.ensureFontPropertiesOnTextElements(s),(new XMLSerializer).serializeToString(s)}ensureFontPropertiesOnTextElements(t){t.querySelectorAll("text, tspan").forEach(r=>{const i=r,s=window.getComputedStyle(i);i.setAttribute("font-family",s.fontFamily||"inherit");let a=s.fontWeight;i.classList.contains("bb-text-bold")?a="700":i.classList.contains("bb-text-semibold")?a="600":i.classList.contains("bb-text-medium")?a="500":i.classList.contains("bb-text-extra-bold")?a="800":i.classList.contains("bb-text-black")&&(a="900"),i.setAttribute("font-weight",a),i.setAttribute("fill",s.color||"#000000"),i.setAttribute("text-rendering","optimizeLegibility")})}getFontFamilyFromFilename(t){return t.includes("courier-prime")?"Courier Prime":t.includes("eb-garamond")?"EB Garamond":t.includes("merriweather")?"Merriweather":t.includes("pinegrove")?"Pinegrove":t.includes("special-elite")?"Special Elite":t.includes("league-spartan")?"League Spartan":t.includes("squada-one")?"Squada One":t.includes("berkeley-mono")||t.includes("TX-02")?"Berkeley Mono":"sans-serif"}getFontWeightFromFilename(t){return t.includes("bold")?"700":t.includes("semibold")?"600":t.includes("medium")?"500":t.includes("extra-bold")?"800":t.includes("black")?"900":"400"}getFontStyleFromFilename(t){return t.includes("italic")?"italic":"normal"}static \u0275fac=function(r){return new(r||n)(Tt(CI))};static \u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aw=(()=>{class n{fontService;constructor(t){this.fontService=t}getCssVariableValue(t){return getComputedStyle(document.documentElement).getPropertyValue(t).trim()}embedFontsInSVG(t,r){const s=(new DOMParser).parseFromString(t,"image/svg+xml"),o=s.documentElement,a=s.createElementNS("http://www.w3.org/2000/svg","style");a.setAttribute("type","text/css");let l=Object.entries(r).map(([c,u])=>`\n            @font-face {\n              font-family: '${this.getFontFamilyFromFilename(c)}';\n              font-weight: ${this.getFontWeightFromFilename(c)};\n              font-style: ${this.getFontStyleFromFilename(c)};\n              src: url(data:application/font-woff2;charset=utf-8;base64,${u}) format('woff2');\n            }\n          `).join("\n");return l+="\n            .bb-text-bold { font-weight: 700; }\n            .bb-text-semibold { font-weight: 600; }\n            .bb-text-medium { font-weight: 500; }\n            .bb-text-extra-bold { font-weight: 800; }\n            .bb-text-black { font-weight: 900; }\n            .bb-text-pinegrove { font-family: 'Pinegrove', sans-serif; }\n            .bb-text-special-elite { font-family: 'Special Elite', sans-serif; }\n            .bb-text-league-spartan { font-family: 'League Spartan', sans-serif; }\n            .bb-text-EB-garamond { font-family: 'EB Garamond', serif; }\n            .bb-text-merriweather { font-family: 'Merriweather', serif; }\n            .bb-text-courier-prime { font-family: 'Courier Prime', monospace; }\n        ",a.textContent=l,o.insertBefore(a,o.firstChild),this.ensureFontPropertiesOnTextElements(s),(new XMLSerializer).serializeToString(s)}ensureFontPropertiesOnTextElements(t){t.querySelectorAll("text, tspan").forEach(r=>{const i=r,s=window.getComputedStyle(i);i.setAttribute("font-family",s.fontFamily||"inherit");let a=s.fontWeight;i.classList.contains("bb-text-bold")?a="700":i.classList.contains("bb-text-semibold")?a="600":i.classList.contains("bb-text-medium")?a="500":i.classList.contains("bb-text-extra-bold")?a="800":i.classList.contains("bb-text-black")&&(a="900"),i.setAttribute("font-weight",a),i.setAttribute("fill",s.color||"#000000"),i.setAttribute("text-rendering","optimizeLegibility")})}getFontFamilyFromFilename(t){return t.split("-").slice(0,-1).map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}getFontWeightFromFilename(t){return t.includes("bold")?"700":t.includes("semibold")?"600":t.includes("medium")?"500":t.includes("light")?"300":"400"}getFontStyleFromFilename(t){return t.includes("italic")?"italic":"normal"}saveCombinedSVG(t,r,i){const s=this.combineSVGElements(t),o=this.embedFontsInSVG(s,i);this.saveSVGToFile(o,r)}combineSVGElements(t){const r=document.createElementNS("http://www.w3.org/2000/svg","svg");let i=1/0,s=1/0,o=-1/0,a=-1/0;t.forEach(u=>{const A=u.cloneNode(!0);if(this.isElementWithBBox(u)){const f=u.getBBox();i=Math.min(i,f.x),s=Math.min(s,f.y),o=Math.max(o,f.x+f.width),a=Math.max(a,f.y+f.height)}else{const f=u.getBoundingClientRect();i=Math.min(i,f.left),s=Math.min(s,f.top),o=Math.max(o,f.right),a=Math.max(a,f.bottom)}r.appendChild(A)});const l=o-i,c=a-s;return r.setAttribute("viewBox",`${i} ${s} ${l} ${c}`),r.setAttribute("width",l.toString()),r.setAttribute("height",c.toString()),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),(new XMLSerializer).serializeToString(r)}isElementWithBBox(t){return"getBBox"in t}saveSVGToFile(t,r){const i=this.embedFontsInSVG(t,this.fontService.loadedFonts),s=new Blob([i],{type:"image/svg+xml"}),o=URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)}static \u0275fac=function(r){return new(r||n)(Tt(tu))};static \u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P8=(()=>{class n{elementRef;fontService;BRADYBALLUtil;data;svg;MARGIN={top:100,right:4,bottom:25,left:4};CELL_PADDING=15;ROW_HEIGHT=40;FONT_SIZE=21;HEADER_FONT_SIZE=22;BORDER_RADIUS=20;BORDER_WIDTH=8;TITLE_BACKGROUND_HEIGHT=110;TITLE_LEFT_MARGIN=20;CREAM_COLOR;RED_COLOR;BLACK_COLOR;TABLE_PADDING=10;titleTextColor="";chartBackgroundColor="";chartTextColor="";borderColor="";width=0;height=0;tableReady=!1;fontsLoaded=!1;fonts={};constructor(t,r,i){this.elementRef=t,this.fontService=r,this.BRADYBALLUtil=i,this.CREAM_COLOR=this.BRADYBALLUtil.getCssVariableValue("--bb-cream-color"),this.RED_COLOR=this.BRADYBALLUtil.getCssVariableValue("--bb-red-card-color"),this.BLACK_COLOR=this.BRADYBALLUtil.getCssVariableValue("--bb-black-color"),this.titleTextColor=this.BLACK_COLOR,this.chartBackgroundColor=this.RED_COLOR,this.chartTextColor=this.CREAM_COLOR,this.borderColor=this.BLACK_COLOR}ngOnInit(){this.loadFonts()}loadFonts(){var t=this;return(0,Qe.Z)(function*(){t.fontService.loadFonts(["courier-prime-regular.woff2","courier-prime-bold.woff2","eb-garamond-regular.woff2","eb-garamond-bold.woff2","merriweather-regular.woff2","merriweather-bold.woff2","league-spartan-regular.woff2","league-spartan-bold.woff2"]).subscribe(i=>{t.fonts=i,t.fontsLoaded=!0,t.data&&t.drawTable()},i=>{console.error("Error loading fonts:",i),t.data&&t.drawTable()})})()}ngOnChanges(t){t.data&&this.data&&this.drawTable()}ngAfterViewInit(){this.data&&this.drawTable()}createSvg(){oc(this.elementRef.nativeElement).select("svg").remove();const t=this.calculateLayout();this.width=Math.max(t.totalWidth+this.MARGIN.left+this.MARGIN.right,800),this.height=(this.data.rows.length+1)*this.ROW_HEIGHT+this.MARGIN.top+this.MARGIN.bottom+this.TABLE_PADDING,this.svg=oc(this.elementRef.nativeElement.querySelector(".stat-table")).append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",`0 0 ${this.width} ${this.height}`).attr("preserveAspectRatio","xMinYMid meet").append("g").attr("transform",`translate(${this.MARGIN.left},${this.MARGIN.top})`)}drawTable(){if(!this.data||!this.data.rows||0===this.data.rows.length)return void(this.tableReady=!1);const t=this.calculateLayout();this.createSvg(),this.drawBackgroundAndBorder(),this.drawTitle(),this.drawTableContent(t),this.tableReady=!0}drawBackgroundAndBorder(){const t=this.width,r=this.height,i=this.BORDER_RADIUS,s=this.BORDER_WIDTH,o=-this.MARGIN.left,a=-this.MARGIN.top,l=this.TITLE_BACKGROUND_HEIGHT;this.svg.append("rect").attr("x",o).attr("y",a).attr("width",t).attr("height",r).attr("fill",this.borderColor);const c=`\n            M ${o+s/2},${a+i}\n            Q ${o+s/2},${a+s/2} ${o+i},${a+s/2}\n            H ${o+t-i}\n            Q ${o+t-s/2},${a+s/2} ${o+t-s/2},${a+i}\n            V ${a+r-i}\n            Q ${o+t-s/2},${a+r-s/2} ${o+t-i},${a+r-s/2}\n            H ${o+i}\n            Q ${o+s/2},${a+r-s/2} ${o+s/2},${a+r-i}\n            Z\n        `;this.svg.append("path").attr("d",c).attr("fill",this.CREAM_COLOR);const u=`\n            M ${o+s/2},${a+l+i}\n            Q ${o+s/2},${a+l} ${o+s/2+i},${a+l}\n            H ${o+t-s/2}\n            V ${a+r-i}\n            Q ${o+t-s/2},${a+r-s/2} ${o+t-i},${a+r-s/2}\n            H ${o+i}\n            Q ${o+s/2},${a+r-s/2} ${o+s/2},${a+r-i}\n            Z\n        `;this.svg.append("path").attr("d",u).attr("fill",this.RED_COLOR),this.svg.append("path").attr("d",u).attr("fill","none").attr("stroke",this.borderColor).attr("stroke-width",3);const A=`\n            M ${o+s/2},${a+i}\n            Q ${o+s/2},${a+s/2} ${o+i},${a+s/2}\n            H ${o+t-i}\n            Q ${o+t-s/2},${a+s/2} ${o+t-s/2},${a+i}\n            V ${a+r-i}\n            Q ${o+t-s/2},${a+r-s/2} ${o+t-i},${a+r-s/2}\n            H ${o+i}\n            Q ${o+s/2},${a+r-s/2} ${o+s/2},${a+r-i}\n            Z\n        `;this.svg.append("path").attr("d",A).attr("fill","none").attr("stroke",this.borderColor).attr("stroke-width",s)}calculateLayout(){const r=["Season",...this.data.rows[0].dataPoints.map(s=>s.label)].map((s,o)=>{let a=this.getTextWidth(s,`${this.HEADER_FONT_SIZE}px League Spartan`);return this.data.rows.forEach(l=>{let c=0===o?l.season:l.dataPoints[o-1].value.toString();const u=this.getTextWidth(c,`${this.FONT_SIZE}px League Spartan`);a=Math.max(a,u)}),a+2.5*this.CELL_PADDING}),i=r.reduce((s,o)=>s+o,0);return{columnWidths:r,totalWidth:i}}getTextWidth(t,r){const s=document.createElement("canvas").getContext("2d");return s?(s.font=r,s.measureText(t).width):0}drawBackground(t){const r=this.width,i=this.height,s=2*this.BORDER_RADIUS,o=this.svg.append("g");o.append("rect").attr("x",-this.MARGIN.left).attr("y",-this.MARGIN.top).attr("width",r).attr("height",i).attr("fill",this.CREAM_COLOR);const a=`\n            M ${-this.MARGIN.left},${-this.MARGIN.top+this.TITLE_BACKGROUND_HEIGHT+s}\n            q 0,${-s} ${s},${-s}\n            h ${r-s-this.MARGIN.left}\n            v ${i-this.TITLE_BACKGROUND_HEIGHT-this.BORDER_RADIUS}\n            a ${this.BORDER_RADIUS},${this.BORDER_RADIUS} 0 0 1 ${-this.BORDER_RADIUS},${this.BORDER_RADIUS}\n            h ${-(r-2*this.BORDER_RADIUS)}\n            a ${this.BORDER_RADIUS},${this.BORDER_RADIUS} 0 0 1 ${-this.BORDER_RADIUS},${-this.BORDER_RADIUS}\n            v ${-(i-this.TITLE_BACKGROUND_HEIGHT-s)}\n            z\n        `;o.append("path").attr("d",a).attr("fill",this.chartBackgroundColor),o.append("path").attr("d",a).attr("fill","none").attr("stroke",this.borderColor).attr("stroke-width",3)}drawTitle(){if(this.data.title){const t=this.data.title.toUpperCase(),r=t.charAt(0),i=t.slice(1),s=58,o=.45*s,a=-this.MARGIN.top+this.BORDER_WIDTH+70,l=1,c=this.svg.append("g").attr("transform",`translate(${this.BORDER_WIDTH/2}, 0)`);c.append("text").attr("x",this.TITLE_LEFT_MARGIN).attr("y",a).attr("text-anchor","start").attr("class","bb-text-eb-garamond bb-text-bold bb-black-color").attr("font-family","EB Garamond, serif").attr("font-weight","bold").attr("font-size",`${s}px`).attr("fill",this.titleTextColor).text(r);const u=c.append("text").attr("font-family","Times New Roman, serif").attr("font-size",`${o}px`).attr("letter-spacing",`${l}px`).text(i),A=u.node().getComputedTextLength();u.remove();const f=A+.8*s;c.append("line").attr("x1",this.TITLE_LEFT_MARGIN+.85*s).attr("y1",a-1.5).attr("x2",this.TITLE_LEFT_MARGIN+f+7).attr("y2",a-1.5).attr("class","bb-black-color").attr("stroke",this.titleTextColor).attr("stroke-width",3.5),c.append("text").attr("x",this.TITLE_LEFT_MARGIN+.7*s).attr("y",a-.25*s).attr("text-anchor","start").attr("class","bb-text-merriweather bb-text-bold bb-black-color").attr("font-size",`${o}px`).attr("letter-spacing",`${l}px`).attr("fill",this.titleTextColor).text(i);const h=8,g=13,w=2;c.append("path").attr("d",`M${this.TITLE_LEFT_MARGIN+f+g},${a-h/2-w} \n                            L${this.TITLE_LEFT_MARGIN+f+g+h/2},${a-w} \n                            L${this.TITLE_LEFT_MARGIN+f+g},${a+h/2-w} \n                            L${this.TITLE_LEFT_MARGIN+f+g-h/2},${a-w} Z`).attr("class","bb-black-color").attr("fill",this.titleTextColor)}}drawGridLines(t,r){for(let o=0;o<this.data.rows.length-1;o++)this.svg.append("rect").attr("x",this.BORDER_WIDTH).attr("y",(o+1)*this.ROW_HEIGHT+r).attr("width",t.totalWidth-2*this.BORDER_WIDTH).attr("height",this.ROW_HEIGHT).attr("fill",this.BLACK_COLOR).attr("fill-opacity","0.05");for(let o=1;o<=this.data.rows.length;o++)this.svg.append("line").attr("x1",this.BORDER_WIDTH).attr("y1",o*this.ROW_HEIGHT+r).attr("x2",t.totalWidth-this.BORDER_WIDTH).attr("y2",o*this.ROW_HEIGHT+r).attr("stroke","black").attr("stroke-width",o===this.data.rows.length||1===o?2:1).attr("stroke-opacity",1);let i=0;t.columnWidths.map(o=>(i+=o,i)).forEach((o,a)=>{1===a||0===a||2===a?this.svg.append("line").attr("x1",o).attr("y1",r).attr("x2",o).attr("y2",this.data.rows.length*this.ROW_HEIGHT+r).attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",.3):this.svg.append("line").attr("x1",o).attr("y1",r).attr("x2",o).attr("y2",(this.data.rows.length+1)*this.ROW_HEIGHT+r).attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",.3)})}drawTableContent(t){const r=["Season",...this.data.rows[0].dataPoints.map(s=>s.label)],i=this.TITLE_BACKGROUND_HEIGHT-this.MARGIN.top+this.TABLE_PADDING;this.drawRow(r,0,t.columnWidths,!0,i),this.data.rows.forEach((s,o)=>{const a=[s.season,...s.dataPoints.map(l=>l.value.toString())];this.drawRow(a,o+1,t.columnWidths,!1,i,"career"===s.season.toLowerCase())}),this.drawGridLines(t,i)}drawRow(t,r,i,s,o,a=!1){let l=0;t.forEach((c,u)=>{this.drawCell(c,l,i[u],(r+.65)*this.ROW_HEIGHT+o,s,a),l+=i[u]})}drawCell(t,r,i,s,o=!1,a=!1){const l=o||a?this.HEADER_FONT_SIZE:this.FONT_SIZE,c=o||a?"700":"500",u=this.svg.append("g").attr("transform",`translate(${r+i/2}, ${s})`);u.append("text").attr("text-anchor","middle").attr("dominant-baseline","auto").attr("class","bb-text-league-spartan bb-text-bold").attr("font-weight","bold").attr("font-family","League Spartan").attr("font-size",`${l}px`).attr("font-weight",c).attr("stroke","black").attr("stroke-width","1.25px").attr("fill","none").attr("text-rendering","geometricPrecision").text(t),u.append("text").attr("text-anchor","middle").attr("dominant-baseline","auto").attr("class","bb-text-league-spartan bb-text-bold").attr("font-weight","bold").attr("font-family","League Spartan").attr("font-size",`${l}px`).attr("font-weight",c).attr("fill","rgba(0,0,0,0.3)").attr("transform","translate(1,1)").text(t),u.append("text").attr("text-anchor","middle").attr("dominant-baseline","auto").attr("class","bb-text-league-spartan bb-text-bold").attr("font-weight","bold").attr("font-family","League Spartan").attr("font-size",`${l}px`).attr("font-weight",c).attr("fill",this.chartTextColor).style("fill",this.chartTextColor).attr("text-rendering","geometricPrecision").text(t)}saveSVG(){const t=this.elementRef.nativeElement.querySelector("svg");if(!t)return void console.error("SVG element not found");const r=t.cloneNode(!0);r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const s=4*this.width,o=4*this.height;r.setAttribute("width",`${s}`),r.setAttribute("height",`${o}`),r.setAttribute("viewBox",`0 0 ${this.width} ${this.height}`),r.querySelectorAll("rect").forEach(u=>{("100%"===u.getAttribute("width")||u.getAttribute("width")===`${s}`)&&u.remove()});const a=document.createElementNS("http://www.w3.org/2000/svg","style");a.textContent="\n            text {\n                text-rendering: geometricPrecision;\n                shape-rendering: geometricPrecision;\n            }\n        ",r.insertBefore(a,r.firstChild);let c=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n    <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n    ${(new XMLSerializer).serializeToString(r)}`;c=this.fontService.embedFontsInSVG(c,this.fonts),this.BRADYBALLUtil.saveSVGToFile(c,"stat_line.svg")}static \u0275fac=function(r){return new(r||n)(ft(ao),ft(tu),ft(aw))};static \u0275cmp=rs({type:n,selectors:[["stat-line"]],inputs:{data:"data"},features:[ks],decls:3,vars:0,consts:[[1,"chart-container"],[1,"stat-table"],["chartContainer",""]],template:function(r,i){1&r&&(it(0,"div",0),Si(1,"div",1,2),tt())}})}return n})(),N8=(()=>{class n{elementRef;fontService;BRADYBALLUtil;data;svg;chartGroup;margin=100;width=800;height=800;radius=Math.min(this.width,this.height)/2-this.margin;chartReady=!1;fontsLoaded=!1;featureScales={};angleStep=0;fonts={};CREAM_COLOR;constructor(t,r,i){this.elementRef=t,this.fontService=r,this.BRADYBALLUtil=i,this.CREAM_COLOR=this.BRADYBALLUtil.getCssVariableValue("--bb-cream-color")}ngOnInit(){this.loadFonts(),this.data&&(this.createSvg(),this.drawChart())}ngOnChanges(t){t.data&&this.data&&(this.createSvg(),this.drawChart())}ngAfterViewInit(){this.data&&(this.createSvg(),this.drawChart())}loadFonts(){this.fontService.loadFonts(["pinegrove.woff2","courier-prime-regular.woff2","courier-prime-bold.woff2","league-spartan-regular.woff2","league-spartan-bold.woff2"]).subscribe(r=>{this.fonts=r,this.fontsLoaded=!0,this.data&&(this.createSvg(),this.drawChart())},r=>{console.error("Error loading fonts:",r),this.data&&(this.createSvg(),this.drawChart())})}createSvg(){oc(this.elementRef.nativeElement).select("svg").remove(),this.svg=oc(this.elementRef.nativeElement.querySelector(".radar-chart")).append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",`0 0 ${this.width} ${this.height}`).attr("preserveAspectRatio","xMidYMid meet"),this.chartGroup=this.svg.append("g").attr("transform",`translate(${this.width/2}, ${this.height/2})`)}saveSVG(){const t=this.elementRef.nativeElement.querySelector("svg");if(!t)return void console.error("SVG element not found");const r=t.cloneNode(!0),o=4*this.height;r.setAttribute("width",""+4*this.width),r.setAttribute("height",`${o}`),r.setAttribute("viewBox",`0 0 ${this.width} ${this.height}`),r.style.backgroundColor="transparent",r.setAttribute("background-color","transparent"),r.querySelectorAll("rect").forEach(f=>{f.getAttribute("width")===`${this.width}`&&f.getAttribute("height")===`${this.height}`&&"none"===f.getAttribute("fill")&&f.remove()});const a=document.createElementNS("http://www.w3.org/2000/svg","defs");a.innerHTML=this.getFontDefinitions(),r.insertBefore(a,r.firstChild),r.querySelectorAll("text").forEach(f=>{this.applyInlineStyles(f)});let c=(new XMLSerializer).serializeToString(r);const u=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),A=document.createElement("a");A.href=URL.createObjectURL(u),A.download="radar_chart.svg",document.body.appendChild(A),A.click(),document.body.removeChild(A)}getFontDefinitions(){return`\n            <style>\n                @font-face {\n                    font-family: 'Pinegrove';\n                    src: url(data:application/font-woff2;charset=utf-8;base64,${this.fonts["pinegrove.woff2"]}) format('woff2');\n                    font-weight: 400 700;\n                    font-style: normal;\n                }\n                @font-face {\n                    font-family: 'Courier Prime';\n                    src: url(data:application/font-woff2;charset=utf-8;base64,${this.fonts["courier-prime-regular.woff2"]}) format('woff2');\n                    font-weight: normal;\n                    font-style: normal;\n                }\n                @font-face {\n                    font-family: 'Courier Prime';\n                    src: url(data:application/font-woff2;charset=utf-8;base64,${this.fonts["courier-prime-bold.woff2"]}) format('woff2');\n                    font-weight: bold;\n                    font-style: normal;\n                }\n                @font-face {\n                    font-family: 'League Spartan';\n                    src: url(data:application/font-woff2;charset=utf-8;base64,${this.fonts["league-spartan-regular.woff2"]}) format('woff2');\n                    font-weight: normal;\n                    font-style: normal;\n                }\n                @font-face {\n                    font-family: 'League Spartan';\n                    src: url(data:application/font-woff2;charset=utf-8;base64,${this.fonts["league-spartan-bold.woff2"]}) format('woff2');\n                    font-weight: bold;\n                    font-style: normal;\n                }\n                :root {\n                    --bb-black-color: #000000;\n                    --bb-white-color: #ffffff;\n                    --bb-brown-gold-color: #b07c29;\n                    --bb-red-color: #972828;\n                    --bb-red-card-color: #ad563b;\n                    --bb-dark-red-burgundy-color: #681e1e;\n                    --bb-orange-color: #ff5b00;\n                    --bb-blue-color: #405e9b;\n                    --bb-blue-card-color: #3a85c7;\n                    --bb-cream-off-white-color: #f8f5e3;\n                    --bb-cream-color: #ded2a2;\n                    --bb-green-color: #59c135;\n                }\n                .bb-text-bold { font-weight: bold; }\n                .bb-text-semibold { font-weight: 600; }\n                .bb-text-medium { font-weight: 500; }\n                .bb-text-extra-bold { font-weight: 800; }\n                .bb-text-black { font-weight: 900; }\n                .bb-text-pinegrove { font-family: 'Pinegrove', sans-serif; color: var(--bb-black-color); }\n                .bb-text-courier-prime { font-family: 'Courier Prime', monospace; color: var(--bb-black-color); }\n                .bb-text-league-spartan { font-family: 'League Spartan', sans-serif; color: var(--bb-black-color); }\n            </style>\n        `}applyInlineStyles(t){const r=Array.from(t.classList);let i="sans-serif",s="normal";r.includes("bb-text-pinegrove")?i="Pinegrove, sans-serif":r.includes("bb-text-courier-prime")?i="Courier Prime, monospace":r.includes("bb-text-league-spartan")&&(i="League Spartan, sans-serif"),r.includes("bb-text-bold")?s="bold":r.includes("bb-text-semibold")?s="600":r.includes("bb-text-medium")?s="500":r.includes("bb-text-extra-bold")?s="800":r.includes("bb-text-black")&&(s="900"),t.style.fontFamily=i,t.style.fontWeight=s,t.style.color="#000000"}drawChart(){this.data&&this.data.dataPoints&&0!==this.data.dataPoints.length?(this.featureScales=this.createFeatureScales(this.data.dataPoints),this.angleStep=2*Math.PI/this.data.dataPoints.length,this.clearSvg(),this.createVintageFilter(),this.setBackground(),this.recreateGroups(),this.createBlurFilters(),this.createGradient(),this.drawDataArea(this.data.dataPoints),this.drawCircularGrid(),this.drawAxesAndLabels(this.data.dataPoints),this.chartReady=!0):this.chartReady=!1}clearSvg(){this.svg.selectAll("*").remove()}createVintageFilter(){const r=this.svg.append("defs").append("filter").attr("id","vintage-filter");r.append("feColorMatrix").attr("type","matrix").attr("values","0.9 0.1 0.1 0 0 0.1 0.9 0.1 0 0 0.1 0.1 0.9 0 0 0 0 0 1 0"),r.append("feComponentTransfer").selectAll("funcRGB").data(["R","G","B"]).enter().append("feFuncRGB").attr("type","linear").attr("slope","0.9").attr("intercept","0.1"),this.chartGroup.attr("filter","url(#vintage-filter)")}setBackground(){this.svg.append("rect").attr("width",this.width).attr("height",this.height).attr("fill","none")}recreateGroups(){this.chartGroup=this.svg.append("g").attr("transform",`translate(${this.width/2}, ${this.height/2})`)}createFeatureScales(t){return t.reduce((r,i)=>(r[i.key]=GC().domain([0,i.scale]).range([0,this.radius]),r),{})}createBlurFilters(){this.svg.append("defs").append("filter").attr("id","number-blur-filter").append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",".3"),this.svg.append("defs").append("filter").attr("id","label-blur-filter").append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation","0.1")}drawCircularGrid(){const t=[.2,.4,.6,.8,1];t.forEach((r,i)=>{i===t.length-1?this.drawSquiggle():this.drawCircle(r)})}drawSquiggle(){const t=1.06*this.radius+5,i=Array.from({length:200},(o,a)=>{const l=a/200*Math.PI*2,c=(Math.sin(20*l)+Math.sin(15*l)+Math.sin(10*l))*(.015*this.radius);return[(t+c)*Math.cos(l),(t+c)*Math.sin(l)]}),s=iF().curve(wce);this.chartGroup.append("path").attr("d",s(i)).attr("stroke","black").attr("stroke-width",4).attr("fill","none")}drawCircle(t){this.chartGroup.append("circle").attr("cx",0).attr("cy",0).attr("r",this.radius*t).attr("stroke","black").attr("stroke-width",1.5).attr("fill","none").style("pointer-events","none")}drawAxesAndLabels(t){t.forEach((r,i)=>{const s=i*this.angleStep;this.drawAxis(s),this.drawScaleLabels(r,s,this.featureScales),this.drawLabel(r,s)})}drawAxis(t){const r=I8(t,1.1*this.radius),s=Array.from({length:100},(a,l)=>{const c=l/99,u=1.2*(Math.sin(20*c*Math.PI)+Math.cos(10*c*Math.PI));return[c*r[0]+u,c*r[1]+u]}),o=iF().curve(yce);this.chartGroup.append("path").attr("d",o(s)).attr("stroke","black").attr("stroke-width",()=>.8*Math.random()+.5).attr("fill","none")}drawScaleLabels(t,r,i){[.2,.4,.6,.8,1].forEach((o,a)=>{const[l,c]=I8(r,this.radius*o);let u=this.getRandomSize(a);const f=.5*Math.random()+.8,w=1.5*Math.random()+.5,v=.3*u;this.chartGroup.append("text").attr("x",l).attr("y",c+v).text((t.scale*o).toFixed(1)).attr("font-size",`${u}px`).attr("class","bb-text-pinegrove").attr("fill","black").attr("stroke","black").attr("stroke-width",w).attr("text-anchor","middle").style("opacity",f).each(function(){const E=this.getBBox().height/2*.2;oc(this).attr("dy",E)})})}getRandomSize(t,r=5){const u=[30,31,32,33],A=[28,29,30];return t===r-1?30:0===t?Math.random()<.1?A[Math.floor(Math.random()*A.length)]:5*Math.random()+22:Math.random()<.2?u[Math.floor(Math.random()*u.length)]:5*Math.random()+22}drawLabel(t,r){const i=this.radius+60,s=r-Math.PI/2,o=i*Math.cos(s),a=i*Math.sin(s);this.drawChalkBox(o,a,t.label,24,r);const u=this.chartGroup.append("g").attr("transform",`translate(${o}, ${a}) rotate(${180*r/Math.PI})`).append("text").attr("x",0).attr("y",0).text(t.label).attr("font-size","24px").attr("class","bb-text-courier-prime bb-text-bold").attr("font-weight","bold").attr("fill",this.CREAM_COLOR).attr("text-anchor","middle").attr("text-rendering","geometricPrecision"),A=u.node().getBBox();u.attr("y",22.5-A.height+12)}createGradient(){const t=this.svg.append("defs").append("radialGradient").attr("id","vintageGradient").attr("cx","50%").attr("cy","50%").attr("fx","50%").attr("fy","50%").attr("r","50%").attr("spreadMethod","pad");[{offset:"0%",color:"#FFFFFF"},{offset:"10%",color:"#FFF5E6"},{offset:"20%",color:"#FFD700"},{offset:"30%",color:"#FF4500"},{offset:"49%",color:"#8B0000"},{offset:"50%",color:"#000000"},{offset:"55%",color:"#8B0000"},{offset:"62%",color:"#FF4500"},{offset:"69%",color:"#FFD700"},{offset:"70%",color:"#000000"},{offset:"71%",color:"#000080"},{offset:"73%",color:"#0F6DD4"},{offset:"80%",color:"#0080FF"},{offset:"90%",color:"#4AC6FF"},{offset:"95%",color:"#7AD7FF"},{offset:"100%",color:"#4AC6FF"}].forEach(i=>{t.append("stop").attr("offset",i.offset).attr("stop-color",i.color).attr("stop-opacity","80%"===i.offset||"90%"===i.offset?.9:.85)}),this.addNoiseFilter(),this.addTextureOverlay()}addTextureOverlay(){const t=this.svg.append("defs").append("pattern").attr("id","texturePattern").attr("patternUnits","userSpaceOnUse").attr("width","100").attr("height","100");t.append("rect").attr("width","100").attr("height","100").attr("fill","url(#vintageGradient)"),t.append("filter").attr("id","textureFilter").append("feTurbulence").attr("type","fractalNoise").attr("baseFrequency","0.01").attr("numOctaves","5"),t.append("rect").attr("width","100").attr("height","100").attr("fill","transparent").attr("filter","url(#textureFilter)").attr("opacity","0.3")}addNoiseFilter(){const t=this.svg.append("defs").append("filter").attr("id","noise");t.append("feTurbulence").attr("type","fractalNoise").attr("baseFrequency","0.65").attr("numOctaves","3").attr("stitchTiles","stitch"),t.append("feColorMatrix").attr("type","saturate").attr("values","0"),t.append("feBlend").attr("in","SourceGraphic").attr("in2","noise").attr("mode","multiply")}drawDataArea(t){const r=function vce(){var n=function mce(n,e,t){var r=null,i=si(!0),s=null,o=rF,a=null,l=jD(c);function c(A){var f,h,g,v,C,w=(A=E8(A)).length,p=!1,E=new Array(w),B=new Array(w);for(null==s&&(a=o(C=l())),f=0;f<=w;++f){if(!(f<w&&i(v=A[f],f,A))===p)if(p=!p)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=f-1;g>=h;--g)a.point(E[g],B[g]);a.lineEnd(),a.areaEnd()}p&&(E[f]=+n(v,f,A),B[f]=+e(v,f,A),a.point(r?+r(v,f,A):E[f],t?+t(v,f,A):B[f]))}if(C)return a=null,C+""||null}function u(){return iF().defined(i).curve(o).context(s)}return n="function"==typeof n?n:void 0===n?B8:si(+n),e="function"==typeof e?e:si(void 0===e?0:+e),t="function"==typeof t?t:void 0===t?M8:si(+t),c.x=function(A){return arguments.length?(n="function"==typeof A?A:si(+A),r=null,c):n},c.x0=function(A){return arguments.length?(n="function"==typeof A?A:si(+A),c):n},c.x1=function(A){return arguments.length?(r=null==A?null:"function"==typeof A?A:si(+A),c):r},c.y=function(A){return arguments.length?(e="function"==typeof A?A:si(+A),t=null,c):e},c.y0=function(A){return arguments.length?(e="function"==typeof A?A:si(+A),c):e},c.y1=function(A){return arguments.length?(t=null==A?null:"function"==typeof A?A:si(+A),c):t},c.lineX0=c.lineY0=function(){return u().x(n).y(e)},c.lineY1=function(){return u().x(n).y(t)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(A){return arguments.length?(i="function"==typeof A?A:si(!!A),c):i},c.curve=function(A){return arguments.length?(o=A,null!=s&&(a=o(s)),c):o},c.context=function(A){return arguments.length?(null==A?s=a=null:a=o(s=A),c):s},c}().curve(gce),e=n.curve,t=n.lineX0,r=n.lineX1,i=n.lineY0,s=n.lineY1;return n.angle=n.x,delete n.x,n.startAngle=n.x0,delete n.x0,n.endAngle=n.x1,delete n.x1,n.radius=n.y,delete n.y,n.innerRadius=n.y0,delete n.y0,n.outerRadius=n.y1,delete n.y1,n.lineStartAngle=function(){return ow(t())},delete n.lineX0,n.lineEndAngle=function(){return ow(r())},delete n.lineX1,n.lineInnerRadius=function(){return ow(i())},delete n.lineY0,n.lineOuterRadius=function(){return ow(s())},delete n.lineY1,n.curve=function(o){return arguments.length?e(sF(o)):e()._curve},n}().angle((a,l)=>l*this.angleStep).innerRadius(0).outerRadius(a=>this.featureScales[a.key](a.value)).curve(_ce),i=this.chartGroup.append("g").attr("class","data-area"),s="dataAreaClip";this.svg.select("defs").append("clipPath").attr("id",s).append("path").datum(t).attr("d",r),i.append("circle").attr("r",this.radius).attr("fill","url(#vintageGradient)").attr("clip-path",`url(#${s})`),i.append("path").datum(t).attr("d",r).attr("fill","none").attr("stroke","black").attr("stroke-width",3)}drawChalkBox(t,r,i,s,o){const a=this.chartGroup.append("text").attr("x",t).attr("y",r).text(i).attr("font-size",`${s}px`).attr("text-anchor","middle"),l=a.node().getBBox();a.remove();const c=l.width+30,u=l.height+10;this.chartGroup.append("g").attr("transform",`rotate(${180*o/Math.PI}, ${t}, ${r})`).append("rect").attr("x",t-c/2).attr("y",r-u/2).attr("width",c).attr("height",u).attr("fill","black").attr("stroke","none").attr("shape-rendering","geometricPrecision")}static \u0275fac=function(r){return new(r||n)(ft(ao),ft(tu),ft(aw))};static \u0275cmp=rs({type:n,selectors:[["radar-chart"]],inputs:{data:"data"},features:[ks],decls:3,vars:0,consts:[[1,"chart-container"],[1,"radar-chart"],["chartContainer",""]],template:function(r,i){1&r&&(it(0,"div",0),Si(1,"div",1,2),tt())}})}return n})(),O8=(()=>{class n{elementRef;fontService;BRADYBALLUtil;data;svg;width=800;height=300;gaugeReady=!1;fontsLoaded=!1;CREAM_COLOR;RED_COLOR;BLACK_COLOR;fonts={};constructor(t,r,i){this.elementRef=t,this.fontService=r,this.BRADYBALLUtil=i,this.CREAM_COLOR=this.BRADYBALLUtil.getCssVariableValue("--bb-cream-color"),this.RED_COLOR=this.BRADYBALLUtil.getCssVariableValue("--bb-red-card-color"),this.BLACK_COLOR=this.BRADYBALLUtil.getCssVariableValue("--bb-black-color")}ngOnInit(){this.loadFonts()}ngOnChanges(t){t.data&&this.data&&(this.createSvg(),this.drawGauge())}ngAfterViewInit(){this.data&&(this.createSvg(),this.drawGauge())}loadFonts(){this.fontService.loadFonts(["league-spartan-regular.woff2","league-spartan-bold.woff2"]).subscribe(r=>{this.fonts=r,this.fontsLoaded=!0,this.data&&(this.createSvg(),this.drawGauge())},r=>{console.error("Error loading fonts:",r),this.data&&(this.createSvg(),this.drawGauge())})}createSvg(){oc(this.elementRef.nativeElement).select("svg").remove(),this.svg=oc(this.elementRef.nativeElement.querySelector(".gauge-container")).append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",`0 0 ${this.width} ${this.height}`).attr("preserveAspectRatio","xMidYMid meet")}saveSVG(){const t=this.elementRef.nativeElement.querySelector("svg");if(!t)return void console.error("SVG element not found");const r=t.cloneNode(!0),i=document.createElementNS("http://www.w3.org/2000/svg","defs");i.innerHTML=this.getFontDefinitions(),r.insertBefore(i,r.firstChild);let o=(new XMLSerializer).serializeToString(r);o=this.fontService.embedFontsInSVG(o,this.fonts),this.BRADYBALLUtil.saveSVGToFile(o,"percentile_rank.svg")}getFontDefinitions(){return`\n            <style>\n                @font-face {\n                    font-family: 'League Spartan';\n                    src: url(data:application/font-woff2;charset=utf-8;base64,${this.fonts["league-spartan-regular.woff2"]}) format('woff2');\n                    font-weight: normal;\n                    font-style: normal;\n                }\n                @font-face {\n                    font-family: 'League Spartan';\n                    src: url(data:application/font-woff2;charset=utf-8;base64,${this.fonts["league-spartan-bold.woff2"]}) format('woff2');\n                    font-weight: bold;\n                    font-style: normal;\n                }\n            </style>\n        `}drawDescription(){if(!this.data?.description)return;const t=380,r=160,i=this.svg.append("g").attr("transform",`translate(${this.height+50}, 60)`),s=i.append("g").attr("transform","rotate(-1)");s.append("rect").attr("width",t).attr("height",r).attr("fill","#fef9c3").attr("rx",1).attr("ry",1).style("filter","drop-shadow(1px 1px 2px rgba(0,0,0,0.3))"),s.append("rect").attr("width",t).attr("height",r).attr("fill","url(#paperTexture)").attr("rx",1).attr("ry",1).attr("opacity",.1),[{x:0,y:0,rotation:-45},{x:t,y:0,rotation:45},{x:0,y:r,rotation:45},{x:t,y:r,rotation:-45}].forEach(({x:g,y:w,rotation:v})=>{s.append("rect").attr("width",40).attr("height",30).attr("fill","#00000020").attr("x",g-20).attr("y",w-15).attr("transform",`rotate(${v}, ${g}, ${w})`),s.append("rect").attr("width",36).attr("height",26).attr("fill","#ffffff").attr("opacity",.7).attr("x",g-18).attr("y",w-13).attr("transform",`rotate(${v}, ${g}, ${w})`),s.append("rect").attr("width",30).attr("height",20).attr("fill","#ffffff").attr("opacity",.3).attr("x",g-15).attr("y",w-10).attr("transform",`rotate(${v}, ${g}, ${w})`)});const a=this.data.description.split(/\s+/),l=t-40,c=r-40;let f,u=20,A=[];u=(()=>{let g=8,w=24;for(;g<=w;){u=Math.floor((g+w)/2);let v=[];A=[];let p=i.append("text").attr("font-size",`${u}px`).attr("class","bb-text-league-spartan bb-text-bold");a.forEach(E=>{v.push(E),p.text(v.join(" ")),p.node().getComputedTextLength()>l&&(A.push(v.slice(0,-1).join(" ")),v=[E])}),v.length>0&&A.push(v.join(" ")),f=1.3*u;const C=A.length*f;p.remove(),C>c?w=u-1:g=u+1}return u})(),A.forEach((g,w)=>{i.append("text").attr("class","bb-text-league-spartan bb-text-bold").attr("font-size",`${u}px`).attr("fill",this.BLACK_COLOR).attr("x",25).attr("y",35+w*f).text(g)})}createVintageEffects(){const t=this.svg.append("defs");t.append("filter").attr("id","noise").append("feTurbulence").attr("type","fractalNoise").attr("baseFrequency",.8).attr("numOctaves",4).attr("stitchTiles","stitch");const i=t.append("linearGradient").attr("id","metallicBezel").attr("gradientUnits","userSpaceOnUse").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%");i.append("stop").attr("offset","0%").attr("stop-color","#FFE5B4"),i.append("stop").attr("offset","15%").attr("stop-color","#DDB068"),i.append("stop").attr("offset","30%").attr("stop-color","#8B4513"),i.append("stop").attr("offset","50%").attr("stop-color","#CD853F"),i.append("stop").attr("offset","70%").attr("stop-color","#8B4513"),i.append("stop").attr("offset","85%").attr("stop-color","#DDB068"),i.append("stop").attr("offset","100%").attr("stop-color","#FFE5B4");const s=t.append("filter").attr("id","ledGlow").attr("height","300%").attr("width","300%").attr("x","-100%").attr("y","-100%");s.append("feGaussianBlur").attr("stdDeviation","2").attr("result","coloredBlur");const o=s.append("feMerge");o.append("feMergeNode").attr("in","coloredBlur"),o.append("feMergeNode").attr("in","SourceGraphic");const a=t.append("filter").attr("id","displayEmboss").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");a.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation","2").attr("result","blur"),a.append("feOffset").attr("in","blur").attr("dx","2").attr("dy","2").attr("result","offsetBlur");const l=t.append("pattern").attr("id","lcdScreen").attr("patternUnits","userSpaceOnUse").attr("width","4").attr("height","4");l.append("rect").attr("width","4").attr("height","4").attr("fill","#1a1a1a"),l.append("rect").attr("width","2").attr("height","2").attr("fill","#000").attr("fill-opacity","0.3");const c=t.append("radialGradient").attr("id","faceGradient").attr("cx","50%").attr("cy","50%").attr("r","50%");c.append("stop").attr("offset","0%").attr("stop-color","#F5E6CB"),c.append("stop").attr("offset","70%").attr("stop-color","#E6D5B8"),c.append("stop").attr("offset","100%").attr("stop-color","#DDB068");const u=t.append("filter").attr("id","insetShadow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");u.append("feOffset").attr("dx","0").attr("dy","4"),u.append("feGaussianBlur").attr("stdDeviation","4").attr("result","blur"),u.append("feComposite").attr("operator","out").attr("in","SourceGraphic").attr("in2","blur").attr("result","inverse"),u.append("feFlood").attr("flood-color","black").attr("flood-opacity","0.3"),u.append("feComposite").attr("operator","in").attr("in2","inverse").attr("result","shadow"),u.append("feComposite").attr("operator","over").attr("in","shadow").attr("in2","SourceGraphic");const A=t.append("radialGradient").attr("id","screwGradient").attr("cx","40%").attr("cy","40%").attr("r","60%").attr("fx","40%").attr("fy","40%");A.append("stop").attr("offset","0%").attr("stop-color","#E8E8E8"),A.append("stop").attr("offset","50%").attr("stop-color","#B0B0B0"),A.append("stop").attr("offset","100%").attr("stop-color","#808080");const f=t.append("radialGradient").attr("id","screwHighlight").attr("cx","30%").attr("cy","30%").attr("r","70%").attr("fx","30%").attr("fy","30%");f.append("stop").attr("offset","0%").attr("stop-color","rgba(255,255,255,0.6)"),f.append("stop").attr("offset","50%").attr("stop-color","rgba(255,255,255,0.2)"),f.append("stop").attr("offset","100%").attr("stop-color","rgba(255,255,255,0)");const h=t.append("filter").attr("id","displayGlow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");h.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation","1").attr("result","blur"),h.append("feComponentTransfer").append("feFuncA").attr("type","linear").attr("slope","3").attr("intercept","0");const g=t.append("linearGradient").attr("id","digitalScreen").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");g.append("stop").attr("offset","0%").attr("stop-color","#000000"),g.append("stop").attr("offset","50%").attr("stop-color","#111111"),g.append("stop").attr("offset","100%").attr("stop-color","#000000"),t.append("pattern").attr("id","screenPattern").attr("patternUnits","userSpaceOnUse").attr("width","2").attr("height","2").attr("patternTransform","rotate(45)").append("rect").attr("width","1").attr("height","2").attr("fill","#000").attr("fill-opacity","0.3");const v=t.append("filter").attr("id","innerShadow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");v.append("feOffset").attr("dx","0").attr("dy","2"),v.append("feGaussianBlur").attr("stdDeviation","3").attr("result","offset-blur"),v.append("feComposite").attr("operator","out").attr("in","SourceGraphic").attr("in2","offset-blur").attr("result","inverse"),v.append("feFlood").attr("flood-color","black").attr("flood-opacity","0.4").attr("result","color"),v.append("feComposite").attr("operator","in").attr("in","color").attr("in2","inverse").attr("result","shadow"),v.append("feComposite").attr("operator","over").attr("in","shadow").attr("in2","SourceGraphic"),t.append("filter").attr("id","displayShadow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%").append("feDropShadow").attr("dx","0").attr("dy","4").attr("stdDeviation","4").attr("flood-color","rgba(0,0,0,0.3)");const C=t.append("pattern").attr("id","paperTexture").attr("patternUnits","userSpaceOnUse").attr("width",50).attr("height",50);C.append("rect").attr("width",50).attr("height",50).attr("fill","#fef9c3").attr("opacity",.8),C.append("filter").attr("id","noise").append("feTurbulence").attr("type","fractalNoise").attr("baseFrequency","0.8").attr("numOctaves","4").attr("stitchTiles","stitch");const E=t.append("filter").attr("id","noteShadow").attr("x","-20%").attr("y","-20%").attr("width","140%").attr("height","140%");E.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation","2").attr("result","blur"),E.append("feOffset").attr("in","blur").attr("dx","1").attr("dy","1").attr("result","offsetBlur"),E.append("feComponentTransfer").append("feFuncA").attr("type","linear").attr("slope","0.5"),E.append("feMerge").selectAll("feMergeNode").data(["offsetBlur","SourceGraphic"]).enter().append("feMergeNode").attr("in",J=>J);const B=t.append("filter").attr("id","needleGlow").attr("height","300%").attr("width","300%").attr("x","-100%").attr("y","-100%");B.append("feGaussianBlur").attr("stdDeviation","3").attr("result","coloredBlur");const U=B.append("feMerge");U.append("feMergeNode").attr("in","coloredBlur"),U.append("feMergeNode").attr("in","SourceGraphic"),this.addTubeEffects(t),this.addGaugeEffects(t);const k=t.append("filter").attr("id","tickGlow").attr("height","200%").attr("width","200%").attr("x","-50%").attr("y","-50%");k.append("feGaussianBlur").attr("stdDeviation","0.5").attr("result","blurOut");const H=k.append("feMerge");H.append("feMergeNode").attr("in","blurOut"),H.append("feMergeNode").attr("in","SourceGraphic");const P=t.append("radialGradient").attr("id","enhancedFaceGradient").attr("cx","45%").attr("cy","45%").attr("r","60%").attr("fx","40%").attr("fy","40%");P.append("stop").attr("offset","0%").attr("stop-color","#F5E6CB"),P.append("stop").attr("offset","60%").attr("stop-color","#E6D5B8"),P.append("stop").attr("offset","100%").attr("stop-color","#DDB068");const L=t.append("linearGradient").attr("id","outerRimGradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");L.append("stop").attr("offset","0%").attr("stop-color","#DDB068"),L.append("stop").attr("offset","30%").attr("stop-color","#CD853F"),L.append("stop").attr("offset","50%").attr("stop-color","#8B4513"),L.append("stop").attr("offset","70%").attr("stop-color","#CD853F"),L.append("stop").attr("offset","100%").attr("stop-color","#DDB068");const D=t.append("radialGradient").attr("id","dotMetallic").attr("cx","30%").attr("cy","30%").attr("r","70%");D.append("stop").attr("offset","0%").attr("stop-color","#FFE5B4"),D.append("stop").attr("offset","40%").attr("stop-color","#DDB068"),D.append("stop").attr("offset","80%").attr("stop-color","#8B4513"),D.append("stop").attr("offset","100%").attr("stop-color","#6B3410"),t.append("filter").attr("id","dotHighlight").append("feSpecularLighting").attr("surfaceScale","5").attr("specularConstant","1").attr("specularExponent","20").attr("lighting-color","#ffffff").append("fePointLight").attr("x","50").attr("y","50").attr("z","100");const O=t.append("linearGradient").attr("id","metallicBorder").attr("gradientUnits","userSpaceOnUse");O.attr("gradientTransform","rotate(45)"),O.selectAll("stop").data([{offset:"0%",color:"#FFE5B4"},{offset:"20%",color:"#DDB068"},{offset:"40%",color:"#CD853F"},{offset:"60%",color:"#8B4513"},{offset:"80%",color:"#DDB068"},{offset:"100%",color:"#FFE5B4"}]).enter().append("stop").attr("offset",J=>J.offset).attr("stop-color",J=>J.color);const V=t.append("filter").attr("id","outerRimShadow").attr("x","-20%").attr("y","-20%").attr("width","140%").attr("height","140%");V.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation","1").attr("result","blur"),V.append("feOffset").attr("in","blur").attr("dx","1").attr("dy","1").attr("result","offsetBlur");const R=V.append("feMerge");R.append("feMergeNode").attr("in","offsetBlur"),R.append("feMergeNode").attr("in","SourceGraphic")}drawGauge(){if(!this.data||"number"!=typeof this.data.percentile)return void(this.gaugeReady=!1);this.svg.selectAll("*").remove(),this.createVintageEffects(),this.drawDashboardContainer();const o=this.svg.select("defs").append("linearGradient").attr("id","gaugeGradient").attr("gradientUnits","userSpaceOnUse");o.attr("gradientTransform",`rotate(270, ${this.width/2}, ${this.height/2})`),[{offset:"0%",color:"#4AC6FF",opacity:.9},{offset:"25%",color:"#0F6DD4",opacity:.85},{offset:"50%",color:"#FFD700",opacity:.85},{offset:"75%",color:"#FF4500",opacity:.85},{offset:"100%",color:"#8B0000",opacity:.9}].forEach(u=>{o.append("stop").attr("offset",u.offset).attr("stop-color",u.color).attr("stop-opacity",u.opacity)});const l=this.svg.append("g").attr("class","gauge-group").attr("transform",`translate(${this.height/2+28}, ${this.height/2}) scale(0.85)`);l.append("circle").attr("r",this.height/2).attr("fill","none").attr("stroke","#8B4513").attr("stroke-width",.5),l.append("circle").attr("r",this.height/2-1).attr("fill","none").attr("stroke","#8B4513").attr("stroke-width",11).attr("filter","url(#outerRimShadow)"),l.append("circle").attr("r",this.height/2-1).attr("fill","none").attr("stroke","url(#outerRimGradient)").attr("stroke-width",6),l.append("circle").attr("r",this.height/2-6).attr("fill","none").attr("stroke","#8B4513").attr("stroke-width",.5),l.append("circle").attr("r",this.height/2-8).attr("fill","none").attr("stroke","url(#metallicBorder)").attr("stroke-width",4),l.append("circle").attr("r",this.height/2-12).attr("fill","none").attr("stroke","#8B4513").attr("stroke-width",4),l.append("circle").attr("r",this.height/2-14).attr("fill","none").attr("stroke","url(#metallicBorder)").attr("stroke-width",2),l.append("circle").attr("r",this.height/2-16).attr("fill","none").attr("stroke","#8B4513").attr("stroke-width",5).attr("opacity",1),l.append("circle").attr("r",this.height/2-20).attr("fill","url(#enhancedFaceGradient)").attr("filter","url(#faceDepth)"),l.append("circle").attr("r",this.height/2-12).attr("fill","url(#enhancedFaceGradient)").attr("filter","url(#faceDepth)");const c=this.height/4.5;this.drawTicks(l,270,450),this.drawNeedle(l,this.data.percentile,270,450),this.drawDigitalDisplay(l,this.data.percentile,c),this.drawDescription()}drawNeedle(t,r,i,s){const a=GC().domain([0,100]).range([i,s])(r)-90,l=this.height/2-40,c=t.append("g").attr("transform",`rotate(${a})`);c.append("path").attr("d",`M -2,-4 L ${l},0 L -2,4 Z`).attr("fill","#800000").attr("stroke","#800000").attr("stroke-width",1).attr("filter","url(#needleGlow)").attr("opacity",.3).attr("transform","translate(1, 1)"),c.append("path").attr("d",`M -2,-4 L ${l},0 L -2,4 Z`).attr("fill","#ff3333").attr("stroke","#cc0000").attr("stroke-width",1).attr("filter","url(#needleGlow)");const u=t.append("g");u.selectAll("*").remove(),u.append("circle").attr("r",14).attr("fill","url(#metallicBezel)").attr("stroke","#8B4513").attr("stroke-width",2).attr("filter","url(#innerShadow)"),u.append("circle").attr("r",10).attr("fill","url(#dotMetallic)").attr("stroke","#DDB068").attr("stroke-width",1),u.append("circle").attr("r",6).attr("fill","url(#dotMetallic)").attr("stroke","#8B4513").attr("stroke-width",.5),u.append("circle").attr("cx",-2).attr("cy",-2).attr("r",2).attr("fill","#FFE5B4").attr("opacity",.7)}drawTicks(t,r,i){if(!this.data||"number"!=typeof this.data.percentile)return;const s=GC().domain([0,100]).range([r,i]),o=this.height/2-55,a=this.height/2-35,c=t.append("g").attr("class","gauge-main"),u=t.append("g").attr("class","gauge-ticks"),A=t.append("g").attr("class","gauge-labels"),f=LC().innerRadius(o).outerRadius(a).startAngle((r-2)*Math.PI/180).endAngle((i+2)*Math.PI/180).cornerRadius(2),h=LC().innerRadius(o-2.5).outerRadius(a+2.5).startAngle((r-3)*Math.PI/180).endAngle((i+3)*Math.PI/180).cornerRadius(3);c.append("path").attr("d",h).attr("fill","#1a1a1a").attr("filter","url(#tubeInnerShadow)").attr("opacity",.7);const g=[];for(let p=0;p<=100;p+=5)g.push(p);g.includes(0)||g.push(0),g.includes(50)||g.push(50),g.includes(100)||g.push(100),g.sort((p,C)=>p-C),g.forEach(p=>{const C=(s(p)-90)*(Math.PI/180),E=a-1,B=p%20==0||0===p||100===p,U=p%10==0&&!B,k=B?18:U?13:8;if(u.append("line").attr("x1",E*Math.cos(C)).attr("y1",E*Math.sin(C)).attr("x2",(E-k)*Math.cos(C)).attr("y2",(E-k)*Math.sin(C)).attr("stroke","#FFE5B4").attr("stroke-width",B?3:U?2:1.5).attr("filter","url(#tickGlow)").attr("opacity",B?1:U?.9:.8),B){const P=E-45,L=P*Math.cos(C),D=P*Math.sin(C),I=A.append("g").attr("transform",`translate(${L}, ${D})`);[-1.5,-1,-.5,0,.5,1,1.5].forEach(O=>{[-1.5,-1,-.5,0,.5,1,1.5].forEach(V=>{0===O&&0===V||I.append("text").attr("class","bb-text-league-spartan").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","16px").attr("font-weight","bold").attr("fill","#8B4513").attr("opacity",.8).attr("transform",`translate(${O}, ${V})`).text(p)})}),I.append("text").attr("class","bb-text-league-spartan").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","16px").attr("font-weight","bold").attr("fill","#8B4513").attr("opacity",.4).attr("transform","translate(0, 2)").text(p),I.append("text").attr("class","bb-text-league-spartan").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","16px").attr("font-weight","bold").attr("fill","#DDB068").text(p),I.append("text").attr("class","bb-text-league-spartan").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","16px").attr("font-weight","bold").attr("fill","#FFD700").attr("filter","url(#ledGlow)").attr("opacity",.6).text(p)}});const w=s(this.data.percentile)*Math.PI/180,v=LC().innerRadius(o+1).outerRadius(a-1).startAngle((r-1)*Math.PI/180).endAngle(w).cornerRadius(2);c.append("path").attr("d",v).attr("fill","url(#gaugeGradient)").attr("filter","url(#liquidEffect)"),c.append("path").attr("d",h).attr("fill","none").attr("stroke","#6B3410").attr("stroke-width",2.5).attr("filter","url(#tubeInnerShadow)"),c.append("path").attr("d",f).attr("fill","url(#glassHighlight)").attr("opacity",.2),c.append("path").attr("d",f).attr("fill","url(#metallicOverlay)").attr("opacity",.2)}drawDigitalDisplay(t,r,i=this.height/3){const s=t.append("g").attr("transform",`translate(0, ${i})`);s.append("rect").attr("x",-60).attr("y",-35).attr("width",120).attr("height",70).attr("rx",6).attr("fill","url(#metallicBezel)").attr("stroke","#8B4513").attr("stroke-width",2),s.append("g").append("rect").attr("x",-56).attr("y",-31).attr("width",112).attr("height",62).attr("rx",4).attr("fill","#2a2a2a").attr("stroke","#8B4513").attr("stroke-width",1),s.append("rect").attr("x",-52).attr("y",-27).attr("width",104).attr("height",54).attr("rx",4).attr("fill","url(#lcdScreen)").attr("filter","url(#innerShadow)"),s.append("g").attr("transform","translate(0, 5)").append("text").attr("class","bb-text-league-spartan bb-text-bold").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","41px").attr("fill","#FFDB58").attr("filter","url(#ledGlow)").attr("opacity","0.9").text(`${Math.round(r)}%`),s.append("rect").attr("x",-52).attr("y",-27).attr("width",104).attr("height",54).attr("fill","url(#lcdScreen)").attr("opacity","0.1"),[[-54,-29],[54,-29],[-54,29],[54,29]].forEach(([c,u])=>{const A=s.append("g").attr("transform",`translate(${c},${u})`);A.append("circle").attr("r",3).attr("fill","url(#metallicBezel)").attr("stroke","#8B4513").attr("stroke-width",.5),A.append("path").attr("d","M-1.5,0 H1.5 M0,-1.5 V1.5").attr("stroke","#8B4513").attr("stroke-width",.5).attr("stroke-linecap","round")})}drawDashboardContainer(){const t=this.svg.append("g"),r=this.svg.select("defs").empty()?this.svg.append("defs"):this.svg.select("defs");this.createGradients(r),this.createFiltersAndPatterns(r),this.drawBorders(t),this.drawScreen(t),this.drawScrews(t)}addTubeEffects(t){t.append("filter").attr("id","tubeGlow").attr("height","300%").attr("width","300%").attr("x","-100%").attr("y","-100%").append("feGaussianBlur").attr("stdDeviation","1").attr("result","coloredBlur");const i=t.append("filter").attr("id","tubeInnerShadow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");i.append("feGaussianBlur").attr("stdDeviation","2").attr("result","blur"),i.append("feOffset").attr("dx","0").attr("dy","2");const s=t.append("filter").attr("id","liquidEffect").attr("height","300%").attr("width","300%").attr("x","-100%").attr("y","-100%");s.append("feGaussianBlur").attr("stdDeviation","2").attr("result","blur"),s.append("feComposite").attr("operator","in").attr("in2","SourceGraphic");const o=t.append("linearGradient").attr("id","glassHighlight").attr("gradientUnits","userSpaceOnUse").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");o.append("stop").attr("offset","0%").attr("stop-color","#ffffff").attr("stop-opacity","0.4"),o.append("stop").attr("offset","50%").attr("stop-color","#ffffff").attr("stop-opacity","0.1"),o.append("stop").attr("offset","100%").attr("stop-color","#ffffff").attr("stop-opacity","0.2")}createGradients(t){const r=t.append("radialGradient").attr("id","screwGradient").attr("cx","40%").attr("cy","40%").attr("r","60%").attr("fx","40%").attr("fy","40%");r.append("stop").attr("offset","0%").attr("stop-color","#E8E8E8"),r.append("stop").attr("offset","50%").attr("stop-color","#B0B0B0"),r.append("stop").attr("offset","100%").attr("stop-color","#808080");const i=t.append("radialGradient").attr("id","screwHighlight").attr("cx","30%").attr("cy","30%").attr("r","70%").attr("fx","30%").attr("fy","30%");i.append("stop").attr("offset","0%").attr("stop-color","rgba(255,255,255,0.6)"),i.append("stop").attr("offset","50%").attr("stop-color","rgba(255,255,255,0.2)"),i.append("stop").attr("offset","100%").attr("stop-color","rgba(255,255,255,0)")}createFiltersAndPatterns(t){const r=t.append("filter").attr("id","innerShadow").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%");r.append("feOffset").attr("dx","0").attr("dy","3"),r.append("feGaussianBlur").attr("stdDeviation","4").attr("result","offset-blur"),r.append("feComposite").attr("operator","out").attr("in","SourceGraphic").attr("in2","offset-blur").attr("result","inverse"),r.append("feFlood").attr("flood-color","black").attr("flood-opacity","0.6").attr("result","color"),r.append("feComposite").attr("operator","in").attr("in","color").attr("in2","inverse").attr("result","shadow"),r.append("feComposite").attr("operator","over").attr("in","shadow").attr("in2","SourceGraphic"),t.append("clipPath").attr("id","screenClip").append("rect").attr("width",this.width-32).attr("height",this.height-32).attr("x",16).attr("y",16).attr("rx",28).attr("ry",28),t.append("pattern").attr("id","scanlines").attr("patternUnits","userSpaceOnUse").attr("width",2).attr("height",2).append("rect").attr("width",2).attr("height",1).attr("fill","#ffffff").attr("opacity",.03)}drawBorders(t){t.append("rect").attr("width",this.width).attr("height",this.height).attr("rx",40).attr("ry",40).attr("fill","#909090"),t.append("rect").attr("width",this.width-16).attr("height",this.height-16).attr("x",8).attr("y",8).attr("rx",35).attr("ry",35).attr("fill","#505050").attr("filter","url(#innerShadow)"),t.append("rect").attr("width",this.width-32).attr("height",this.height-32).attr("x",16).attr("y",16).attr("rx",30).attr("ry",30).attr("fill","#1A1A1A").attr("filter","url(#innerShadow)")}drawScreen(t){const r=t.append("g").attr("clip-path","url(#screenClip)");r.append("rect").attr("width",this.width-32).attr("height",this.height-32).attr("x",16).attr("y",16).attr("rx",28).attr("ry",28).attr("fill","#1A1A1A"),r.append("rect").attr("width",this.width-32).attr("height",this.height-32).attr("x",16).attr("y",16).attr("rx",28).attr("ry",28).attr("fill","url(#scanlines)")}drawScrews(t){[[35,35],[this.width-35,35],[35,this.height-35],[this.width-35,this.height-35]].forEach(([s,o])=>{const a=t.append("g").attr("transform",`translate(${s},${o})`);a.append("circle").attr("r",8).attr("fill","url(#screwGradient)").attr("filter","url(#innerShadow)"),a.append("circle").attr("r",6).attr("fill","none").attr("stroke","#1A1A1A").attr("stroke-width",1),a.append("path").attr("d","M-3,0 H3 M0,-3 V3").attr("stroke","#1A1A1A").attr("stroke-width",1.5).attr("stroke-linecap","round"),a.append("circle").attr("r",3).attr("fill","url(#screwHighlight)").attr("opacity",.6)})}addGaugeEffects(t){const r=t.append("filter").attr("id","gaugeGlow").attr("height","300%").attr("width","300%").attr("x","-100%").attr("y","-100%");r.append("feGaussianBlur").attr("stdDeviation","3").attr("result","coloredBlur");const i=r.append("feMerge");i.append("feMergeNode").attr("in","coloredBlur"),i.append("feMergeNode").attr("in","SourceGraphic");const s=t.append("linearGradient").attr("id","metallicOverlay").attr("gradientUnits","userSpaceOnUse").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");s.append("stop").attr("offset","0%").attr("stop-color","#ffffff").attr("stop-opacity","0.3"),s.append("stop").attr("offset","50%").attr("stop-color","#ffffff").attr("stop-opacity","0"),s.append("stop").attr("offset","100%").attr("stop-color","#ffffff").attr("stop-opacity","0.3")}static \u0275fac=function(r){return new(r||n)(ft(ao),ft(tu),ft(aw))};static \u0275cmp=rs({type:n,selectors:[["percentile-rank"]],inputs:{data:"data"},features:[ks],decls:3,vars:0,consts:[[1,"chart-container"],[1,"gauge-container"],["chartContainer",""]],template:function(r,i){1&r&&(it(0,"div",0),Si(1,"div",1,2),tt())}})}return n})();class aF{percentile;description;constructor(e,t){this.percentile=e,this.description=t}static createDefault(){return new aF(0,"")}}class lF extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Ice extends lF{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dce extends lF{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fce extends lF{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var k8=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(k8||{});class Lce{constructor(e,{headers:t={},customFetch:r,region:i=k8.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=(n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>Promise.resolve().then(jt.bind(jt,9470)).then(({default:r})=>r(...t)):fetch),(...t)=>e(...t)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let c,a={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(a["x-region"]=l),o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):"string"==typeof o?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new Ice(g)}),A=u.headers.get("x-relay-error");if(A&&"true"===A)throw new Dce(u);if(!u.ok)throw new Fce(u);let h,f=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var Uce=jt(5030);const{PostgrestClient:H8}=Uce,Hce={"X-Client-Info":"realtime-js/2.10.2"};var lw=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(lw||{}),wl=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(wl||{}),nu=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(nu||{}),V8=function(n){return n.websocket="websocket",n}(V8||{}),fm=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(fm||{});class Gce{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o+=i;const l=r.decode(e.slice(o,o+s));return o+=s,{ref:null,topic:a,event:l,payload:JSON.parse(r.decode(e.slice(o,e.byteLength)))}}}class G8{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hi=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(hi||{});const z8=(n,e,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=zce(o,n,e,i),s),{})},zce=(n,e,t,r)=>{const i=e.find(a=>a.name===n),s=i?.type,o=t[n];return s&&!r.includes(s)?j8(s,o):cF(o)},j8=(n,e)=>{if("_"===n.charAt(0)){const t=n.slice(1,n.length);return Kce(e,t)}switch(n){case hi.bool:return jce(e);case hi.float4:case hi.float8:case hi.int2:case hi.int4:case hi.int8:case hi.numeric:case hi.oid:return Wce(e);case hi.json:case hi.jsonb:return $ce(e);case hi.timestamp:return qce(e);default:return cF(e)}},cF=n=>n,jce=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Wce=n=>{if("string"==typeof n){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},$ce=n=>{if("string"==typeof n)try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Kce=(n,e)=>{if("string"!=typeof n)return n;const t=n.length-1;if("{"===n[0]&&"}"===n[t]){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>j8(e,a))}return n},qce=n=>"string"==typeof n?n.replace(" ","T"):n,W8=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class uF{constructor(e,t,r={},i=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class cw{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cw.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=cw.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=cw.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const A=s[c];if(A){const f=u.map(v=>v.presence_ref),h=A.map(v=>v.presence_ref),g=u.filter(v=>h.indexOf(v.presence_ref)<0),w=A.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(a[c]=g),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=null!==(c=e[a])&&void 0!==c?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const A=e[a].map(h=>h.presence_ref),f=u.filter(h=>A.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(A=>A.presence_ref);c=c.filter(A=>u.indexOf(A.presence_ref)<0),e[a]=c,i(a,c,l),0===c.length&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return t[r]="metas"in i?i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}class AF{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=wl.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new uF(this,nu.join,this.params,this.timeout),this.rejoinTimer=new G8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wl.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wl.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=wl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wl.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nu.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new cw(this),this.broadcastEndpointURL=W8(this.socket.endPoint)+"/api/broadcast"}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:s,presence:o,postgres_changes:null!==(i=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(u=>u.filter))&&void 0!==i?i:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var A;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==u){const f=this.bindings.postgres_changes,h=null!==(A=f?.length)&&void 0!==A?A:0,g=[];for(let w=0;w<h;w++){const v=f[w],{filter:{event:p,schema:C,table:E,filter:B}}=v,U=u&&u[w];if(!U||U.event!==p||U.schema!==C||U.table!==E||U.filter!==B)return this.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));g.push(Object.assign(Object.assign({},v),{id:U.id}))}return this.bindings.postgres_changes=g,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){var r=this;return(0,Qe.Z)(function*(){return yield r.send({type:"presence",event:"track",payload:e},t.timeout||r.timeout)})()}untrack(e={}){var t=this;return(0,Qe.Z)(function*(){return yield t.send({type:"presence",event:"untrack"},e)})()}on(e,t,r){return this._on(e,t,r)}send(e,t={}){var r=this;return(0,Qe.Z)(function*(){var i,s;if(r._canPush()||"broadcast"!==e.type)return new Promise(o=>{var a,l,c;const u=r._push(e.type,e,t.timeout||r.timeout);"broadcast"===e.type&&!(null!==(c=null===(l=null===(a=r.params)||void 0===a?void 0:a.config)||void 0===l?void 0:l.broadcast)&&void 0!==c&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))});{const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:r.socket.accessToken?`Bearer ${r.socket.accessToken}`:"",apikey:r.socket.apiKey?r.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:r.subTopic,event:o,payload:a}]})};try{const c=yield r._fetchWithTimeout(r.broadcastEndpointURL,l,null!==(i=t.timeout)&&void 0!==i?i:r.timeout);return yield null===(s=c.body)||void 0===s?void 0:s.cancel(),c.ok?"ok":"error"}catch(c){return"AbortError"===c.name?"timed out":"error"}}})()}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wl.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nu.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new uF(this,nu.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(e,t,r){var i=this;return(0,Qe.Z)(function*(){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=yield i.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),a})()}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uF(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=nu;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(h=>{var g,w,v;return"*"===(null===(g=h.filter)||void 0===g?void 0:g.event)||(null===(v=null===(w=h.filter)||void 0===w?void 0:w.event)||void 0===v?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):null===(s=this.bindings[o])||void 0===s||s.filter(h=>{var g,w,v,p,C,E;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in h){const B=h.id,U=null===(g=h.filter)||void 0===g?void 0:g.event;return B&&(null===(w=t.ids)||void 0===w?void 0:w.includes(B))&&("*"===U||U?.toLocaleLowerCase()===(null===(v=t.data)||void 0===v?void 0:v.type.toLocaleLowerCase()))}{const B=null===(C=null===(p=h?.filter)||void 0===p?void 0:p.event)||void 0===C?void 0:C.toLocaleLowerCase();return"*"===B||B===(null===(E=t?.event)||void 0===E?void 0:E.toLocaleLowerCase())}}return h.type.toLocaleLowerCase()===o}).map(h=>{if("object"==typeof f&&"ids"in f){const g=f.data,{schema:w,table:v,commit_timestamp:p,type:C,errors:E}=g;f=Object.assign(Object.assign({},{schema:w,table:v,commit_timestamp:p,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(g))}h.callback(f,r)})}_isClosed(){return this.state===wl.closed}_isJoined(){return this.state===wl.joined}_isJoining(){return this.state===wl.joining}_isLeaving(){return this.state===wl.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!((null===(s=i.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&AF.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nu.close,{},e)}_onError(e){this._on(nu.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wl.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=z8(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=z8(e.columns,e.old_record)),t}}const eue=()=>{},tue=typeof WebSocket<"u";class nue{constructor(e,t){var i,r=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Hce,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=eue,this.conn=null,this.sendBuffer=[],this.serializer=new Gce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let a;return a=o||(typeof fetch>"u"?(...l)=>Promise.resolve().then(jt.bind(jt,9470)).then(({default:c})=>c(...l)):fetch),(...l)=>a(...l)},this.endPoint=`${e}/${V8.websocket}`,this.httpEndpoint=W8(e),this.transport=t?.transport?t.transport:null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(i=t?.params)||void 0===i?void 0:i.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,a)=>a(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G8((0,Qe.Z)(function*(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(tue)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new rue(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),jt.e(569).then(jt.t.bind(jt,3569,23)).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){var t=this;return(0,Qe.Z)(function*(){const r=yield e.unsubscribe();return 0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var e=this;return(0,Qe.Z)(function*(){const t=yield Promise.all(e.channels.map(r=>r.unsubscribe()));return e.disconnect(),t})()}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lw.connecting:return fm.Connecting;case lw.open:return fm.Open;case lw.closing:return fm.Closing;default:return fm.Closed}}isConnected(){return this.connectionState()===fm.Open}channel(e,t={config:{}}){const r=new AF(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;null===(l=this.conn)||void 0===l||l.send(a)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(nu.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return this.ref=e===this.ref?0:e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(nu.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class rue{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=lw.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class hF extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mo(n){return"object"==typeof n&&null!==n&&"__isStorageError"in n}class iue extends hF{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $8 extends hF{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const K8=n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>Promise.resolve().then(jt.bind(jt,9470)).then(({default:r})=>r(...t)):fetch),(...t)=>e(...t)};var dm=function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const fF=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),aue=(n,e)=>dm(void 0,void 0,void 0,function*(){const t=yield function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(jt.bind(jt,9470))).Response:Response});n instanceof t?n.json().then(r=>{e(new iue(fF(r),n.status||500))}).catch(r=>{e(new $8(fF(r),r))}):e(new $8(fF(n),n))}),lue=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return"GET"===n?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function jC(n,e,t,r,i,s){return dm(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,lue(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>aue(l,a))})})}function dF(n,e,t,r){return dm(this,void 0,void 0,function*(){return jC(n,"GET",e,t,r)})}function wh(n,e,t,r,i){return dm(this,void 0,void 0,function*(){return jC(n,"POST",e,r,i,t)})}function cue(n,e,t,r,i){return dm(this,void 0,void 0,function*(){return jC(n,"PUT",e,r,i,t)})}function q8(n,e,t,r,i){return dm(this,void 0,void 0,function*(){return jC(n,"DELETE",e,r,i,t)})}var _l=function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const uue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X8={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Aue{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=K8(i)}uploadOrUpdate(e,t,r,i){return _l(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},X8),i),a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{})),A=yield u.json();return u.ok?{data:{path:l,id:A.Id,fullPath:A.Key},error:null}:{data:null,error:A}}catch(s){if(mo(s))return{data:null,error:s};throw s}})}upload(e,t,r){return _l(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return _l(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:X8.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const A=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield A.json();return A.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(mo(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return _l(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const s=yield wh(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new hF("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(mo(r))return{data:null,error:r};throw r}})}update(e,t,r){return _l(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return _l(this,void 0,void 0,function*(){try{return{data:yield wh(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(mo(i))return{data:null,error:i};throw i}})}copy(e,t,r){return _l(this,void 0,void 0,function*(){try{return{data:{path:(yield wh(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(mo(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return _l(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield wh(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(mo(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return _l(this,void 0,void 0,function*(){try{const i=yield wh(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(mo(i))return{data:null,error:i};throw i}})}download(e,t){return _l(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield dF(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(mo(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==s&&i.push(s);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});""!==l&&i.push(l);let c=i.join("&");return""!==c&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return _l(this,void 0,void 0,function*(){try{return{data:yield q8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(mo(t))return{data:null,error:t};throw t}})}list(e,t,r){return _l(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uue),t),{prefix:e||""});return{data:yield wh(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(mo(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const hue={"X-Client-Info":"storage-js/2.6.0"};var pm=function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class fue{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},hue),t),this.fetch=K8(r)}listBuckets(){return pm(this,void 0,void 0,function*(){try{return{data:yield dF(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mo(e))return{data:null,error:e};throw e}})}getBucket(e){return pm(this,void 0,void 0,function*(){try{return{data:yield dF(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(mo(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return pm(this,void 0,void 0,function*(){try{return{data:yield wh(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(mo(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return pm(this,void 0,void 0,function*(){try{return{data:yield cue(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(mo(r))return{data:null,error:r};throw r}})}emptyBucket(e){return pm(this,void 0,void 0,function*(){try{return{data:yield wh(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(mo(t))return{data:null,error:t};throw t}})}deleteBucket(e){return pm(this,void 0,void 0,function*(){try{return{data:yield q8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(mo(t))return{data:null,error:t};throw t}})}}class due extends fue{constructor(e,t={},r){super(e,t,r)}from(e){return new Aue(this.url,this.headers,e,this.fetch)}}let uw="";uw=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const gue={headers:{"X-Client-Info":`supabase-js-${uw}/2.44.4`}},mue={schema:"public"},vue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yue={};var Y8=jt(9470);const xue=(n,e,t)=>{const r=(n=>{let e;return e=n||(typeof fetch>"u"?Y8.default:fetch),(...t)=>e(...t)})(t),i=typeof Headers>"u"?Y8.Headers:Headers;return(s,o)=>function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(void 0,void 0,void 0,function*(){var a;const l=null!==(a=yield e())&&void 0!==a?a:n;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})},ru=()=>typeof document<"u",pd={tested:!1,writable:!1},Aw=()=>{if(!ru())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(pd.tested)return pd.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),pd.tested=!0,pd.writable=!0}catch{pd.tested=!0,pd.writable=!1}return pd.writable};function pF(n){const e={},t=new URL(n);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const Z8=n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>Promise.resolve().then(jt.bind(jt,9470)).then(({default:r})=>r(...t)):fetch),(...t)=>e(...t)},Mue=n=>"object"==typeof n&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json,gd=function(){var n=(0,Qe.Z)(function*(e,t,r){yield e.setItem(t,JSON.stringify(r))});return function(t,r,i){return n.apply(this,arguments)}}(),WC=function(){var n=(0,Qe.Z)(function*(e,t){const r=yield e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return n.apply(this,arguments)}}(),gF=function(){var n=(0,Qe.Z)(function*(e,t){yield e.removeItem(t)});return function(t,r){return n.apply(this,arguments)}}();class $C{constructor(){this.promise=new $C.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function J8(n){const t=n.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function Tue(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,i,s,o,a,l,c,t="",u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),r=o<<2|a>>4,i=(15&a)<<4|l>>2,s=(3&l)<<6|c,t+=String.fromCharCode(r),64!=l&&0!=i&&(t+=String.fromCharCode(i)),64!=c&&0!=s&&(t+=String.fromCharCode(s));return t}(t[1]))}function mF(){return mF=(0,Qe.Z)(function*(n){return yield new Promise(e=>{setTimeout(()=>e(null),n)})}),mF.apply(this,arguments)}function Fue(n){return("0"+n.toString(16)).substr(-2)}function gm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Fue).join("")}function vF(){return vF=(0,Qe.Z)(function*(n){const t=(new TextEncoder).encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}),vF.apply(this,arguments)}function mm(n){return yF.apply(this,arguments)}function yF(){return yF=(0,Qe.Z)(function*(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=yield function Rue(n){return vF.apply(this,arguments)}(n);return function Lue(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(t)}),yF.apply(this,arguments)}$C.promiseConstructor=Promise;class wF extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function or(n){return"object"==typeof n&&null!==n&&"__isAuthError"in n}class Uue extends wF{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eV extends wF{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class md extends wF{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vm extends md{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class _F extends md{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class KC extends md{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class qC extends md{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tV extends md{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bF extends md{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function xF(n){return or(n)&&"AuthRetryableFetchError"===n.name}class Nue extends md{constructor(e,t,r){super(e,"AuthWeakPasswordError",t),this.reasons=r}}const ym=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),kue=[502,503,504];function nV(n){return CF.apply(this,arguments)}function CF(){return CF=(0,Qe.Z)(function*(n){if(!Mue(n))throw new bF(ym(n),0);if(kue.includes(n.status))throw new bF(ym(n),n.status);let e;try{e=yield n.json()}catch(t){throw new eV(ym(t),t)}throw"object"==typeof e&&e&&"object"==typeof e.weak_password&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)?new Nue(ym(e),n.status,e.weak_password.reasons):new Uue(ym(e),n.status||500)}),CF.apply(this,arguments)}const Hue=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return"GET"===n?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function gr(n,e,t,r){return EF.apply(this,arguments)}function EF(){return EF=(0,Qe.Z)(function*(n,e,t,r){var i;const s=Object.assign({},r?.headers);r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield function Que(n,e,t,r,i,s){return SF.apply(this,arguments)}(n,e,t+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}),EF.apply(this,arguments)}function SF(){return SF=(0,Qe.Z)(function*(n,e,t,r,i,s){const o=Hue(e,r,i,s);let a;try{a=yield n(t,o)}catch(l){throw console.error(l),new bF(ym(l),0)}if(a.ok||(yield nV(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield nV(l)}}),SF.apply(this,arguments)}function vd(n){var e;let t=null;return function jue(n){return n.access_token&&n.refresh_token&&n.expires_in}(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=function Sue(n){return Math.round(Date.now()/1e3)+n}(n.expires_in))),{data:{session:t,user:null!==(e=n.user)&&void 0!==e?e:n},error:null}}function rV(n){const e=vd(n);return!e.error&&n.weak_password&&"object"==typeof n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&"string"==typeof n.weak_password.message&&n.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)&&(e.data.weak_password=n.weak_password),e}function _h(n){var e;return{data:{user:null!==(e=n.user)&&void 0!==e?e:n},error:null}}function Vue(n){return{data:n,error:null}}function Gue(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,o=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},user:Object.assign({},o)},error:null}}function zue(n){return n}class $ue{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Z8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,t="global"){var r=this;return(0,Qe.Z)(function*(){try{return yield gr(r.fetch,"POST",`${r.url}/logout?scope=${t}`,{headers:r.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})()}inviteUserByEmail(e,t={}){var r=this;return(0,Qe.Z)(function*(){try{return yield gr(r.fetch,"POST",`${r.url}/invite`,{body:{email:e,data:t.data},headers:r.headers,redirectTo:t.redirectTo,xform:_h})}catch(i){if(or(i))return{data:{user:null},error:i};throw i}})()}generateLink(e){var t=this;return(0,Qe.Z)(function*(){try{const{options:r}=e,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(e,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),yield gr(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:s,headers:t.headers,xform:Gue,redirectTo:r?.redirectTo})}catch(r){if(or(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(e){var t=this;return(0,Qe.Z)(function*(){try{return yield gr(t.fetch,"POST",`${t.url}/admin/users`,{body:e,headers:t.headers,xform:_h})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}})()}listUsers(e){var t=this;return(0,Qe.Z)(function*(){var r,i,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},A=yield gr(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=e?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(o=null===(s=e?.perPage)||void 0===s?void 0:s.toString())&&void 0!==o?o:""},xform:zue});if(A.error)throw A.error;const f=yield A.json(),h=null!==(a=A.headers.get("x-total-count"))&&void 0!==a?a:0,g=null!==(c=null===(l=A.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==c?c:[];return g.length>0&&(g.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(w.split(";")[1].split("=")[1]);u[`${p}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(or(u))return{data:{users:[]},error:u};throw u}})()}getUserById(e){var t=this;return(0,Qe.Z)(function*(){try{return yield gr(t.fetch,"GET",`${t.url}/admin/users/${e}`,{headers:t.headers,xform:_h})}catch(r){if(or(r))return{data:{user:null},error:r};throw r}})()}updateUserById(e,t){var r=this;return(0,Qe.Z)(function*(){try{return yield gr(r.fetch,"PUT",`${r.url}/admin/users/${e}`,{body:t,headers:r.headers,xform:_h})}catch(i){if(or(i))return{data:{user:null},error:i};throw i}})()}deleteUser(e,t=!1){var r=this;return(0,Qe.Z)(function*(){try{return yield gr(r.fetch,"DELETE",`${r.url}/admin/users/${e}`,{headers:r.headers,body:{should_soft_delete:t},xform:_h})}catch(i){if(or(i))return{data:{user:null},error:i};throw i}})()}_listFactors(e){var t=this;return(0,Qe.Z)(function*(){try{const{data:r,error:i}=yield gr(t.fetch,"GET",`${t.url}/admin/users/${e.userId}/factors`,{headers:t.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(or(r))return{data:null,error:r};throw r}})()}_deleteFactor(e){var t=this;return(0,Qe.Z)(function*(){try{return{data:yield gr(t.fetch,"DELETE",`${t.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:t.headers}),error:null}}catch(r){if(or(r))return{data:null,error:r};throw r}})()}}const Yue={getItem:n=>Aw()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Aw()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Aw()&&globalThis.localStorage.removeItem(n)}};function oV(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}globalThis&&Aw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class Jue extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}!function Zue(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const tAe={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.61.0"},flowType:"implicit",debug:!1},hw=3e4;function nAe(n,e,t){return MF.apply(this,arguments)}function MF(){return(MF=(0,Qe.Z)(function*(n,e,t){return yield t()})).apply(this,arguments)}let rAe=(()=>{class n{constructor(t){var i,r=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&ru()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tAe),t);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $ue({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Z8(s.fetch),this.lock=s.lock||nAe,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Aw()?this.storage=Yue:(this.memoryStorage={},this.storage=oV(this.memoryStorage)):(this.memoryStorage={},this.storage=oV(this.memoryStorage)),ru()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(i=this.broadcastChannel)||void 0===i||i.addEventListener("message",function(){var o=(0,Qe.Z)(function*(a){r._debug("received broadcast notification from other tab or client",a),yield r._notifyAllSubscribers(a.data.event,a.data.session,!1)});return function(a){return o.apply(this,arguments)}}())}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.61.0) ${(new Date).toISOString()}`,...t),this}initialize(){var t=this;return(0,Qe.Z)(function*(){return t.initializePromise||(t.initializePromise=(0,Qe.Z)(function*(){return yield t._acquireLock(-1,(0,Qe.Z)(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return(0,Qe.Z)(function*(){try{const r=!!ru()&&(yield t._isPKCEFlow());if(t._debug("#_initialize()","begin","is PKCE flow",r),r||t.detectSessionInUrl&&t._isImplicitGrantFlow()){const{data:i,error:s}=yield t._getSessionFromURL(r);if(s)return t._debug("#_initialize()","error detecting session from URL",s),"Identity is already linked"===s?.message||"Identity is already linked to another user"===s?.message||(yield t._removeSession()),{error:s};const{session:o,redirectType:a}=i;return t._debug("#_initialize()","detected session in URL",o,"redirect type",a),yield t._saveSession(o),setTimeout((0,Qe.Z)(function*(){"recovery"===a?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield t._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(r){return or(r)?{error:r}:{error:new eV("Unexpected error during initialization",r)}}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signUp(t){var r=this;return(0,Qe.Z)(function*(){var i,s,o;try{let a;if(yield r._removeSession(),"email"in t){const{email:f,password:h,options:g}=t;let w=null,v=null;if("pkce"===r.flowType){const p=gm();yield gd(r.storage,`${r.storageKey}-code-verifier`,p),w=yield mm(p),v=p===w?"plain":"s256"}a=yield gr(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:h,data:null!==(i=g?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:w,code_challenge_method:v},xform:vd})}else{if(!("phone"in t))throw new KC("You must provide either an email or phone number and a password");{const{phone:f,password:h,options:g}=t;a=yield gr(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:f,password:h,data:null!==(s=g?.data)&&void 0!==s?s:{},channel:null!==(o=g?.channel)&&void 0!==o?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:vd})}}const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,A=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:A,session:u},error:null}}catch(a){if(or(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(t){var r=this;return(0,Qe.Z)(function*(){try{let i;if(yield r._removeSession(),"email"in t){const{email:a,password:l,options:c}=t;i=yield gr(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:rV})}else{if(!("phone"in t))throw new KC("You must provide either an email or phone number and a password");{const{phone:a,password:l,options:c}=t;i=yield gr(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:rV})}}const{data:s,error:o}=i;return o?{data:{user:null,session:null},error:o}:s&&s.session&&s.user?(s.session&&(yield r._saveSession(s.session),yield r._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o}):{data:{user:null,session:null},error:new _F}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOAuth(t){var r=this;return(0,Qe.Z)(function*(){var i,s,o,a;return yield r._removeSession(),yield r._handleProviderSignIn(t.provider,{redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,scopes:null===(s=t.options)||void 0===s?void 0:s.scopes,queryParams:null===(o=t.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return(0,Qe.Z)(function*(){return yield r.initializePromise,r._acquireLock(-1,(0,Qe.Z)(function*(){return r._exchangeCodeForSession(t)}))})()}_exchangeCodeForSession(t){var r=this;return(0,Qe.Z)(function*(){const i=yield WC(r.storage,`${r.storageKey}-code-verifier`),[s,o]=(i??"").split("/"),{data:a,error:l}=yield gr(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:s},xform:vd});return yield gF(r.storage,`${r.storageKey}-code-verifier`),l?{data:{user:null,session:null,redirectType:null},error:l}:a&&a.session&&a.user?(a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l}):{data:{user:null,session:null,redirectType:null},error:new _F}})()}signInWithIdToken(t){var r=this;return(0,Qe.Z)(function*(){yield r._removeSession();try{const{options:i,provider:s,token:o,access_token:a,nonce:l}=t,c=yield gr(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:s,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:vd}),{data:u,error:A}=c;return A?{data:{user:null,session:null},error:A}:u&&u.session&&u.user?(u.session&&(yield r._saveSession(u.session),yield r._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:A}):{data:{user:null,session:null},error:new _F}}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOtp(t){var r=this;return(0,Qe.Z)(function*(){var i,s,o,a,l;try{if(yield r._removeSession(),"email"in t){const{email:c,options:u}=t;let A=null,f=null;if("pkce"===r.flowType){const g=gm();yield gd(r.storage,`${r.storageKey}-code-verifier`,g),A=yield mm(g),f=g===A?"plain":"s256"}const{error:h}=yield gr(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:c,data:null!==(i=u?.data)&&void 0!==i?i:{},create_user:null===(s=u?.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:A,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:c,options:u}=t,{data:A,error:f}=yield gr(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:c,data:null!==(o=u?.data)&&void 0!==o?o:{},create_user:null===(a=u?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:null!==(l=u?.channel)&&void 0!==l?l:"sms"}});return{data:{user:null,session:null,messageId:A?.message_id},error:f}}throw new KC("You must provide either an email or phone number.")}catch(c){if(or(c))return{data:{user:null,session:null},error:c};throw c}})()}verifyOtp(t){var r=this;return(0,Qe.Z)(function*(){var i,s;try{let o,a;"email_change"!==t.type&&"phone_change"!==t.type&&(yield r._removeSession()),"options"in t&&(o=null===(i=t.options)||void 0===i?void 0:i.redirectTo,a=null===(s=t.options)||void 0===s?void 0:s.captchaToken);const{data:l,error:c}=yield gr(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:vd});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,A=l.user;return u?.access_token&&(yield r._saveSession(u),yield r._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:A,session:u},error:null}}catch(o){if(or(o))return{data:{user:null,session:null},error:o};throw o}})()}signInWithSSO(t){var r=this;return(0,Qe.Z)(function*(){var i,s,o;try{yield r._removeSession();let a=null,l=null;if("pkce"===r.flowType){const c=gm();yield gd(r.storage,`${r.storageKey}-code-verifier`,c),a=yield mm(c),l=c===a?"plain":"s256"}return yield gr(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(s=null===(i=t.options)||void 0===i?void 0:i.redirectTo)&&void 0!==s?s:void 0}),null!==(o=t?.options)&&void 0!==o&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:r.headers,xform:Vue})}catch(a){if(or(a))return{data:null,error:a};throw a}})()}reauthenticate(){var t=this;return(0,Qe.Z)(function*(){return yield t.initializePromise,yield t._acquireLock(-1,(0,Qe.Z)(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return(0,Qe.Z)(function*(){try{return yield t._useSession(function(){var r=(0,Qe.Z)(function*(i){const{data:{session:s},error:o}=i;if(o)throw o;if(!s)throw new vm;const{error:a}=yield gr(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}});return function(i){return r.apply(this,arguments)}}())}catch(r){if(or(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(t){var r=this;return(0,Qe.Z)(function*(){try{"email_change"!=t.type&&"phone_change"!=t.type&&(yield r._removeSession());const i=`${r.url}/resend`;if("email"in t){const{email:s,type:o,options:a}=t,{error:l}=yield gr(r.fetch,"POST",i,{headers:r.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in t){const{phone:s,type:o,options:a}=t,{data:l,error:c}=yield gr(r.fetch,"POST",i,{headers:r.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new KC("You must provide either an email or phone number and a type")}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}})()}getSession(){var t=this;return(0,Qe.Z)(function*(){return yield t.initializePromise,t._acquireLock(-1,(0,Qe.Z)(function*(){return t._useSession(function(){var r=(0,Qe.Z)(function*(i){return i});return function(i){return r.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var i=this;return(0,Qe.Z)(function*(){i._debug("#_acquireLock","begin",t);try{if(i.lockAcquired){const s=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),o=(0,Qe.Z)(function*(){return yield s,yield r()})();return i.pendingInLock.push((0,Qe.Z)(function*(){try{yield o}catch{}})()),o}return yield i.lock(`lock:${i.storageKey}`,t,(0,Qe.Z)(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const s=r();for(i.pendingInLock.push((0,Qe.Z)(function*(){try{yield s}catch{}})()),yield s;i.pendingInLock.length;){const o=[...i.pendingInLock];yield Promise.all(o),i.pendingInLock.splice(0,o.length)}return yield s}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return(0,Qe.Z)(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield t(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return(0,Qe.Z)(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield WC(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",i),null!==i&&(t._isValidSession(i)?r=i:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const s=!!r.expires_at&&r.expires_at<=Date.now()/1e3;if(t._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s)return{data:{session:r},error:null};const{session:o,error:a}=yield t._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return(0,Qe.Z)(function*(){return t?yield r._getUser(t):(yield r.initializePromise,r._acquireLock(-1,(0,Qe.Z)(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return(0,Qe.Z)(function*(){try{return t?yield gr(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:_h}):yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o,a;const{data:l,error:c}=s;if(c)throw c;return yield gr(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(a=null===(o=l.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0,xform:_h})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(or(i))return{data:{user:null},error:i};throw i}})()}updateUser(t,r={}){var i=this;return(0,Qe.Z)(function*(){return yield i.initializePromise,yield i._acquireLock(-1,(0,Qe.Z)(function*(){return yield i._updateUser(t,r)}))})()}_updateUser(t,r={}){var i=this;return(0,Qe.Z)(function*(){try{return yield i._useSession(function(){var s=(0,Qe.Z)(function*(o){const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new vm;const c=a.session;let u=null,A=null;if("pkce"===i.flowType&&null!=t.email){const g=gm();yield gd(i.storage,`${i.storageKey}-code-verifier`,g),u=yield mm(g),A=g===u?"plain":"s256"}const{data:f,error:h}=yield gr(i.fetch,"PUT",`${i.url}/user`,{headers:i.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:A}),jwt:c.access_token,xform:_h});if(h)throw h;return c.user=f.user,yield i._saveSession(c),yield i._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}});return function(o){return s.apply(this,arguments)}}())}catch(s){if(or(s))return{data:{user:null},error:s};throw s}})()}_decodeJWT(t){return J8(t)}setSession(t){var r=this;return(0,Qe.Z)(function*(){return yield r.initializePromise,yield r._acquireLock(-1,(0,Qe.Z)(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return(0,Qe.Z)(function*(){try{if(!t.access_token||!t.refresh_token)throw new vm;const i=Date.now()/1e3;let s=i,o=!0,a=null;const l=J8(t.access_token);if(l.exp&&(s=l.exp,o=s<=i),o){const{session:c,error:u}=yield r._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=yield r._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:s-i,expires_at:s},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(or(i))return{data:{session:null,user:null},error:i};throw i}})()}refreshSession(t){var r=this;return(0,Qe.Z)(function*(){return yield r.initializePromise,yield r._acquireLock(-1,(0,Qe.Z)(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return(0,Qe.Z)(function*(){try{return yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o;if(!t){const{data:c,error:u}=s;if(u)throw u;t=null!==(o=c.session)&&void 0!==o?o:void 0}if(!t?.refresh_token)throw new vm;const{session:a,error:l}=yield r._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(s){return i.apply(this,arguments)}}())}catch(i){if(or(i))return{data:{user:null,session:null},error:i};throw i}})()}_getSessionFromURL(t){var r=this;return(0,Qe.Z)(function*(){try{if(!ru())throw new qC("No browser detected.");if("implicit"===r.flowType&&!r._isImplicitGrantFlow())throw new qC("Not a valid implicit grant flow url.");if("pkce"==r.flowType&&!t)throw new tV("Not a valid PKCE flow url.");const i=pF(window.location.href);if(t){if(!i.code)throw new tV("No code detected.");const{data:B,error:U}=yield r._exchangeCodeForSession(i.code);if(U)throw U;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:B.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new qC(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:c,expires_at:u,token_type:A}=i;if(!(a&&c&&l&&A))throw new qC("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(c);let g=f+h;u&&(g=parseInt(u));const w=g-f;1e3*w<=hw&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const v=g-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",v,g,f);const{data:p,error:C}=yield r._getUser(a);if(C)throw C;const E={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:h,expires_at:g,refresh_token:l,token_type:A,user:p.user};return window.location.hash="",r._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:i.type},error:null}}catch(i){if(or(i))return{data:{session:null,redirectType:null},error:i};throw i}})()}_isImplicitGrantFlow(){const t=pF(window.location.href);return!(!ru()||!t.access_token&&!t.error_description)}_isPKCEFlow(){var t=this;return(0,Qe.Z)(function*(){const r=pF(window.location.href),i=yield WC(t.storage,`${t.storageKey}-code-verifier`);return!(!r.code||!i)})()}signOut(t={scope:"global"}){var r=this;return(0,Qe.Z)(function*(){return yield r.initializePromise,yield r._acquireLock(-1,(0,Qe.Z)(function*(){return yield r._signOut(t)}))})()}_signOut({scope:t}={scope:"global"}){var r=this;return(0,Qe.Z)(function*(){return yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o;const{data:a,error:l}=s;if(l)return{error:l};const c=null===(o=a.session)||void 0===o?void 0:o.access_token;if(c){const{error:u}=yield r.admin.signOut(c,t);if(u&&(!function Pue(n){return or(n)&&"AuthApiError"===n.name}(u)||404!==u.status&&401!==u.status))return{error:u}}return"others"!==t&&(yield r._removeSession(),yield gF(r.storage,`${r.storageKey}-code-verifier`),yield r._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(s){return i.apply(this,arguments)}}())})()}onAuthStateChange(t){var r=this;const i=function Bue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=16*Math.random()|0;return("x"==n?e:3&e|8).toString(16)})}(),s={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(0,Qe.Z)(function*(){yield r.initializePromise,yield r._acquireLock(-1,(0,Qe.Z)(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:s}}}_emitInitialSession(t){var r=this;return(0,Qe.Z)(function*(){return yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o,a;try{const{data:{session:l},error:c}=s;if(c)throw c;yield null===(o=r.stateChangeEmitters.get(t))||void 0===o?void 0:o.callback("INITIAL_SESSION",l),r._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}});return function(s){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(t,r={}){var i=this;return(0,Qe.Z)(function*(){let s=null,o=null;if("pkce"===i.flowType){const a=gm();yield gd(i.storage,`${i.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),s=yield mm(a),o=a===s?"plain":"s256"}try{return yield gr(i.fetch,"POST",`${i.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:i.headers,redirectTo:r.redirectTo})}catch(a){if(or(a))return{data:null,error:a};throw a}})()}getUserIdentities(){var t=this;return(0,Qe.Z)(function*(){var r;try{const{data:i,error:s}=yield t.getUser();if(s)throw s;return{data:{identities:null!==(r=i.user.identities)&&void 0!==r?r:[]},error:null}}catch(i){if(or(i))return{data:null,error:i};throw i}})()}linkIdentity(t){var r=this;return(0,Qe.Z)(function*(){var i;try{const{data:s,error:o}=yield r._useSession(function(){var a=(0,Qe.Z)(function*(l){var c,u,A,f,h;const{data:g,error:w}=l;if(w)throw w;const v=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,t.provider,{redirectTo:null===(c=t.options)||void 0===c?void 0:c.redirectTo,scopes:null===(u=t.options)||void 0===u?void 0:u.scopes,queryParams:null===(A=t.options)||void 0===A?void 0:A.queryParams,skipBrowserRedirect:!0});return yield gr(r.fetch,"GET",v,{headers:r.headers,jwt:null!==(h=null===(f=g.session)||void 0===f?void 0:f.access_token)&&void 0!==h?h:void 0})});return function(l){return a.apply(this,arguments)}}());if(o)throw o;return ru()&&!(null!==(i=t.options)&&void 0!==i&&i.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(or(s))return{data:{provider:t.provider,url:null},error:s};throw s}})()}unlinkIdentity(t){var r=this;return(0,Qe.Z)(function*(){try{return yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o,a;const{data:l,error:c}=s;if(c)throw c;return yield gr(r.fetch,"DELETE",`${r.url}/user/identities/${t.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(o=l.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(or(i))return{data:null,error:i};throw i}})()}_refreshAccessToken(t){var r=this;return(0,Qe.Z)(function*(){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(i,"begin");try{const s=Date.now();return yield function Due(n,e){return new Promise((r,i)=>{(0,Qe.Z)(function*(){for(let s=0;s<1/0;s++)try{const o=yield n(s);if(!e(s,null,o))return void r(o)}catch(o){if(!e(s,o))return void i(o)}})()})}(function(){var o=(0,Qe.Z)(function*(a){return yield function Iue(n){return mF.apply(this,arguments)}(200*a),r._debug(i,"refreshing attempt",a),yield gr(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:vd})});return function(a){return o.apply(this,arguments)}}(),(o,a,l)=>l&&l.error&&xF(l.error)&&Date.now()+200*(o+1)-s<hw)}catch(s){if(r._debug(i,"error",s),or(s))return{data:{session:null,user:null},error:s};throw s}finally{r._debug(i,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var i=this;return(0,Qe.Z)(function*(){const s=yield i._getUrlForProvider(`${i.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),ru()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}})()}_recoverAndRefresh(){var t=this;return(0,Qe.Z)(function*(){var r;const i="#_recoverAndRefresh()";t._debug(i,"begin");try{const s=yield WC(t.storage,t.storageKey);if(t._debug(i,"session from storage",s),!t._isValidSession(s))return t._debug(i,"session is not valid"),void(null!==s&&(yield t._removeSession()));const o=Math.round(Date.now()/1e3),a=(null!==(r=s.expires_at)&&void 0!==r?r:1/0)<o+10;if(t._debug(i,`session has${a?"":" not"} expired with margin of 10s`),a){if(t.autoRefreshToken&&s.refresh_token){const{error:l}=yield t._callRefreshToken(s.refresh_token);l&&(console.error(l),xF(l)||(t._debug(i,"refresh failed with a non-retryable error, removing the session",l),yield t._removeSession()))}}else yield t._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return t._debug(i,"error",s),void console.error(s)}finally{t._debug(i,"end")}})()}_callRefreshToken(t){var r=this;return(0,Qe.Z)(function*(){var i,s;if(!t)throw new vm;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(o,"begin");try{r.refreshingDeferred=new $C;const{data:a,error:l}=yield r._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new vm;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return r.refreshingDeferred.resolve(c),c}catch(a){if(r._debug(o,"error",a),or(a)){const l={session:null,error:a};return xF(a)||(yield r._removeSession(),yield r._notifyAllSubscribers("SIGNED_OUT",null)),null===(i=r.refreshingDeferred)||void 0===i||i.resolve(l),l}throw null===(s=r.refreshingDeferred)||void 0===s||s.reject(a),a}finally{r.refreshingDeferred=null,r._debug(o,"end")}})()}_notifyAllSubscribers(t,r,i=!0){var s=this;return(0,Qe.Z)(function*(){const o=`#_notifyAllSubscribers(${t})`;s._debug(o,"begin",r,`broadcast = ${i}`);try{s.broadcastChannel&&i&&s.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(s.stateChangeEmitters.values()).map(function(){var c=(0,Qe.Z)(function*(u){try{yield u.callback(t,r)}catch(A){a.push(A)}});return function(u){return c.apply(this,arguments)}}());if(yield Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{s._debug(o,"end")}})()}_saveSession(t){var r=this;return(0,Qe.Z)(function*(){r._debug("#_saveSession()",t),yield gd(r.storage,r.storageKey,t)})()}_removeSession(){var t=this;return(0,Qe.Z)(function*(){t._debug("#_removeSession()"),yield gF(t.storage,t.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ru()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return(0,Qe.Z)(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),hw);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout((0,Qe.Z)(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return(0,Qe.Z)(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return(0,Qe.Z)(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return(0,Qe.Z)(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return(0,Qe.Z)(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,(0,Qe.Z)(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var i=(0,Qe.Z)(function*(s){const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*o.expires_at-r)/hw);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(o.refresh_token))});return function(s){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof Jue))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return(0,Qe.Z)(function*(){if(t._debug("#_handleVisibilityChange()"),!ru()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=(0,Qe.Z)(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return(0,Qe.Z)(function*(){const i=`#_onVisibilityChanged(${t})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,(0,Qe.Z)(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r,i){var s=this;return(0,Qe.Z)(function*(){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===s.flowType){const a=gm();yield gd(s.storage,`${s.storageKey}-code-verifier`,a);const l=yield mm(a),c=a===l?"plain":"s256";s._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",l,"method",c);const u=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})()}_unenroll(t){var r=this;return(0,Qe.Z)(function*(){try{return yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o;const{data:a,error:l}=s;return l?{data:null,error:l}:yield gr(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(or(i))return{data:null,error:i};throw i}})()}_enroll(t){var r=this;return(0,Qe.Z)(function*(){try{return yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o,a;const{data:l,error:c}=s;if(c)return{data:null,error:c};const{data:u,error:A}=yield gr(r.fetch,"POST",`${r.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:r.headers,jwt:null===(o=l?.session)||void 0===o?void 0:o.access_token});return A?{data:null,error:A}:(!(null===(a=u?.totp)||void 0===a)&&a.qr_code&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(or(i))return{data:null,error:i};throw i}})()}_verify(t){var r=this;return(0,Qe.Z)(function*(){return r._acquireLock(-1,(0,Qe.Z)(function*(){try{return yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o;const{data:a,error:l}=s;if(l)return{data:null,error:l};const{data:c,error:u}=yield gr(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token});return u?{data:null,error:u}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(or(i))return{data:null,error:i};throw i}}))})()}_challenge(t){var r=this;return(0,Qe.Z)(function*(){return r._acquireLock(-1,(0,Qe.Z)(function*(){try{return yield r._useSession(function(){var i=(0,Qe.Z)(function*(s){var o;const{data:a,error:l}=s;return l?{data:null,error:l}:yield gr(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(or(i))return{data:null,error:i};throw i}}))})()}_challengeAndVerify(t){var r=this;return(0,Qe.Z)(function*(){const{data:i,error:s}=yield r._challenge({factorId:t.factorId});return s?{data:null,error:s}:yield r._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})()}_listFactors(){var t=this;return(0,Qe.Z)(function*(){const{data:{user:r},error:i}=yield t.getUser();if(i)return{data:null,error:i};const s=r?.factors||[],o=s.filter(a=>"totp"===a.factor_type&&"verified"===a.status);return{data:{all:s,totp:o},error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return(0,Qe.Z)(function*(){return t._acquireLock(-1,(0,Qe.Z)(function*(){return yield t._useSession(function(){var r=(0,Qe.Z)(function*(i){var s,o;const{data:{session:a},error:l}=i;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const c=t._decodeJWT(a.access_token);let u=null;c.aal&&(u=c.aal);let A=u;return(null!==(o=null===(s=a.user.factors)||void 0===s?void 0:s.filter(g=>"verified"===g.status))&&void 0!==o?o:[]).length>0&&(A="aal2"),{data:{currentLevel:u,nextLevel:A,currentAuthenticationMethods:c.amr||[]},error:null}});return function(i){return r.apply(this,arguments)}}())}))})()}}return n.nextInstanceID=0,n})();const iAe=rAe;class sAe extends iAe{constructor(e){super(e)}}class aAe{constructor(e,t,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=function Cue(n){return n.replace(/\/$/,"")}(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u=function Eue(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s)}}(r??{},{db:mue,realtime:yue,auth:Object.assign(Object.assign({},vue),{storageKey:l}),global:gue});this.storageKey=null!==(i=u.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(s=u.global.headers)&&void 0!==s?s:{},this.auth=this._initSupabaseAuthClient(null!==(o=u.auth)&&void 0!==o?o:{},this.headers,u.global.fetch),this.fetch=xue(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new H8(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Lce(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new due(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(A){o(A)}}function l(u){try{c(r.throw(u))}catch(A){o(A)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:a},l,c){var u;return new sAe({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),l),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:o,debug:a,fetch:c,hasCustomAuthorizationHeader:null!==(u="Authorization"in this.headers)&&void 0!==u&&u})}_initRealtimeClient(e){return new nue(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(r??null),this.changedAccessToken=r)}}let Pi=(()=>class n{static FBR_PL_STANDARD_STATS="fbr_pl_standard_stats";static FBR_PL_SHOOTING_STATS="fbr_pl_shooting_stats";static FBR_PL_PASSING_STATS="fbr_pl_passing_stats";static FBR_PL_PASSING_TYPES_STATS="fbr_pl_passing_types_stats";static FBR_PL_DEFENSE_STATS="fbr_pl_defense_stats";static FBR_PL_POSSESSION_STATS="fbr_pl_possession_stats";static FBR_PL_GOAL_SHOT_CREATION_STATS="fbr_pl_goal_shot_creation_stats";static FBR_PL_KEEPER_STATS="fbr_pl_keeper_stats";static FBR_PL_KEEPER_ADV_STATS="fbr_pl_keeper_adv_stats";static FBR_PL_PLAYING_TIME_STATS="fbr_pl_playing_time_stats";static FBR_PL_MISC_STATS="fbr_pl_misc_stats";static FBR_TM_STANDARD_STATS="fbr_tm_standard_stats";static FBR_TM_SHOOTING_STATS="fbr_tm_shooting_stats";static FBR_TM_PASSING_STATS="fbr_tm_passing_stats";static FBR_TM_PASSING_TYPES_STATS="fbr_tm_passing_types_stats";static FBR_TM_DEFENSE_STATS="fbr_tm_defense_stats";static FBR_TM_POSSESSION_STATS="fbr_tm_possession_stats";static FBR_TM_GOAL_SHOT_CREATION_STATS="fbr_tm_goal_shot_creation_stats";static FBR_TM_KEEPER_STATS="fbr_tm_keeper_stats";static FBR_TM_KEEPER_ADV_STATS="fbr_tm_keeper_adv_stats";static FBR_TM_PLAYING_TIME_STATS="fbr_tm_playing_time_stats";static FBR_TM_MISC_STATS="fbr_tm_misc_stats"})();let AAe=(()=>{class n{http;supabase;constructor(t){this.http=t,this.supabase=((n,e,t)=>new aAe(n,e,t))("https://xuzechgtuwfphulfsqhc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh1emVjaGd0dXdmcGh1bGZzcWhjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDE4MzQ2NTgsImV4cCI6MjAxNzQxMDY1OH0._KklYwKeQrkxjcqWKcmGf0CNjVZSVequFULr9skcyY8",{auth:{storage:localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}getPlayerStandardData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_STANDARD_STATS,t)})()}getPlayerShootingData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_SHOOTING_STATS,t)})()}getPlayerPassingData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_PASSING_STATS,t)})()}getPlayerPassingTypesData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_PASSING_TYPES_STATS,t)})()}getPlayerDefenseData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_DEFENSE_STATS,t)})()}getPlayerPossessionData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_POSSESSION_STATS,t)})()}getPlayerGoalShotCreationData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_GOAL_SHOT_CREATION_STATS,t)})()}getPlayerKeeperData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_KEEPER_STATS,t)})()}getPlayerKeeperAdvData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_KEEPER_ADV_STATS,t)})()}getPlayerPlayingTimeData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_PLAYING_TIME_STATS,t)})()}getPlayerMiscData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_PL_MISC_STATS,t)})()}getTeamStandardData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_STANDARD_STATS,t)})()}getTeamShootingData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_SHOOTING_STATS,t)})()}getTeamPassingData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_PASSING_STATS,t)})()}getTeamPassingTypesData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_PASSING_TYPES_STATS,t)})()}getTeamDefenseData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_DEFENSE_STATS,t)})()}getTeamPossessionData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_POSSESSION_STATS,t)})()}getTeamGoalShotCreationData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_GOAL_SHOT_CREATION_STATS,t)})()}getTeamKeeperData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_KEEPER_STATS,t)})()}getTeamKeeperAdvData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_KEEPER_ADV_STATS,t)})()}getTeamPlayingTimeData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_PLAYING_TIME_STATS,t)})()}getTeamMiscData(t){var r=this;return(0,Qe.Z)(function*(){return r.getData(Pi.FBR_TM_MISC_STATS,t)})()}getData(t,r){var i=this;return(0,Qe.Z)(function*(){try{const{data:s,error:o}=yield i.supabase.from(t).select("*").eq("player",r);return o?(console.error(`Error fetching data from ${t}:`,o),[]):s}catch(s){return console.error(`Error fetching data from ${t}:`,s),[]}})()}static \u0275fac=function(r){return new(r||n)(Tt(CI))};static \u0275prov=un({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cV=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(ft(Hu),ft(ao))}}static{this.\u0275dir=yn({type:n})}}return n})(),yd=(()=>{class n extends cV{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=vs(n)))(i||n)}}()}static{this.\u0275dir=yn({type:n,features:[Ur]})}}return n})();const iu=new Wt("NgValueAccessor"),fAe={provide:iu,useExisting:Rr(()=>XC),multi:!0},pAe=new Wt("CompositionEventMode");let XC=(()=>{class n extends cV{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dAe(){const n=ah()?ah().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(ft(Hu),ft(ao),ft(pAe,8))}}static{this.\u0275dir=yn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Bi("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ui([fAe]),Ur]})}}return n})();const vo=new Wt("NgValidators"),xh=new Wt("NgAsyncValidators");function wV(n){return null!=n}function _V(n){return ay(n)?pi(n):n}function bV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function xV(n,e){return e.map(t=>t(n))}function CV(n){return n.map(e=>function mAe(n){return!n.validate}(e)?e:t=>e.validate(t))}function TF(n){return null!=n?function EV(n){if(!n)return null;const e=n.filter(wV);return 0==e.length?null:function(t){return bV(xV(t,e))}}(CV(n)):null}function IF(n){return null!=n?function SV(n){if(!n)return null;const e=n.filter(wV);return 0==e.length?null:function(t){return U8(xV(t,e).map(_V)).pipe(ar(bV))}}(CV(n)):null}function BV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DF(n){return n?Array.isArray(n)?n:[n]:[]}function ZC(n,e){return Array.isArray(n)?n.includes(e):n===e}function IV(n,e){const t=DF(e);return DF(n).forEach(i=>{ZC(t,i)||t.push(i)}),t}function DV(n,e){return DF(e).filter(t=>!ZC(n,t))}class FV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ho extends FV{get formDirective(){return null}get path(){return null}}class Ch extends FV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class RV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let LV=(()=>{class n extends RV{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ft(Ch,2))}}static{this.\u0275dir=yn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qb("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ur]})}}return n})();const fw="VALID",e2="INVALID",_m="PENDING",dw="DISABLED";function t2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class OV{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fw}get invalid(){return this.status===e2}get pending(){return this.status==_m}get disabled(){return this.status===dw}get enabled(){return this.status!==dw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(IV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(DV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(DV(e,this._rawAsyncValidators))}hasValidator(e){return ZC(this._rawValidators,e)}hasAsyncValidator(e){return ZC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_m,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fw||this.status===_m)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dw:fw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_m,this._hasOwnPendingAsyncValidator=!0;const t=_V(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ei,this.statusChanges=new Ei}_calculateStatus(){return this._allControlsDisabled()?dw:this.errors?e2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_m)?_m:this._anyControlsHaveStatus(e2)?e2:fw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){t2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function bAe(n){return Array.isArray(n)?TF(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function xAe(n){return Array.isArray(n)?IF(n):n||null}(this._rawAsyncValidators)}}const bm=new Wt("CallSetDisabledState",{providedIn:"root",factory:()=>n2}),n2="always";function pw(n,e,t=n2){(function NF(n,e){const t=function MV(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(BV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function TV(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(BV(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();s2(e._rawValidators,i),s2(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function SAe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kV(n,e)})}(n,e),function MAe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function BAe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function EAe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function s2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function GV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const zV=class extends OV{constructor(e=null,t,r){super(function LF(n){return(t2(n)?n.validators:n)||null}(t),function UF(n,e){return(t2(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),t2(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=GV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},PAe={provide:Ch,useExisting:Rr(()=>VF)},$V=(()=>Promise.resolve())();let VF=(()=>{class n extends Ch{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new zV,this._registered=!1,this.name="",this.update=new Ei,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function HF(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===XC?t=s:function DAe(n){return Object.getPrototypeOf(n.constructor)===yd}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kF(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){$V.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Eg(r);$V.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function r2(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(ft(Ho,9),ft(vo,10),ft(xh,10),ft(iu,10),ft(tx,8),ft(bm,8))}}static{this.\u0275dir=yn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ui([PAe]),Ur,ks]})}}return n})(),qV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=gi({})}}return n})(),ahe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=gi({imports:[qV]})}}return n})(),mw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bm,useValue:t.callSetDisabledState??n2}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ei({type:n})}static{this.\u0275inj=gi({imports:[ahe]})}}return n})(),che=(()=>{class n{supabaseService;BRADYBALLUtil;statLine;radarChart;percentileRank;playerName="Kylian Mbapp\xe9";player=new Ele;playerStandardData;playerShootingData;playerPassingData;playerPassingTypesData;playerDefenseData;playerPossessionData;playerGoalShotCreationData;playerKeeperData;playerKeeperAdvData;playerPlayingTimeData;playerMiscData;combinedPlayerData={};radarChartModel=$D.createDefault();statLineModel=KD.createDefault();percentileRankModel=aF.createDefault();constructor(t,r){this.supabaseService=t,this.BRADYBALLUtil=r}ngOnInit(){var t=this;return(0,Qe.Z)(function*(){yield t.fetchPlayerData(t.playerName),t.createRadarChartModel(),t.createStatLineDataModel(),t.createPercentileRankModel()})()}fetchPlayerData(t){return Promise.all([this.supabaseService.getPlayerStandardData(t),this.supabaseService.getPlayerShootingData(t),this.supabaseService.getPlayerPassingData(t),this.supabaseService.getPlayerPassingTypesData(t),this.supabaseService.getPlayerDefenseData(t),this.supabaseService.getPlayerPossessionData(t),this.supabaseService.getPlayerGoalShotCreationData(t),this.supabaseService.getPlayerKeeperData(t),this.supabaseService.getPlayerKeeperAdvData(t),this.supabaseService.getPlayerPlayingTimeData(t),this.supabaseService.getPlayerMiscData(t)]).then(r=>{this.playerStandardData=r[0],this.playerShootingData=r[1],this.playerPassingData=r[2],this.playerPassingTypesData=r[3],this.playerDefenseData=r[4],this.playerPossessionData=r[5],this.playerGoalShotCreationData=r[6],this.playerKeeperData=r[7],this.playerKeeperAdvData=r[8],this.playerPlayingTimeData=r[9],this.playerMiscData=r[10],this.combinePlayerData(r)}).catch(r=>{console.error("Error fetching player data:",r)})}combinePlayerData(t){t.forEach(r=>{r.forEach(i=>{const s=i.season;this.combinedPlayerData[s]||(this.combinedPlayerData[s]={season:s,player:this.playerName}),this.combinedPlayerData[s]={...this.combinedPlayerData[s],...i}})})}createStatLineDataModel(){this.statLineModel=this.getMockData()}getMockData(){return{player:"Kylian Mbapp\xe9",title:"RECENT CAREER PERFORMANCE",rows:[{season:"2022-23",dataPoints:[{key:"Team",label:"Team",value:"Paris S-G"},{key:"League",label:"League",value:"FRA-Ligue 1"},{key:"Age",label:"Age",value:23},{key:"MatchesPlayed",label:"Matches",value:34},{key:"90sPlayed",label:"90s",value:31.3},{key:"Goals",label:"Goals",value:29},{key:"Assists",label:"Assists",value:5},{key:"GoalsAndAssits",label:"G+A",value:34},{key:"NonPenGoals",label:"nP-Goals",value:26},{key:"NonPenExpectedGoals",label:"npxG",value:22.2},{key:"ExpectedAssists",label:"xA",value:7.4},{key:"GoalsOverExpected",label:"G-xG",value:3.8}]},{season:"2023-24",dataPoints:[{key:"Team",label:"Team",value:"Paris S-G"},{key:"League",label:"League",value:"FRA-Ligue 1"},{key:"Age",label:"Age",value:25},{key:"MatchesPlayed",label:"Matches",value:29},{key:"90sPlayed",label:"90s",value:24},{key:"Goals",label:"Goals",value:27},{key:"Assists",label:"Assists",value:7},{key:"GoalsAndAssits",label:"G+A",value:34},{key:"NonPenGoals",label:"nP-Goals",value:21},{key:"NonPenExpectedGoals",label:"npxG",value:14.5},{key:"ExpectedAssists",label:"xA",value:5.7},{key:"GoalsOverExpected",label:"G-xG",value:6.5}]},{season:"Career",dataPoints:[{key:"Team",label:"Team",value:""},{key:"League",label:"League",value:""},{key:"Age",label:"Age",value:21},{key:"MatchesPlayed",label:"Matches",value:31},{key:"90sPlayed",label:"90s",value:26.4},{key:"Goals",label:"Goals",value:27},{key:"Assists",label:"Assists",value:7},{key:"GoalsAndAssits",label:"G+A",value:34},{key:"NonPenGoals",label:"nP-Goals",value:21},{key:"NonPenExpectedGoals",label:"npxG",value:17.4},{key:"ExpectedAssists",label:"xA",value:4.8},{key:"GoalsOverExpected",label:"G-xG",value:3.6}]}],information1:"* Led FRA-Ligue 1",information2:"# Led Big 5 European Leagues"}}createRadarChartModel(){const t=Object.keys(this.combinedPlayerData).sort().pop();if(!t)return;const r=this.combinedPlayerData[t];this.radarChartModel={player:r.player,league:r.league,season:"2023-24",team:r.team,age:r.age,position:r.position,born:r.born,nation:r.nation,minutes_90s:r.minutes_90s,dataPoints:[{key:"ExpectedAssistsP90",value:.5,scale:.5,color:"var(--bb-red-purple-color)",label:"EXPECTED ASSISTS"},{key:"NonPenExpectedGoalsP90",value:1,scale:1,color:"var(--bb-violet-color)",label:"NON-PEN xG"},{key:"NonPenGoalsP90",value:1,scale:1,color:"var(--bb-green-color)",label:"NON-PEN GOALS"},{key:"ShotsOnTargetP90",value:2.5,scale:2.5,color:"var(--bb-turquoise-color)",label:"SHOTS ON TARGET"},{key:"AerialPct",value:100,scale:100,color:"var(--bb-red-purple-color)",label:"AERIAL %"},{key:"ShotCreatingActionsP90",value:8,scale:8,color:"var(--bb-violet-color)",label:"SHOT CREATIONS"},{key:"BallWonP90",value:5,scale:5,color:"var(--bb-turquoise-color)",label:"POSSESSION WON"}]}}createPercentileRankModel(){this.percentileRankModel={percentile:22,description:"Out of 25 competitors, Mbappe ranked 4th overall in the 2023-24 season, placing him in the 88th percentile based on the seven key attributes evaulated in the attribute overview."}}saveRadarChart(){this.radarChart&&this.radarChart.saveSVG()}saveStatLine(){this.statLine&&this.statLine.saveSVG()}savePercentileRank(){this.percentileRank&&this.percentileRank.saveSVG()}static \u0275fac=function(r){return new(r||n)(ft(AAe),ft(aw))};static \u0275cmp=rs({type:n,selectors:[["player-search"]],viewQuery:function(r,i){if(1&r&&(ju(P8,5),ju(N8,5),ju(O8,5)),2&r){let s;Gc(s=zc())&&(i.statLine=s.first),Gc(s=zc())&&(i.radarChart=s.first),Gc(s=zc())&&(i.percentileRank=s.first)}},decls:31,vars:7,consts:[[1,"bb-header"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","col-lg-8"],[1,"search-container"],[1,"bb-card"],[1,"bb-card-content"],["type","text","placeholder","Search for a player...",1,"form-control","bb-text-league-spartan",3,"ngModel","ngModelChange","keyup.enter"],[1,"py-4"],[3,"data"],[1,"bb-card-actions"],[1,"bb-button",3,"disabled","click"]],template:function(r,i){1&r&&(it(0,"div")(1,"header",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),Bi("ngModelChange",function(o){return i.playerName=o})("keyup.enter",function(){return i.fetchPlayerData(i.playerName)}),tt()()()()()()()(),it(9,"main",8)(10,"div",1)(11,"div",2)(12,"div",3)(13,"div",5)(14,"div",6),Si(15,"stat-line",9),tt(),it(16,"div",10)(17,"button",11),Bi("click",function(){return i.saveStatLine()}),_t(18," Save Stat Line "),tt()()(),it(19,"div",5)(20,"div",6),Si(21,"radar-chart",9),tt(),it(22,"div",10)(23,"button",11),Bi("click",function(){return i.saveRadarChart()}),_t(24," Save Radar Chart "),tt()()(),it(25,"div",5)(26,"div",6),Si(27,"percentile-rank",9),tt(),it(28,"div",10)(29,"button",11),Bi("click",function(){return i.savePercentileRank()}),_t(30," Save Percentile Rank "),tt()()()()()()()()),2&r&&(_n(8),Wr("ngModel",i.playerName),_n(7),Wr("data",i.statLineModel),_n(2),Wr("disabled",!(null!=i.statLine&&i.statLine.tableReady)),_n(4),Wr("data",i.radarChartModel),_n(2),Wr("disabled",!(null!=i.radarChart&&i.radarChart.chartReady)),_n(4),Wr("data",i.percentileRankModel),_n(2),Wr("disabled",!(null!=i.percentileRank&&i.percentileRank.gaugeReady)))},dependencies:[XC,LV,VF,N8,P8,O8]})}return n})();const uhe=function(n){return{expanded:n}};let qF=(()=>{class n{isCollapsed=!1;constructor(){}refreshPage(){window.location.reload()}onHeaderCollapseChanged(t){this.isCollapsed=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rs({type:n,selectors:[["player-analysis-screen"]],decls:11,vars:3,consts:[[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-auto"],[3,"collapseChanged"],[1,"col","main-content",3,"ngClass"],[1,"bb-page-header"],[1,"col","px-0"]],template:function(r,i){1&r&&(it(0,"div",0)(1,"div",1)(2,"div",2)(3,"BRADYBALL-header",3),Bi("collapseChanged",function(o){return i.onHeaderCollapseChanged(o)}),tt()(),it(4,"div",4)(5,"div",5)(6,"h1"),_t(7,"Player Analysis"),tt()(),it(8,"div",6),Si(9,"player-search"),tt(),Si(10,"BRADYBALL-footer"),tt()()()),2&r&&(_n(4),Wr("ngClass",Yf(1,uhe,i.isCollapsed)))},dependencies:[Bg,CD,ED,che]})}return n})(),Ahe=(()=>{class n{isSettingsOpen=!1;ngOnInit(){}toggleSettings(){this.isSettingsOpen=!this.isSettingsOpen}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rs({type:n,selectors:[["app-header"]],decls:10,vars:0,consts:[[1,"bb-header"],[1,"bb-header-left"],["routerLink","/player-analysis",1,"bb-nav-item"],[1,"bb-header-center"],["routerLink","/",1,"bb-brand"],[1,"bb-header-right"],["routerLink","/about",1,"bb-nav-item"]],template:function(r,i){1&r&&(it(0,"header",0)(1,"div",1)(2,"a",2),_t(3,"Player Analysis"),tt()(),it(4,"div",3)(5,"a",4),_t(6,"BRADYBALL"),tt()(),it(7,"div",5)(8,"a",6),_t(9,"About"),tt()()())},dependencies:[Vg],styles:['.bb-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000000 0%,#1a1a1a 100%);border-bottom:2px solid var(--bb-blue-color);position:fixed;top:0;left:0;right:0;z-index:50;overflow:hidden;padding:1rem 2rem;min-height:80px;display:flex;align-items:center;justify-content:space-between;pointer-events:none}.bb-header[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:linear-gradient(rgba(64,94,155,.1) 1px,transparent 1px),linear-gradient(90deg,rgba(64,94,155,.1) 1px,transparent 1px);background-size:20px 20px;pointer-events:none}.bb-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;z-index:10;position:absolute;left:20%;transform:translate(-50%);pointer-events:auto}.bb-header-center[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:10;pointer-events:auto}.bb-header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;z-index:10;position:absolute;right:20%;transform:translate(50%);pointer-events:auto}.bb-brand[_ngcontent-%COMP%]{font-family:var(--font-berkeley-mono);font-size:2rem;font-weight:700;color:var(--bb-white-color);text-transform:uppercase;letter-spacing:4px;text-decoration:none;transition:all .3s ease}.bb-brand[_ngcontent-%COMP%]:hover{color:var(--bb-white-color)}.bb-nav-item[_ngcontent-%COMP%]{font-family:var(--font-berkeley-mono);font-size:.875rem;color:#d1d5db;text-transform:none;letter-spacing:1px;text-decoration:none;padding:.5rem 1rem;border:none;transition:all .3s ease;background:none;position:relative;cursor:pointer}.bb-nav-item[_ngcontent-%COMP%]:hover, .bb-nav-item.active[_ngcontent-%COMP%]{color:var(--bb-white-color);border-bottom:2px solid var(--bb-white-color)}.bb-settings-container[_ngcontent-%COMP%]{position:relative}.bb-settings-btn[_ngcontent-%COMP%]{background:none;border:none}.bb-settings-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:100%;margin-top:1rem;width:200px;background:#000000;border:1px solid var(--bb-blue-color);z-index:100}.bb-settings-item[_ngcontent-%COMP%]{padding:.75rem 1rem;font-family:var(--font-berkeley-mono);font-size:.75rem;color:#d1d5db;cursor:pointer;transition:all .3s ease}.bb-settings-item[_ngcontent-%COMP%]:hover{background:rgba(64,94,155,.2);color:var(--bb-white-color)}@media (max-width: 768px){.bb-header[_ngcontent-%COMP%]{flex-direction:row;padding:1rem;justify-content:space-between}.bb-header-left[_ngcontent-%COMP%]{position:static;transform:none;order:1}.bb-header-center[_ngcontent-%COMP%]{position:static;transform:none;order:2;flex:1;text-align:center}.bb-header-right[_ngcontent-%COMP%]{position:static;transform:none;order:3}.bb-brand[_ngcontent-%COMP%]{font-size:1.5rem;letter-spacing:2px}.bb-nav-item[_ngcontent-%COMP%]{font-size:.75rem;padding:.4rem .8rem}}@media (max-width: 480px){.bb-header[_ngcontent-%COMP%]{padding:.75rem}.bb-brand[_ngcontent-%COMP%]{font-size:1.25rem;letter-spacing:1px}.bb-header-left[_ngcontent-%COMP%], .bb-header-right[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.bb-nav-item[_ngcontent-%COMP%]{font-size:.7rem;padding:.3rem .6rem}}']})}return n})();const dG=1,dhe=2,iA=3,a2=0,Rhe=1,Lhe=2,Bh=0,Uhe=1,Phe=2,Nhe=3,Ohe=4,khe=5,Hhe=6,Qhe=7,Mh=301,bd=302,vw=306,uc=1001,yo=1003,_s=1006,su=1008,ou=1009,wG=1010,_G=1011,ww=1012,a5=1013,Th=1014,Qa=1015,_w=1016,l5=1017,c5=1018,bw=1020,bG=35902,xG=1021,CG=1022,la=1023,xw=1026,Cw=1027,u5=1028,f2=1029,EG=1030,A5=1031,h5=1033,d2=33776,p2=33777,g2=33778,m2=33779,f5=35840,d5=35841,p5=35842,g5=35843,m5=36196,v5=37492,y5=37496,w5=37808,_5=37809,b5=37810,x5=37811,C5=37812,E5=37813,S5=37814,B5=37815,M5=37816,T5=37817,I5=37818,D5=37819,F5=37820,R5=37821,v2=36492,L5=36494,U5=36495,SG=36283,P5=36284,N5=36285,O5=36286,Va="srgb",Bm="srgb-linear",_2="linear",$r="srgb",Mm=7680,IG="300 es",Ac=2e3;class Tm{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return void 0!==r&&void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){const r=this._listeners;if(void 0===r)return;const i=r[e];if(void 0!==i){const s=i.indexOf(t);-1!==s&&i.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const r=t[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const wo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Cd=Math.PI/180,Im=180/Math.PI;function Ga(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(wo[255&n]+wo[n>>8&255]+wo[n>>16&255]+wo[n>>24&255]+"-"+wo[255&e]+wo[e>>8&255]+"-"+wo[e>>16&15|64]+wo[e>>24&255]+"-"+wo[63&t|128]+wo[t>>8&255]+"-"+wo[t>>16&255]+wo[t>>24&255]+wo[255&r]+wo[r>>8&255]+wo[r>>16&255]+wo[r>>24&255]).toLowerCase()}function Pn(n,e,t){return Math.max(e,Math.min(t,n))}function Ew(n,e,t){return(1-t)*n+t*e}function Qo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function zn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class pt{constructor(e=0,t=0){pt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Pn(this.x,e.x,t.x),this.y=Pn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Pn(this.x,e,t),this.y=Pn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class za{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],A=r[i+3];const f=s[o+0],h=s[o+1],g=s[o+2],w=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=A);if(1===a)return e[t+0]=f,e[t+1]=h,e[t+2]=g,void(e[t+3]=w);if(A!==w||l!==f||c!==h||u!==g){let v=1-a;const p=l*f+c*h+u*g+A*w,C=p>=0?1:-1,E=1-p*p;if(E>Number.EPSILON){const U=Math.sqrt(E),k=Math.atan2(U,p*C);v=Math.sin(v*k)/U,a=Math.sin(a*k)/U}const B=a*C;if(l=l*v+f*B,c=c*v+h*B,u=u*v+g*B,A=A*v+w*B,v===1-a){const U=1/Math.sqrt(l*l+c*c+u*u+A*A);l*=U,c*=U,u*=U,A*=U}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=A}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],A=s[o],f=s[o+1],h=s[o+2],g=s[o+3];return e[t]=a*g+u*A+l*h-c*f,e[t+1]=l*g+u*f+c*A-a*h,e[t+2]=c*g+u*h+a*f-l*A,e[t+3]=u*g-a*A-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),A=a(s/2),f=l(r/2),h=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=f*u*A+c*h*g,this._y=c*h*A-f*u*g,this._z=c*u*g+f*h*A,this._w=c*u*A-f*h*g;break;case"YXZ":this._x=f*u*A+c*h*g,this._y=c*h*A-f*u*g,this._z=c*u*g-f*h*A,this._w=c*u*A+f*h*g;break;case"ZXY":this._x=f*u*A-c*h*g,this._y=c*h*A+f*u*g,this._z=c*u*g+f*h*A,this._w=c*u*A-f*h*g;break;case"ZYX":this._x=f*u*A-c*h*g,this._y=c*h*A+f*u*g,this._z=c*u*g-f*h*A,this._w=c*u*A+f*h*g;break;case"YZX":this._x=f*u*A+c*h*g,this._y=c*h*A+f*u*g,this._z=c*u*g-f*h*A,this._w=c*u*A-f*h*g;break;case"XZY":this._x=f*u*A-c*h*g,this._y=c*h*A-f*u*g,this._z=c*u*g+f*h*A,this._w=c*u*A+f*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],A=t[10],f=r+a+A;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(o-i)*h}else if(r>a&&r>A){const h=2*Math.sqrt(1+r-a-A);this._w=(u-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(s+c)/h}else if(a>A){const h=2*Math.sqrt(1+a-r-A);this._w=(s-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+A-r-a);this._w=(o-i)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-t;return this._w=h*o+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),A=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*A+this._w*f,this._x=r*A+this._x*f,this._y=i*A+this._y*f,this._z=s*A+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class he{constructor(e=0,t=0,r=0){he.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(FG.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(FG.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),A=2*(s*r-o*t);return this.x=t+l*c+o*A-a*u,this.y=r+l*u+a*c-s*A,this.z=i+l*A+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Pn(this.x,e.x,t.x),this.y=Pn(this.y,e.y,t.y),this.z=Pn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Pn(this.x,e,t),this.y=Pn(this.y,e,t),this.z=Pn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return G5.copy(this).projectOnVector(e),this.sub(G5)}reflect(e){return this.sub(G5.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const G5=new he,FG=new za;class jn{constructor(e,t,r,i,s,o,a,l,c){jn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],A=r[7],f=r[2],h=r[5],g=r[8],w=i[0],v=i[3],p=i[6],C=i[1],E=i[4],B=i[7],U=i[2],k=i[5],H=i[8];return s[0]=o*w+a*C+l*U,s[3]=o*v+a*E+l*k,s[6]=o*p+a*B+l*H,s[1]=c*w+u*C+A*U,s[4]=c*v+u*E+A*k,s[7]=c*p+u*B+A*H,s[2]=f*w+h*C+g*U,s[5]=f*v+h*E+g*k,s[8]=f*p+h*B+g*H,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],A=u*o-a*c,f=a*l-u*s,h=c*s-o*l,g=t*A+r*f+i*h;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);const w=1/g;return e[0]=A*w,e[1]=(i*c-u*r)*w,e[2]=(a*r-i*o)*w,e[3]=f*w,e[4]=(u*t-i*l)*w,e[5]=(i*s-a*t)*w,e[6]=h*w,e[7]=(r*l-c*t)*w,e[8]=(o*t-r*s)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(z5.makeScale(e,t)),this}rotate(e){return this.premultiply(z5.makeRotation(-e)),this}translate(e,t){return this.premultiply(z5.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const z5=new jn;function RG(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function Sw(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function yfe(){const n=Sw("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const LG={};function Fm(n){n in LG||(LG[n]=!0,console.warn(n))}const UG=(new jn).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),PG=(new jn).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function xfe(){const n={enabled:!0,workingColorSpace:Bm,spaces:{},convert:function(i,s,o){return!1===this.enabled||s===o||!s||!o||(this.spaces[s].transfer===$r&&(i.r=oA(i.r),i.g=oA(i.g),i.b=oA(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===$r&&(i.r=Rm(i.r),i.g=Rm(i.g),i.b=Rm(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return""===i?_2:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Fm("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Fm("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Bm]:{primaries:e,whitePoint:r,transfer:_2,toXYZ:UG,fromXYZ:PG,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Va},outputColorSpaceConfig:{drawingBufferColorSpace:Va}},[Va]:{primaries:e,whitePoint:r,transfer:$r,toXYZ:UG,fromXYZ:PG,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Va}}}),n}const _r=xfe();function oA(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function Rm(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let Lm;class Cfe{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{void 0===Lm&&(Lm=Sw("canvas")),Lm.width=e.width,Lm.height=e.height;const i=Lm.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Lm}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Sw("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=255*oA(s[o]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*oA(t[r]/255)):oA(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Efe=0;class Ed{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Efe++}),this.uuid=Ga(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)s.push(j5(i[o].isDataTexture?i[o].image:i[o]))}else s=j5(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function j5(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Cfe.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sfe=0;const W5=new he;let au=(()=>{class n extends Tm{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=uc,s=uc,o=_s,a=su,l=la,c=ou,u=n.DEFAULT_ANISOTROPY,A=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sfe++}),this.uuid=Ga(),this.name="",this.source=new Ed(t),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new pt(0,0),this.repeat=new pt(1,1),this.center=new pt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=A,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(W5).x}get height(){return this.source.getSize(W5).y}get depth(){return this.source.getSize(W5).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,r){this.updateRanges.push({start:t,count:r})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const r in t){const i=t[r];if(void 0===i){console.warn(`THREE.Texture.setValues(): parameter '${r}' has value of undefined.`);continue}const s=this[r];void 0!==s?s&&i&&s.isVector2&&i.isVector2||s&&i&&s.isVector3&&i.isVector3||s&&i&&s.isMatrix3&&i.isMatrix3?s.copy(i):this[r]=i:console.warn(`THREE.Texture.setValues(): property '${r}' does not exist.`)}}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case uc:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case uc:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class Er{constructor(e=0,t=0,r=0,i=1){Er.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],A=l[8],f=l[1],h=l[5],g=l[9],w=l[2],v=l[6],p=l[10];if(Math.abs(u-f)<.01&&Math.abs(A-w)<.01&&Math.abs(g-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(A+w)<.1&&Math.abs(g+v)<.1&&Math.abs(c+h+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(c+1)/2,B=(h+1)/2,U=(p+1)/2,k=(u+f)/4,H=(A+w)/4,P=(g+v)/4;return E>B&&E>U?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=k/r,s=H/r):B>U?B<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(B),r=k/i,s=P/i):U<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(U),r=H/s,i=P/s),this.set(r,i,s,t),this}let C=Math.sqrt((v-g)*(v-g)+(A-w)*(A-w)+(f-u)*(f-u));return Math.abs(C)<.001&&(C=1),this.x=(v-g)/C,this.y=(A-w)/C,this.z=(f-u)/C,this.w=Math.acos((c+h+p-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Pn(this.x,e.x,t.x),this.y=Pn(this.y,e.y,t.y),this.z=Pn(this.z,e.z,t.z),this.w=Pn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Pn(this.x,e,t),this.y=Pn(this.y,e,t),this.z=Pn(this.z,e,t),this.w=Pn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Pn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Bfe extends Tm{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:_s,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new Er(0,0,e,t),this.scissorTest=!1,this.viewport=new Er(0,0,e,t);const s=new au({width:e,height:t,depth:r.depth});this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:_s,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new Ed(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sd extends Bfe{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class $5 extends au{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=yo,this.minFilter=yo,this.wrapR=uc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class K5 extends au{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=yo,this.minFilter=yo,this.wrapR=uc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Vo{constructor(e=new he(1/0,1/0,1/0),t=new he(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(hc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(hc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=hc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r){const s=r.getAttribute("position");if(!0===t&&void 0!==s&&!0!==e.isInstancedMesh)for(let o=0,a=s.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,hc):hc.fromBufferAttribute(s,o),hc.applyMatrix4(e.matrixWorld),this.expandByPoint(hc);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),C2.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),C2.copy(r.boundingBox)),C2.applyMatrix4(e.matrixWorld),this.union(C2)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,hc),hc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Bw),E2.subVectors(this.max,Bw),Um.subVectors(e.a,Bw),Pm.subVectors(e.b,Bw),Nm.subVectors(e.c,Bw),Dh.subVectors(Pm,Um),Fh.subVectors(Nm,Pm),Bd.subVectors(Um,Nm);let t=[0,-Dh.z,Dh.y,0,-Fh.z,Fh.y,0,-Bd.z,Bd.y,Dh.z,0,-Dh.x,Fh.z,0,-Fh.x,Bd.z,0,-Bd.x,-Dh.y,Dh.x,0,-Fh.y,Fh.x,0,-Bd.y,Bd.x,0];return!(!q5(t,Um,Pm,Nm,E2)||(t=[1,0,0,0,1,0,0,0,1],!q5(t,Um,Pm,Nm,E2)))&&(S2.crossVectors(Dh,Fh),t=[S2.x,S2.y,S2.z],q5(t,Um,Pm,Nm,E2))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,hc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(hc).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(aA[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),aA[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),aA[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),aA[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),aA[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),aA[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),aA[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),aA[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(aA)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const aA=[new he,new he,new he,new he,new he,new he,new he,new he],hc=new he,C2=new Vo,Um=new he,Pm=new he,Nm=new he,Dh=new he,Fh=new he,Bd=new he,Bw=new he,E2=new he,S2=new he,Md=new he;function q5(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Md.fromArray(n,s);const a=i.x*Math.abs(Md.x)+i.y*Math.abs(Md.y)+i.z*Math.abs(Md.z),l=e.dot(Md),c=t.dot(Md),u=r.dot(Md);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Mfe=new Vo,Mw=new he,X5=new he;class _o{constructor(e=new he,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):Mfe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Mw.subVectors(e,this.center);const t=Mw.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.addScaledVector(Mw,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(X5.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Mw.copy(e.center).add(X5)),this.expandByPoint(Mw.copy(e.center).sub(X5))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const lA=new he,Y5=new he,B2=new he,Rh=new he,Z5=new he,M2=new he,J5=new he;class Tw{constructor(e=new he,t=new he(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,lA)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=lA.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(lA.copy(this.origin).addScaledVector(this.direction,t),lA.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Y5.copy(e).add(t).multiplyScalar(.5),B2.copy(t).sub(e).normalize(),Rh.copy(this.origin).sub(Y5);const s=.5*e.distanceTo(t),o=-this.direction.dot(B2),a=Rh.dot(this.direction),l=-Rh.dot(B2),c=Rh.lengthSq(),u=Math.abs(1-o*o);let A,f,h,g;if(u>0)if(A=o*l-a,f=o*a-l,g=s*u,A>=0)if(f>=-g)if(f<=g){const w=1/u;A*=w,f*=w,h=A*(A+o*f+2*a)+f*(o*A+f+2*l)+c}else f=s,A=Math.max(0,-(o*f+a)),h=-A*A+f*(f+2*l)+c;else f=-s,A=Math.max(0,-(o*f+a)),h=-A*A+f*(f+2*l)+c;else f<=-g?(A=Math.max(0,-(-o*s+a)),f=A>0?-s:Math.min(Math.max(-s,-l),s),h=-A*A+f*(f+2*l)+c):f<=g?(A=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(A=Math.max(0,-(o*s+a)),f=A>0?s:Math.min(Math.max(-s,-l),s),h=-A*A+f*(f+2*l)+c);else f=o>0?-s:s,A=Math.max(0,-(o*f+a)),h=-A*A+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,A),i&&i.copy(Y5).addScaledVector(B2,f),h}intersectSphere(e,t){lA.subVectors(e.center,this.origin);const r=lA.dot(this.direction),i=lA.dot(lA)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,A=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),A>=0?(a=(e.min.z-f.z)*A,l=(e.max.z-f.z)*A):(a=(e.max.z-f.z)*A,l=(e.min.z-f.z)*A),r>l||a>i)||((a>r||r!=r)&&(r=a),(l<i||i!=i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,lA)}intersectTriangle(e,t,r,i,s){Z5.subVectors(t,e),M2.subVectors(r,e),J5.crossVectors(Z5,M2);let a,o=this.direction.dot(J5);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Rh.subVectors(this.origin,e);const l=a*this.direction.dot(M2.crossVectors(Rh,M2));if(l<0)return null;const c=a*this.direction.dot(Z5.cross(Rh));if(c<0||l+c>o)return null;const u=-a*Rh.dot(J5);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class gn{constructor(e,t,r,i,s,o,a,l,c,u,A,f,h,g,w,v){gn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c,u,A,f,h,g,w,v)}set(e,t,r,i,s,o,a,l,c,u,A,f,h,g,w,v){const p=this.elements;return p[0]=e,p[4]=t,p[8]=r,p[12]=i,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=u,p[10]=A,p[14]=f,p[3]=h,p[7]=g,p[11]=w,p[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new gn).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Om.setFromMatrixColumn(e,0).length(),s=1/Om.setFromMatrixColumn(e,1).length(),o=1/Om.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),A=Math.sin(s);if("XYZ"===e.order){const f=o*u,h=o*A,g=a*u,w=a*A;t[0]=l*u,t[4]=-l*A,t[8]=c,t[1]=h+g*c,t[5]=f-w*c,t[9]=-a*l,t[2]=w-f*c,t[6]=g+h*c,t[10]=o*l}else if("YXZ"===e.order){const f=l*u,h=l*A,g=c*u,w=c*A;t[0]=f+w*a,t[4]=g*a-h,t[8]=o*c,t[1]=o*A,t[5]=o*u,t[9]=-a,t[2]=h*a-g,t[6]=w+f*a,t[10]=o*l}else if("ZXY"===e.order){const f=l*u,h=l*A,g=c*u,w=c*A;t[0]=f-w*a,t[4]=-o*A,t[8]=g+h*a,t[1]=h+g*a,t[5]=o*u,t[9]=w-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const f=o*u,h=o*A,g=a*u,w=a*A;t[0]=l*u,t[4]=g*c-h,t[8]=f*c+w,t[1]=l*A,t[5]=w*c+f,t[9]=h*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const f=o*l,h=o*c,g=a*l,w=a*c;t[0]=l*u,t[4]=w-f*A,t[8]=g*A+h,t[1]=A,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=h*A+g,t[10]=f-w*A}else if("XZY"===e.order){const f=o*l,h=o*c,g=a*l,w=a*c;t[0]=l*u,t[4]=-A,t[8]=c*u,t[1]=f*A+w,t[5]=o*u,t[9]=h*A-g,t[2]=g*A-h,t[6]=a*u,t[10]=w*A+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Tfe,e,Ife)}lookAt(e,t,r){const i=this.elements;return ja.subVectors(e,t),0===ja.lengthSq()&&(ja.z=1),ja.normalize(),Lh.crossVectors(r,ja),0===Lh.lengthSq()&&(1===Math.abs(r.z)?ja.x+=1e-4:ja.z+=1e-4,ja.normalize(),Lh.crossVectors(r,ja)),Lh.normalize(),T2.crossVectors(ja,Lh),i[0]=Lh.x,i[4]=T2.x,i[8]=ja.x,i[1]=Lh.y,i[5]=T2.y,i[9]=ja.y,i[2]=Lh.z,i[6]=T2.z,i[10]=ja.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],A=r[5],f=r[9],h=r[13],g=r[2],w=r[6],v=r[10],p=r[14],C=r[3],E=r[7],B=r[11],U=r[15],k=i[0],H=i[4],P=i[8],L=i[12],D=i[1],I=i[5],O=i[9],V=i[13],R=i[2],J=i[6],W=i[10],ae=i[14],Z=i[3],Ae=i[7],ge=i[11],Te=i[15];return s[0]=o*k+a*D+l*R+c*Z,s[4]=o*H+a*I+l*J+c*Ae,s[8]=o*P+a*O+l*W+c*ge,s[12]=o*L+a*V+l*ae+c*Te,s[1]=u*k+A*D+f*R+h*Z,s[5]=u*H+A*I+f*J+h*Ae,s[9]=u*P+A*O+f*W+h*ge,s[13]=u*L+A*V+f*ae+h*Te,s[2]=g*k+w*D+v*R+p*Z,s[6]=g*H+w*I+v*J+p*Ae,s[10]=g*P+w*O+v*W+p*ge,s[14]=g*L+w*V+v*ae+p*Te,s[3]=C*k+E*D+B*R+U*Z,s[7]=C*H+E*I+B*J+U*Ae,s[11]=C*P+E*O+B*W+U*ge,s[15]=C*L+E*V+B*ae+U*Te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],A=e[6],f=e[10],h=e[14];return e[3]*(+s*l*A-i*c*A-s*a*f+r*c*f+i*a*h-r*l*h)+e[7]*(+t*l*h-t*c*f+s*o*f-i*o*h+i*c*u-s*l*u)+e[11]*(+t*c*A-t*a*h-s*o*A+r*o*h+s*a*u-r*c*u)+e[15]*(-i*a*u-t*l*A+t*a*f+i*o*A-r*o*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],A=e[9],f=e[10],h=e[11],g=e[12],w=e[13],v=e[14],p=e[15],C=A*v*c-w*f*c+w*l*h-a*v*h-A*l*p+a*f*p,E=g*f*c-u*v*c-g*l*h+o*v*h+u*l*p-o*f*p,B=u*w*c-g*A*c+g*a*h-o*w*h-u*a*p+o*A*p,U=g*A*l-u*w*l-g*a*f+o*w*f+u*a*v-o*A*v,k=t*C+r*E+i*B+s*U;if(0===k)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/k;return e[0]=C*H,e[1]=(w*f*s-A*v*s-w*i*h+r*v*h+A*i*p-r*f*p)*H,e[2]=(a*v*s-w*l*s+w*i*c-r*v*c-a*i*p+r*l*p)*H,e[3]=(A*l*s-a*f*s-A*i*c+r*f*c+a*i*h-r*l*h)*H,e[4]=E*H,e[5]=(u*v*s-g*f*s+g*i*h-t*v*h-u*i*p+t*f*p)*H,e[6]=(g*l*s-o*v*s-g*i*c+t*v*c+o*i*p-t*l*p)*H,e[7]=(o*f*s-u*l*s+u*i*c-t*f*c-o*i*h+t*l*h)*H,e[8]=B*H,e[9]=(g*A*s-u*w*s-g*r*h+t*w*h+u*r*p-t*A*p)*H,e[10]=(o*w*s-g*a*s+g*r*c-t*w*c-o*r*p+t*a*p)*H,e[11]=(u*a*s-o*A*s-u*r*c+t*A*c+o*r*h-t*a*h)*H,e[12]=U*H,e[13]=(u*w*i-g*A*i+g*r*f-t*w*f-u*r*v+t*A*v)*H,e[14]=(g*a*i-o*w*i-g*r*l+t*w*l+o*r*v-t*a*v)*H,e[15]=(o*A*i-u*a*i+u*r*l-t*A*l-o*r*f+t*a*f)*H,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,A=a+a,f=s*c,h=s*u,g=s*A,w=o*u,v=o*A,p=a*A,C=l*c,E=l*u,B=l*A,U=r.x,k=r.y,H=r.z;return i[0]=(1-(w+p))*U,i[1]=(h+B)*U,i[2]=(g-E)*U,i[3]=0,i[4]=(h-B)*k,i[5]=(1-(f+p))*k,i[6]=(v+C)*k,i[7]=0,i[8]=(g+E)*H,i[9]=(v-C)*H,i[10]=(1-(f+w))*H,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Om.set(i[0],i[1],i[2]).length();const o=Om.set(i[4],i[5],i[6]).length(),a=Om.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],fc.copy(this);const c=1/s,u=1/o,A=1/a;return fc.elements[0]*=c,fc.elements[1]*=c,fc.elements[2]*=c,fc.elements[4]*=u,fc.elements[5]*=u,fc.elements[6]*=u,fc.elements[8]*=A,fc.elements[9]*=A,fc.elements[10]*=A,t.setFromRotationMatrix(fc),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=Ac){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),A=(t+e)/(t-e),f=(r+i)/(r-i);let h,g;if(a===Ac)h=-(o+s)/(o-s),g=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-s),g=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=A,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=Ac){const l=this.elements,c=1/(t-e),u=1/(r-i),A=1/(o-s),f=(t+e)*c,h=(r+i)*u;let g,w;if(a===Ac)g=(o+s)*A,w=-2*A;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);g=s*A,w=-1*A}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=w,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Om=new he,fc=new gn,Tfe=new he(0,0,0),Ife=new he(1,1,1),Lh=new he,T2=new he,ja=new he,NG=new gn,OG=new za;let lu=(()=>{class n{constructor(t=0,r=0,i=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,s=this._order){return this._x=t,this._y=r,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],A=s[9],f=s[2],h=s[6],g=s[10];switch(r){case"XYZ":this._y=Math.asin(Pn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-A,g),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Pn(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(l,g),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Pn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,g),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Pn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,g),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Pn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-A,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,g));break;case"XZY":this._z=Math.asin(-Pn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-A,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return NG.makeRotationFromQuaternion(t),this.setFromRotationMatrix(NG,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return OG.setFromEuler(this),this.setFromQuaternion(OG,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class eR{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Dfe=0;const kG=new he,km=new za,cA=new gn,I2=new he,Iw=new he,Ffe=new he,Rfe=new za,HG=new he(1,0,0),QG=new he(0,1,0),VG=new he(0,0,1),GG={type:"added"},Lfe={type:"removed"},Hm={type:"childadded",child:null},tR={type:"childremoved",child:null};let Go=(()=>{class n extends Tm{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Dfe++}),this.uuid=Ga(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new he,r=new lu,i=new za,s=new he(1,1,1);r._onChange(function o(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new gn},normalMatrix:{value:new jn}}),this.matrix=new gn,this.matrixWorld=new gn,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new eR,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return km.setFromAxisAngle(t,r),this.quaternion.multiply(km),this}rotateOnWorldAxis(t,r){return km.setFromAxisAngle(t,r),this.quaternion.premultiply(km),this}rotateX(t){return this.rotateOnAxis(HG,t)}rotateY(t){return this.rotateOnAxis(QG,t)}rotateZ(t){return this.rotateOnAxis(VG,t)}translateOnAxis(t,r){return kG.copy(t).applyQuaternion(this.quaternion),this.position.add(kG.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(HG,t)}translateY(t){return this.translateOnAxis(QG,t)}translateZ(t){return this.translateOnAxis(VG,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(cA.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?I2.copy(t):I2.set(t,r,i);const s=this.parent;this.updateWorldMatrix(!0,!1),Iw.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?cA.lookAt(Iw,I2,this.up):cA.lookAt(I2,Iw,this.up),this.quaternion.setFromRotationMatrix(cA),s&&(cA.extractRotation(s.matrixWorld),km.setFromRotationMatrix(cA),this.quaternion.premultiply(km.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(GG),Hm.child=t,this.dispatchEvent(Hm),Hm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(Lfe),tR.child=t,this.dispatchEvent(tR),tR.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),cA.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),cA.multiply(t.parent.matrixWorld)),t.applyMatrix4(cA),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(GG),Hm.child=t,this.dispatchEvent(Hm),Hm.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getObjectsByProperty(t,r,i=[]){this[t]===r&&i.push(this);const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].getObjectsByProperty(t,r,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Iw,t,Ffe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Iw,Rfe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===r){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(l=>({...l})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(t),s.indirectTexture=this._indirectTexture.toJSON(t),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(s.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(s.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,A=c.length;u<A;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(r){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),A=a(t.images),f=a(t.shapes),h=a(t.skeletons),g=a(t.animations),w=a(t.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),A.length>0&&(i.images=A),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),g.length>0&&(i.animations=g),w.length>0&&(i.nodes=w)}return i.object=s,i;function a(l){const c=[];for(const u in l){const A=l[u];delete A.metadata,c.push(A)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DEFAULT_UP=new he(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const dc=new he,uA=new he,nR=new he,AA=new he,Qm=new he,Vm=new he,zG=new he,rR=new he,iR=new he,sR=new he,oR=new Er,aR=new Er,lR=new Er;class Wa{constructor(e=new he,t=new he,r=new he){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),dc.subVectors(e,t),i.cross(dc);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){dc.subVectors(i,t),uA.subVectors(r,t),nR.subVectors(e,t);const o=dc.dot(dc),a=dc.dot(uA),l=dc.dot(nR),c=uA.dot(uA),u=uA.dot(nR),A=o*c-a*a;if(0===A)return s.set(0,0,0),null;const f=1/A,h=(c*l-a*u)*f,g=(o*u-a*l)*f;return s.set(1-h-g,g,h)}static containsPoint(e,t,r,i){return null!==this.getBarycoord(e,t,r,i,AA)&&AA.x>=0&&AA.y>=0&&AA.x+AA.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return null===this.getBarycoord(e,t,r,i,AA)?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,AA.x),l.addScaledVector(o,AA.y),l.addScaledVector(a,AA.z),l)}static getInterpolatedAttribute(e,t,r,i,s,o){return oR.setScalar(0),aR.setScalar(0),lR.setScalar(0),oR.fromBufferAttribute(e,t),aR.fromBufferAttribute(e,r),lR.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(oR,s.x),o.addScaledVector(aR,s.y),o.addScaledVector(lR,s.z),o}static isFrontFacing(e,t,r,i){return dc.subVectors(r,t),uA.subVectors(e,t),dc.cross(uA).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return dc.subVectors(this.c,this.b),uA.subVectors(this.a,this.b),.5*dc.cross(uA).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Wa.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return Wa.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Wa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Qm.subVectors(i,r),Vm.subVectors(s,r),rR.subVectors(e,r);const l=Qm.dot(rR),c=Vm.dot(rR);if(l<=0&&c<=0)return t.copy(r);iR.subVectors(e,i);const u=Qm.dot(iR),A=Vm.dot(iR);if(u>=0&&A<=u)return t.copy(i);const f=l*A-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Qm,o);sR.subVectors(e,s);const h=Qm.dot(sR),g=Vm.dot(sR);if(g>=0&&h<=g)return t.copy(s);const w=h*c-l*g;if(w<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(Vm,a);const v=u*g-h*A;if(v<=0&&A-u>=0&&h-g>=0)return zG.subVectors(s,i),a=(A-u)/(A-u+(h-g)),t.copy(i).addScaledVector(zG,a);const p=1/(v+w+f);return o=w*p,a=f*p,t.copy(r).addScaledVector(Qm,o).addScaledVector(Vm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const jG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Uh={h:0,s:0,l:0},D2={h:0,s:0,l:0};function cR(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Yt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(void 0===t&&void 0===r){const i=e;i&&i.isColor?this.copy(i):"number"==typeof i?this.setHex(i):"string"==typeof i&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Va){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,_r.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=_r.workingColorSpace){return this.r=e,this.g=t,this.b=r,_r.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=_r.workingColorSpace){if(e=function V5(n,e){return(n%e+e)%e}(e,1),t=Pn(t,0,1),r=Pn(r,0,1),0===t)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=cR(o,s,e+1/3),this.g=cR(o,s,e),this.b=cR(o,s,e-1/3)}return _r.colorSpaceToWorking(this,i),this}setStyle(e,t=Va){function r(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[2];switch(i[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Va){const r=jG[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=oA(e.r),this.g=oA(e.g),this.b=oA(e.b),this}copyLinearToSRGB(e){return this.r=Rm(e.r),this.g=Rm(e.g),this.b=Rm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Va){return _r.workingToColorSpace(bo.copy(this),e),65536*Math.round(Pn(255*bo.r,0,255))+256*Math.round(Pn(255*bo.g,0,255))+Math.round(Pn(255*bo.b,0,255))}getHexString(e=Va){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=_r.workingColorSpace){_r.workingToColorSpace(bo.copy(this),t);const r=bo.r,i=bo.g,s=bo.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const A=o-a;switch(c=u<=.5?A/(o+a):A/(2-o-a),o){case r:l=(i-s)/A+(i<s?6:0);break;case i:l=(s-r)/A+2;break;case s:l=(r-i)/A+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=_r.workingColorSpace){return _r.workingToColorSpace(bo.copy(this),t),e.r=bo.r,e.g=bo.g,e.b=bo.b,e}getStyle(e=Va){_r.workingToColorSpace(bo.copy(this),e);const t=bo.r,r=bo.g,i=bo.b;return e!==Va?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*r)},${Math.round(255*i)})`}offsetHSL(e,t,r){return this.getHSL(Uh),this.setHSL(Uh.h+e,Uh.s+t,Uh.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Uh),e.getHSL(D2);const r=Ew(Uh.h,D2.h,t),i=Ew(Uh.s,D2.s,t),s=Ew(Uh.l,D2.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const bo=new Yt;Yt.NAMES=jG;let Ufe=0;class Gm extends Tm{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ufe++}),this.uuid=Ga(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Yt(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mm,this.stencilZFail=Mm,this.stencilZPass=Mm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),100!==this.blendEquation&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Mm&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Mm&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Mm&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class bl extends Gm{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Yt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new lu,this.combine=a2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const os=new he,F2=new pt;let Pfe=0;class as{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Pfe++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=r,this.usage=35044,this.updateRanges=[],this.gpuType=Qa,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)F2.fromBufferAttribute(this,t),F2.applyMatrix3(e),this.setXY(t,F2.x,F2.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)os.fromBufferAttribute(this,t),os.applyMatrix3(e),this.setXYZ(t,os.x,os.y,os.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)os.fromBufferAttribute(this,t),os.applyMatrix4(e),this.setXYZ(t,os.x,os.y,os.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)os.fromBufferAttribute(this,t),os.applyNormalMatrix(e),this.setXYZ(t,os.x,os.y,os.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)os.fromBufferAttribute(this,t),os.transformDirection(e),this.setXYZ(t,os.x,os.y,os.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Qo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=zn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Qo(t,this.array)),t}setX(e,t){return this.normalized&&(t=zn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Qo(t,this.array)),t}setY(e,t){return this.normalized&&(t=zn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Qo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=zn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Qo(t,this.array)),t}setW(e,t){return this.normalized&&(t=zn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=zn(t,this.array),r=zn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=zn(t,this.array),r=zn(r,this.array),i=zn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=zn(t,this.array),r=zn(r,this.array),i=zn(i,this.array),s=zn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class WG extends as{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class $G extends as{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class an extends as{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Nfe=0;const xl=new gn,uR=new Go,zm=new he,$a=new Vo,Fw=new Vo,Ds=new he;class Xn extends Tm{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Nfe++}),this.uuid=Ga(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(RG(e)?$G:WG)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const s=(new jn).getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return xl.makeRotationFromQuaternion(e),this.applyMatrix4(xl),this}rotateX(e){return xl.makeRotationX(e),this.applyMatrix4(xl),this}rotateY(e){return xl.makeRotationY(e),this.applyMatrix4(xl),this}rotateZ(e){return xl.makeRotationZ(e),this.applyMatrix4(xl),this}translate(e,t,r){return xl.makeTranslation(e,t,r),this.applyMatrix4(xl),this}scale(e,t,r){return xl.makeScale(e,t,r),this.applyMatrix4(xl),this}lookAt(e){return uR.lookAt(e),uR.updateMatrix(),this.applyMatrix4(uR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zm).negate(),this.translate(zm.x,zm.y,zm.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new an(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Vo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new he(-1/0,-1/0,-1/0),new he(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)$a.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(Ds.addVectors(this.boundingBox.min,$a.min),this.boundingBox.expandByPoint(Ds),Ds.addVectors(this.boundingBox.max,$a.max),this.boundingBox.expandByPoint(Ds)):(this.boundingBox.expandByPoint($a.min),this.boundingBox.expandByPoint($a.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new _o);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new he,1/0);if(e){const r=this.boundingSphere.center;if($a.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)Fw.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Ds.addVectors($a.min,Fw.min),$a.expandByPoint(Ds),Ds.addVectors($a.max,Fw.max),$a.expandByPoint(Ds)):($a.expandByPoint(Fw.min),$a.expandByPoint(Fw.max));$a.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Ds.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ds));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ds.fromBufferAttribute(a,c),l&&(zm.fromBufferAttribute(e,c),Ds.add(zm)),i=Math.max(i,r.distanceToSquared(Ds))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=t.position,i=t.normal,s=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new as(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let P=0;P<r.count;P++)a[P]=new he,l[P]=new he;const c=new he,u=new he,A=new he,f=new pt,h=new pt,g=new pt,w=new he,v=new he;function p(P,L,D){c.fromBufferAttribute(r,P),u.fromBufferAttribute(r,L),A.fromBufferAttribute(r,D),f.fromBufferAttribute(s,P),h.fromBufferAttribute(s,L),g.fromBufferAttribute(s,D),u.sub(c),A.sub(c),h.sub(f),g.sub(f);const I=1/(h.x*g.y-g.x*h.y);isFinite(I)&&(w.copy(u).multiplyScalar(g.y).addScaledVector(A,-h.y).multiplyScalar(I),v.copy(A).multiplyScalar(h.x).addScaledVector(u,-g.x).multiplyScalar(I),a[P].add(w),a[L].add(w),a[D].add(w),l[P].add(v),l[L].add(v),l[D].add(v))}let C=this.groups;0===C.length&&(C=[{start:0,count:e.count}]);for(let P=0,L=C.length;P<L;++P){const D=C[P],I=D.start;for(let V=I,R=I+D.count;V<R;V+=3)p(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const E=new he,B=new he,U=new he,k=new he;function H(P){U.fromBufferAttribute(i,P),k.copy(U);const L=a[P];E.copy(L),E.sub(U.multiplyScalar(U.dot(L))).normalize(),B.crossVectors(k,L);const I=B.dot(l[P])<0?-1:1;o.setXYZW(P,E.x,E.y,E.z,I)}for(let P=0,L=C.length;P<L;++P){const D=C[P],I=D.start;for(let V=I,R=I+D.count;V<R;V+=3)H(e.getX(V+0)),H(e.getX(V+1)),H(e.getX(V+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new as(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new he,s=new he,o=new he,a=new he,l=new he,c=new he,u=new he,A=new he;if(e)for(let f=0,h=e.count;f<h;f+=3){const g=e.getX(f+0),w=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,w),o.fromBufferAttribute(t,v),u.subVectors(o,s),A.subVectors(i,s),u.cross(A),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,w),c.fromBufferAttribute(r,v),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(w,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),A.subVectors(i,s),u.cross(A),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ds.fromBufferAttribute(e,t),Ds.normalize(),e.setXYZ(t,Ds.x,Ds.y,Ds.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,A=a.normalized,f=new c.constructor(l.length*u);let h=0,g=0;for(let w=0,v=l.length;w<v;w++){h=a.isInterleavedBufferAttribute?l[w]*a.data.stride+a.offset:l[w]*u;for(let p=0;p<u;p++)f[g++]=c[h++]}return new as(f,u,A)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Xn,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,A=c.length;u<A;u++){const h=e(c[u],r);l.push(h)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r)e.data.attributes[l]=r[l].toJSON(e.data);const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let A=0,f=c.length;A<f;A++)u.push(c[A].toJSON(e.data));u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere=a.toJSON()),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone());const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],A=s[c];for(let f=0,h=A.length;f<h;f++)u.push(A[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const A=o[c];this.addGroup(A.start,A.count,A.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const KG=new gn,Td=new Tw,R2=new _o,qG=new he,L2=new he,U2=new he,P2=new he,AR=new he,N2=new he,XG=new he,O2=new he;class ls extends Go{constructor(e=new Xn,t=new bl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(r.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){N2.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(AR.fromBufferAttribute(s[l],e),N2.addScaledVector(o?AR:AR.sub(t),u))}t.add(N2)}return t}raycast(e,t){const r=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===r.boundingSphere&&r.computeBoundingSphere(),R2.copy(r.boundingSphere),R2.applyMatrix4(s),Td.copy(e.ray).recast(e.near),(!1!==R2.containsPoint(Td.origin)||!(null===Td.intersectSphere(R2,qG)||Td.origin.distanceToSquared(qG)>(e.far-e.near)**2))&&(KG.copy(s).invert(),Td.copy(e.ray).applyMatrix4(KG),(null===r.boundingBox||!1!==Td.intersectsBox(r.boundingBox))&&this._computeIntersections(e,t,Td)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,A=s.attributes.normal,f=s.groups,h=s.drawRange;if(null!==a)if(Array.isArray(o))for(let g=0,w=f.length;g<w;g++){const v=f[g],p=o[v.materialIndex];for(let B=Math.max(v.start,h.start),U=Math.min(a.count,Math.min(v.start+v.count,h.start+h.count));B<U;B+=3)i=k2(this,p,e,r,c,u,A,a.getX(B),a.getX(B+1),a.getX(B+2)),i&&(i.faceIndex=Math.floor(B/3),i.face.materialIndex=v.materialIndex,t.push(i))}else for(let v=Math.max(0,h.start),p=Math.min(a.count,h.start+h.count);v<p;v+=3)i=k2(this,o,e,r,c,u,A,a.getX(v),a.getX(v+1),a.getX(v+2)),i&&(i.faceIndex=Math.floor(v/3),t.push(i));else if(void 0!==l)if(Array.isArray(o))for(let g=0,w=f.length;g<w;g++){const v=f[g],p=o[v.materialIndex];for(let B=Math.max(v.start,h.start),U=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));B<U;B+=3)i=k2(this,p,e,r,c,u,A,B,B+1,B+2),i&&(i.faceIndex=Math.floor(B/3),i.face.materialIndex=v.materialIndex,t.push(i))}else for(let v=Math.max(0,h.start),p=Math.min(l.count,h.start+h.count);v<p;v+=3)i=k2(this,o,e,r,c,u,A,v,v+1,v+2),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}function k2(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,L2),n.getVertexPosition(l,U2),n.getVertexPosition(c,P2);const u=function Ofe(n,e,t,r,i,s,o,a){let l;if(l=1===e.side?r.intersectTriangle(o,s,i,!0,a):r.intersectTriangle(i,s,o,0===e.side,a),null===l)return null;O2.copy(a),O2.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(O2);return c<t.near||c>t.far?null:{distance:c,point:O2.clone(),object:n}}(n,e,t,r,L2,U2,P2,XG);if(u){const A=new he;Wa.getBarycoord(XG,L2,U2,P2,A),i&&(u.uv=Wa.getInterpolatedAttribute(i,a,l,c,A,new pt)),s&&(u.uv1=Wa.getInterpolatedAttribute(s,a,l,c,A,new pt)),o&&(u.normal=Wa.getInterpolatedAttribute(o,a,l,c,A,new he),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new he,materialIndex:0};Wa.getNormal(L2,U2,P2,f.normal),u.face=f,u.barycoord=A}return u}class jm extends Xn{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],A=[];let f=0,h=0;function g(w,v,p,C,E,B,U,k,H,P,L){const D=B/H,I=U/P,O=B/2,V=U/2,R=k/2,J=H+1,W=P+1;let ae=0,Z=0;const Ae=new he;for(let ge=0;ge<W;ge++){const Te=ge*I-V;for(let Q=0;Q<J;Q++)Ae[w]=(Q*D-O)*C,Ae[v]=Te*E,Ae[p]=R,c.push(Ae.x,Ae.y,Ae.z),Ae[w]=0,Ae[v]=0,Ae[p]=k>0?1:-1,u.push(Ae.x,Ae.y,Ae.z),A.push(Q/H),A.push(1-ge/P),ae+=1}for(let ge=0;ge<P;ge++)for(let Te=0;Te<H;Te++){const se=f+Te+J*(ge+1),$=f+(Te+1)+J*(ge+1),oe=f+(Te+1)+J*ge;l.push(f+Te+J*ge,se,oe),l.push(se,$,oe),Z+=6}a.addGroup(h,Z,L),h+=Z,f+=ae}g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new an(c,3)),this.setAttribute("normal",new an(u,3)),this.setAttribute("uv",new an(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Wm(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():e[t][r]=Array.isArray(i)?i.slice():i}}return e}function zo(n){const e={};for(let t=0;t<n.length;t++){const r=Wm(n[t]);for(const i in r)e[i]=r[i]}return e}function YG(n){const e=n.getRenderTarget();return null===e?n.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:_r.workingColorSpace}const Hfe={clone:Wm,merge:zo};class fA extends Gm{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Wm(e.uniforms),this.uniformsGroups=function kfe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;t.uniforms[i]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class hR extends Go{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new gn,this.projectionMatrix=new gn,this.projectionMatrixInverse=new gn,this.coordinateSystem=Ac}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Ph=new he,ZG=new pt,JG=new pt;class Ks extends hR{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Im*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Cd*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Im*Math.atan(Math.tan(.5*Cd*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Ph.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Ph.x,Ph.y).multiplyScalar(-e/Ph.z),Ph.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ph.x,Ph.y).multiplyScalar(-e/Ph.z)}getViewSize(e,t){return this.getViewBounds(e,ZG,JG),t.subVectors(JG,ZG)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Cd*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Gfe extends Go{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ks(-90,1,e,t);i.layers=this.layers,this.add(i);const s=new Ks(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new Ks(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new Ks(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new Ks(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new Ks(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Ac)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,A=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const w=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=w,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(A,f,h),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class H2 extends au{constructor(e=[],t=Mh,r,i,s,o,a,l,c,u){super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class zfe extends Sd{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new H2([r,r,r,r,r,r]),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new jm(5,5,5),s=new fA({name:"CubemapFromEquirect",uniforms:Wm(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new ls(i,s),a=t.minFilter;return t.minFilter===su&&(t.minFilter=_s),new Gfe(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class Nh extends Go{constructor(){super(),this.isGroup=!0,this.type="Group"}}const jfe={type:"move"};class fR{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Nh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Nh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new he,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new he),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Nh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new he,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new he),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const w of e.hand.values()){const v=t.getJointPose(w,r),p=this._getHandJoint(c,w);null!==v&&(p.matrix.fromArray(v.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=v.radius),p.visible=null!==v}const f=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),h=.02,g=.005;c.inputState.pinching&&f>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==s&&(i=s),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(jfe)))}return null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const r=new Nh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class e7 extends Go{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new lu,this.environmentIntensity=1,this.environmentRotation=new lu,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const wR=new he,Jfe=new he,ede=new jn;class Id{constructor(e=new he(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=wR.subVectors(r,t).cross(Jfe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(wR),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||ede.getNormalMatrix(e),i=this.coplanarPoint(wR).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Dd=new _o,tde=new pt(.5,.5),$2=new he;class kw{constructor(e=new Id,t=new Id,r=new Id,i=new Id,s=new Id,o=new Id){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Ac){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],A=i[6],f=i[7],h=i[8],g=i[9],w=i[10],v=i[11],p=i[12],C=i[13],E=i[14],B=i[15];if(r[0].setComponents(l-s,f-c,v-h,B-p).normalize(),r[1].setComponents(l+s,f+c,v+h,B+p).normalize(),r[2].setComponents(l+o,f+u,v+g,B+C).normalize(),r[3].setComponents(l-o,f-u,v-g,B-C).normalize(),r[4].setComponents(l-a,f-A,v-w,B-E).normalize(),t===Ac)r[5].setComponents(l+a,f+A,v+w,B+E).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(a,A,w,E).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Dd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Dd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Dd)}intersectsSprite(e){Dd.center.set(0,0,0);const t=tde.distanceTo(e.center);return Dd.radius=.7071067811865476+t,Dd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Dd)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if($2.x=i.normal.x>0?e.max.x:e.min.x,$2.y=i.normal.y>0?e.max.y:e.min.y,$2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint($2)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class Aa extends Gm{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Yt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const X2=new he,Y2=new he,v7=new gn,Qw=new Tw,Z2=new _o,CR=new he,y7=new he;class Vw extends Go{constructor(e=new Xn,t=new Aa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)X2.fromBufferAttribute(t,i-1),Y2.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=X2.distanceTo(Y2);e.setAttribute("lineDistance",new an(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Z2.copy(r.boundingSphere),Z2.applyMatrix4(i),Z2.radius+=s,!1===e.ray.intersectsSphere(Z2))return;v7.copy(i).invert(),Qw.copy(e.ray).applyMatrix4(v7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=r.index,f=r.attributes.position;if(null!==u){const h=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let w=h,v=g-1;w<v;w+=c){const p=u.getX(w),C=u.getX(w+1),E=J2(this,e,Qw,l,p,C,w);E&&t.push(E)}if(this.isLineLoop){const w=u.getX(g-1),v=u.getX(h),p=J2(this,e,Qw,l,w,v,g-1);p&&t.push(p)}}else{const h=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let w=h,v=g-1;w<v;w+=c){const p=J2(this,e,Qw,l,w,w+1,w);p&&t.push(p)}if(this.isLineLoop){const w=J2(this,e,Qw,l,g-1,h,g-1);w&&t.push(w)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function J2(n,e,t,r,i,s,o){const a=n.geometry.attributes.position;if(X2.fromBufferAttribute(a,i),Y2.fromBufferAttribute(a,s),t.distanceSqToSegment(X2,Y2,CR,y7)>r)return;CR.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(CR);return c<e.near||c>e.far?void 0:{distance:c,point:y7.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}class fde extends au{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class S7 extends au{constructor(e,t,r=Th,i,s,o,a=yo,l=yo,c,u=xw,A=1){if(u!==xw&&u!==Cw)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:A},i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ed(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class Ld extends Xn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];function l(C,E,B,U){const k=U+1,H=[];for(let P=0;P<=k;P++){H[P]=[];const L=C.clone().lerp(B,P/k),D=E.clone().lerp(B,P/k),I=k-P;for(let O=0;O<=I;O++)H[P][O]=0===O&&P===k?L:L.clone().lerp(D,O/I)}for(let P=0;P<k;P++)for(let L=0;L<2*(k-P)-1;L++){const D=Math.floor(L/2);L%2==0?(f(H[P][D+1]),f(H[P+1][D]),f(H[P][D])):(f(H[P][D+1]),f(H[P+1][D+1]),f(H[P+1][D]))}}function f(C){s.push(C.x,C.y,C.z)}function h(C,E){const B=3*C;E.x=e[B+0],E.y=e[B+1],E.z=e[B+2]}function w(C,E,B,U){U<0&&1===C.x&&(o[E]=C.x-1),0===B.x&&0===B.z&&(o[E]=U/2/Math.PI+.5)}function v(C){return Math.atan2(C.z,-C.x)}function p(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}(function a(C){const E=new he,B=new he,U=new he;for(let k=0;k<t.length;k+=3)h(t[k+0],E),h(t[k+1],B),h(t[k+2],U),l(E,B,U,C)})(i),function c(C){const E=new he;for(let B=0;B<s.length;B+=3)E.x=s[B+0],E.y=s[B+1],E.z=s[B+2],E.normalize().multiplyScalar(C),s[B+0]=E.x,s[B+1]=E.y,s[B+2]=E.z}(r),function u(){const C=new he;for(let E=0;E<s.length;E+=3){C.x=s[E+0],C.y=s[E+1],C.z=s[E+2];const B=v(C)/2/Math.PI+.5,U=p(C)/Math.PI+.5;o.push(B,1-U)}(function g(){const C=new he,E=new he,B=new he,U=new he,k=new pt,H=new pt,P=new pt;for(let L=0,D=0;L<s.length;L+=9,D+=6){C.set(s[L+0],s[L+1],s[L+2]),E.set(s[L+3],s[L+4],s[L+5]),B.set(s[L+6],s[L+7],s[L+8]),k.set(o[D+0],o[D+1]),H.set(o[D+2],o[D+3]),P.set(o[D+4],o[D+5]),U.copy(C).add(E).add(B).divideScalar(3);const I=v(U);w(k,D+0,C,I),w(H,D+2,E,I),w(P,D+4,B,I)}})(),function A(){for(let C=0;C<o.length;C+=6){const E=o[C+0],B=o[C+2],U=o[C+4],k=Math.max(E,B,U),H=Math.min(E,B,U);k>.9&&H<.1&&(E<.2&&(o[C+0]+=1),B<.2&&(o[C+2]+=1),U<.2&&(o[C+4]+=1))}}()}(),this.setAttribute("position",new an(s,3)),this.setAttribute("normal",new an(s.slice(),3)),this.setAttribute("uv",new an(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ld(e.vertices,e.indices,e.radius,e.details)}}class AE extends Ld{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2;super([-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new AE(e.radius,e.detail)}}class Oh extends Xn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,A=e/a,f=t/l,h=[],g=[],w=[],v=[];for(let p=0;p<u;p++){const C=p*f-o;for(let E=0;E<c;E++)g.push(E*A-s,-C,0),w.push(0,0,1),v.push(E/a),v.push(1-p/l)}for(let p=0;p<l;p++)for(let C=0;C<a;C++){const B=C+c*(p+1),U=C+1+c*(p+1),k=C+1+c*p;h.push(C+c*p,B,k),h.push(B,U,k)}this.setIndex(h),this.setAttribute("position",new an(g,3)),this.setAttribute("normal",new an(w,3)),this.setAttribute("uv",new an(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Oh(e.width,e.height,e.widthSegments,e.heightSegments)}}class qw extends Xn{constructor(e=1,t=32,r=16,i=0,s=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],A=new he,f=new he,h=[],g=[],w=[],v=[];for(let p=0;p<=r;p++){const C=[],E=p/r;let B=0;0===p&&0===o?B=.5/t:p===r&&l===Math.PI&&(B=-.5/t);for(let U=0;U<=t;U++){const k=U/t;A.x=-e*Math.cos(i+k*s)*Math.sin(o+E*a),A.y=e*Math.cos(o+E*a),A.z=e*Math.sin(i+k*s)*Math.sin(o+E*a),g.push(A.x,A.y,A.z),f.copy(A).normalize(),w.push(f.x,f.y,f.z),v.push(k+B,1-E),C.push(c++)}u.push(C)}for(let p=0;p<r;p++)for(let C=0;C<t;C++){const B=u[p][C],U=u[p+1][C],k=u[p+1][C+1];(0!==p||o>0)&&h.push(u[p][C+1],B,k),(p!==r-1||l<Math.PI)&&h.push(B,U,k)}this.setIndex(h),this.setAttribute("position",new an(g,3)),this.setAttribute("normal",new an(w,3)),this.setAttribute("uv",new an(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class V7 extends Gm{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class G7 extends Gm{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class z7 extends Aa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Pd(n,e){return n&&n.constructor!==e?"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n):n}class fE{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<s)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0}}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ope extends fE{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-r;break;case 2402:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*r-t;break;case 2402:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=.5*(r-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,A=this._offsetNext,f=this._weightPrev,h=this._weightNext,g=(r-t)/(i-t),w=g*g,v=w*g,p=-f*v+2*f*w-f*g,C=(1+f)*v+(-1.5-2*f)*w+(-.5+f)*g+1,E=(-1-h)*v+(1.5+h)*w+.5*g,B=h*v-h*w;for(let U=0;U!==a;++U)s[U]=p*o[u+U]+C*o[c+U]+E*o[l+U]+B*o[A+U];return s}}class $7 extends fE{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),A=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*A+o[l+f]*u;return s}}class ape extends fE{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class pc{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Pd(t,this.TimeBufferType),this.values=Pd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Pd(e.times,Array),values:Pd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new ape(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ope(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==s||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==i&&function j7(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)l=!0;else{const A=a*r,f=A-r,h=A+r;for(let g=0;g!==r;++g){const w=t[A+g];if(w!==t[f+g]||w!==t[h+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const A=a*r,f=o*r;for(let h=0;h!==r;++h)t[f+h]=t[A+h]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}pc.prototype.ValueTypeName="",pc.prototype.TimeBufferType=Float32Array,pc.prototype.ValueBufferType=Float32Array,pc.prototype.DefaultInterpolation=2301;class r0 extends pc{constructor(e,t,r){super(e,t,r)}}r0.prototype.ValueTypeName="bool",r0.prototype.ValueBufferType=Array,r0.prototype.DefaultInterpolation=2300,r0.prototype.InterpolantFactoryMethodLinear=void 0,r0.prototype.InterpolantFactoryMethodSmooth=void 0;(class K7 extends pc{constructor(e,t,r,i){super(e,t,r,i)}}).prototype.ValueTypeName="color";(class dE extends pc{constructor(e,t,r,i){super(e,t,r,i)}}).prototype.ValueTypeName="number";class lpe extends fE{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)za.slerpFlat(s,0,o,c-a,o,c,l);return s}}class pE extends pc{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new lpe(this.times,this.values,this.getValueSize(),e)}}pE.prototype.ValueTypeName="quaternion",pE.prototype.InterpolantFactoryMethodSmooth=void 0;class s0 extends pc{constructor(e,t,r){super(e,t,r)}}s0.prototype.ValueTypeName="string",s0.prototype.ValueBufferType=Array,s0.prototype.DefaultInterpolation=2300,s0.prototype.InterpolantFactoryMethodLinear=void 0,s0.prototype.InterpolantFactoryMethodSmooth=void 0;(class gE extends pc{constructor(e,t,r,i){super(e,t,r,i)}}).prototype.ValueTypeName="vector";class X7 extends Go{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Yt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const KR=new gn,Y7=new he,Z7=new he;class fpe{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pt(512,512),this.mapType=ou,this.map=null,this.mapPass=null,this.matrix=new gn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kw,this._frameExtents=new pt(1,1),this._viewportCount=1,this._viewports=[new Er(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Y7.setFromMatrixPosition(e.matrixWorld),t.position.copy(Y7),Z7.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Z7),t.updateMatrixWorld(),KR.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KR),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(KR)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const J7=new gn,Xw=new he,qR=new he;class gpe extends fpe{constructor(){super(new Ks(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pt(4,2),this._viewportCount=6,this._viewports=[new Er(2,1,1,1),new Er(0,1,1,1),new Er(3,1,1,1),new Er(1,1,1,1),new Er(3,0,1,1),new Er(1,0,1,1)],this._cubeDirections=[new he(1,0,0),new he(-1,0,0),new he(0,0,1),new he(0,0,-1),new he(0,1,0),new he(0,-1,0)],this._cubeUps=[new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,0,1),new he(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Xw.setFromMatrixPosition(e.matrixWorld),r.position.copy(Xw),qR.copy(r.position),qR.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(qR),r.updateMatrixWorld(),i.makeTranslation(-Xw.x,-Xw.y,-Xw.z),J7.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(J7)}}class ez extends X7{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new gpe}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class XR extends hR{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class tz extends X7{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Epe extends Ks{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}const eL="\\[\\]\\.:\\/",Ipe=new RegExp("["+eL+"]","g"),tL="[^"+eL+"]",Dpe="[^"+eL.replace("\\.","")+"]",Ppe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",tL)+/(WCOD+)?/.source.replace("WCOD",Dpe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tL)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tL)+"$"),Npe=["material","materials","bones","map"];class Ope{constructor(e,t,r){const i=r||fi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let fi=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Ipe,"")}static parseTrackName(t){const r=Ppe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=i.nodeName.substring(s+1);-1!==Npe.indexOf(o)&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=o)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===r||l.uuid===r)return l;const c=i(l.children);if(c)return c}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)t[r++]=i[s]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,s=r.propertyName;let o=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(i){let u=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let A=0;A<t.length;A++)if(t[A].name===u){u=A;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,!0===t.isMaterial?l=this.Versioning.NeedsUpdate:!0===t.isObject3D&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Ope,n})();fi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},fi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},fi.prototype.GetterByBindingType=[fi.prototype._getValue_direct,fi.prototype._getValue_array,fi.prototype._getValue_arrayElement,fi.prototype._getValue_toArray],fi.prototype.SetterByBindingTypeAndVersioning=[[fi.prototype._setValue_direct,fi.prototype._setValue_direct_setNeedsUpdate,fi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[fi.prototype._setValue_array,fi.prototype._setValue_array_setNeedsUpdate,fi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[fi.prototype._setValue_arrayElement,fi.prototype._setValue_arrayElement_setNeedsUpdate,fi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[fi.prototype._setValue_fromArray,fi.prototype._setValue_fromArray_setNeedsUpdate,fi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);const uz=new gn;class Vpe{constructor(e,t,r=0,i=1/0){this.ray=new Tw(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new eR,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return uz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(uz),this}intersectObject(e,t=!0,r=[]){return nL(e,this,r,t),r.sort(Az),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)nL(e[i],this,r,t);return r.sort(Az),r}}function Az(n,e){return n.distance-e.distance}function nL(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&!1===n.raycast(e,t)&&(i=!1),!0===i&&!0===r){const s=n.children;for(let o=0,a=s.length;o<a;o++)nL(s[o],e,t,!0)}}function sL(n,e,t,r){const i=function $pe(n){switch(n){case ou:case wG:return{byteLength:1,components:1};case ww:case _G:case _w:return{byteLength:2,components:1};case l5:case c5:return{byteLength:2,components:4};case Th:case a5:case Qa:return{byteLength:4,components:1};case bG:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(r);switch(t){case xG:return n*e;case u5:case f2:return n*e/i.components*i.byteLength;case EG:case A5:return n*e*2/i.components*i.byteLength;case CG:return n*e*3/i.components*i.byteLength;case la:case h5:return n*e*4/i.components*i.byteLength;case d2:case p2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case g2:case m2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case d5:case g5:return Math.max(n,16)*Math.max(e,8)/4;case f5:case p5:return Math.max(n,8)*Math.max(e,8)/2;case m5:case v5:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case y5:case w5:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case _5:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case b5:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case x5:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case C5:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case E5:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case S5:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case B5:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case M5:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case T5:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case I5:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case D5:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case F5:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case R5:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case v2:case L5:case U5:return Math.ceil(n/4)*Math.ceil(e/4)*16;case SG:case P5:return Math.ceil(n/4)*Math.ceil(e/4)*8;case N5:case O5:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function bz(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Kpe(n){const e=new WeakMap;return{get:function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)},remove:function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))},update:function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);return void((!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version}))}const c=e.get(a);if(void 0===c)e.set(a,function t(a,l){const c=a.array,u=a.usage,A=c.byteLength,f=n.createBuffer();let h;if(n.bindBuffer(l,f),n.bufferData(l,c,u),a.onUploadCallback(),c instanceof Float32Array)h=n.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)h=n.HALF_FLOAT;else if(c instanceof Uint16Array)h=a.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=n.SHORT;else if(c instanceof Uint32Array)h=n.UNSIGNED_INT;else if(c instanceof Int32Array)h=n.INT;else if(c instanceof Int8Array)h=n.BYTE;else if(c instanceof Uint8Array)h=n.UNSIGNED_BYTE;else{if(!(c instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);h=n.UNSIGNED_BYTE}return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:A}}(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function r(a,l,c){const u=l.array,A=l.updateRanges;if(n.bindBuffer(c,a),0===A.length)n.bufferSubData(c,0,u);else{A.sort((h,g)=>h.start-g.start);let f=0;for(let h=1;h<A.length;h++){const g=A[f],w=A[h];w.start<=g.start+g.count+1?g.count=Math.max(g.count,w.start+w.count-g.start):(++f,A[f]=w)}A.length=f+1;for(let h=0,g=A.length;h<g;h++){const w=A[h];n.bufferSubData(c,w.start*u.BYTES_PER_ELEMENT,u,w.start,w.count)}l.clearUpdateRanges()}l.onUploadCallback()})(c.buffer,a,l),c.version=a.version}}}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"178"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="178");const Yn={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Ht={common:{diffuse:{value:new Yt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jn},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jn}},envmap:{envMap:{value:null},envMapRotation:{value:new jn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jn},normalScale:{value:new pt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Yt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Yt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0},uvTransform:{value:new jn}},sprite:{diffuse:{value:new Yt(16777215)},opacity:{value:1},center:{value:new pt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jn},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0}}},fu={basic:{uniforms:zo([Ht.common,Ht.specularmap,Ht.envmap,Ht.aomap,Ht.lightmap,Ht.fog]),vertexShader:Yn.meshbasic_vert,fragmentShader:Yn.meshbasic_frag},lambert:{uniforms:zo([Ht.common,Ht.specularmap,Ht.envmap,Ht.aomap,Ht.lightmap,Ht.emissivemap,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.fog,Ht.lights,{emissive:{value:new Yt(0)}}]),vertexShader:Yn.meshlambert_vert,fragmentShader:Yn.meshlambert_frag},phong:{uniforms:zo([Ht.common,Ht.specularmap,Ht.envmap,Ht.aomap,Ht.lightmap,Ht.emissivemap,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.fog,Ht.lights,{emissive:{value:new Yt(0)},specular:{value:new Yt(1118481)},shininess:{value:30}}]),vertexShader:Yn.meshphong_vert,fragmentShader:Yn.meshphong_frag},standard:{uniforms:zo([Ht.common,Ht.envmap,Ht.aomap,Ht.lightmap,Ht.emissivemap,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.roughnessmap,Ht.metalnessmap,Ht.fog,Ht.lights,{emissive:{value:new Yt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag},toon:{uniforms:zo([Ht.common,Ht.aomap,Ht.lightmap,Ht.emissivemap,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.gradientmap,Ht.fog,Ht.lights,{emissive:{value:new Yt(0)}}]),vertexShader:Yn.meshtoon_vert,fragmentShader:Yn.meshtoon_frag},matcap:{uniforms:zo([Ht.common,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.fog,{matcap:{value:null}}]),vertexShader:Yn.meshmatcap_vert,fragmentShader:Yn.meshmatcap_frag},points:{uniforms:zo([Ht.points,Ht.fog]),vertexShader:Yn.points_vert,fragmentShader:Yn.points_frag},dashed:{uniforms:zo([Ht.common,Ht.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yn.linedashed_vert,fragmentShader:Yn.linedashed_frag},depth:{uniforms:zo([Ht.common,Ht.displacementmap]),vertexShader:Yn.depth_vert,fragmentShader:Yn.depth_frag},normal:{uniforms:zo([Ht.common,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,{opacity:{value:1}}]),vertexShader:Yn.meshnormal_vert,fragmentShader:Yn.meshnormal_frag},sprite:{uniforms:zo([Ht.sprite,Ht.fog]),vertexShader:Yn.sprite_vert,fragmentShader:Yn.sprite_frag},background:{uniforms:{uvTransform:{value:new jn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Yn.background_vert,fragmentShader:Yn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jn}},vertexShader:Yn.backgroundCube_vert,fragmentShader:Yn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Yn.cube_vert,fragmentShader:Yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yn.equirect_vert,fragmentShader:Yn.equirect_frag},distanceRGBA:{uniforms:zo([Ht.common,Ht.displacementmap,{referencePosition:{value:new he},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yn.distanceRGBA_vert,fragmentShader:Yn.distanceRGBA_frag},shadow:{uniforms:zo([Ht.lights,Ht.fog,{color:{value:new Yt(0)},opacity:{value:1}}]),vertexShader:Yn.shadow_vert,fragmentShader:Yn.shadow_frag}};fu.physical={uniforms:zo([fu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jn},clearcoatNormalScale:{value:new pt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jn},sheen:{value:0},sheenColor:{value:new Yt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jn},transmissionSamplerSize:{value:new pt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jn},attenuationDistance:{value:0},attenuationColor:{value:new Yt(0)},specularColor:{value:new Yt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jn},anisotropyVector:{value:new pt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jn}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag};const SE={r:0,b:0,g:0},Gd=new lu,Kme=new gn;function qme(n,e,t,r,i,s,o){const a=new Yt(0);let c,u,l=!0===s?0:1,A=null,f=0,h=null;function g(E){let B=!0===E.isScene?E.background:null;return B&&B.isTexture&&(B=(E.backgroundBlurriness>0?t:e).get(B)),B}function p(E,B){E.getRGB(SE,YG(n)),r.buffers.color.setClear(SE.r,SE.g,SE.b,B,o)}return{getClearColor:function(){return a},setClearColor:function(E,B=1){a.set(E),l=B,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,p(a,l)},render:function w(E){let B=!1;const U=g(E);null===U?p(a,l):U&&U.isColor&&(p(U,1),B=!0);const k=n.xr.getEnvironmentBlendMode();"additive"===k?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===k&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||B)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function v(E,B){const U=g(B);U&&(U.isCubeTexture||U.mapping===vw)?(void 0===u&&(u=new ls(new jm(1,1,1),new fA({name:"BackgroundCubeMaterial",uniforms:Wm(fu.backgroundCube.uniforms),vertexShader:fu.backgroundCube.vertexShader,fragmentShader:fu.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(k,H,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Gd.copy(B.backgroundRotation),Gd.x*=-1,Gd.y*=-1,Gd.z*=-1,U.isCubeTexture&&!1===U.isRenderTargetTexture&&(Gd.y*=-1,Gd.z*=-1),u.material.uniforms.envMap.value=U,u.material.uniforms.flipEnvMap.value=U.isCubeTexture&&!1===U.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=B.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Kme.makeRotationFromEuler(Gd)),u.material.toneMapped=_r.getTransfer(U.colorSpace)!==$r,(A!==U||f!==U.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,A=U,f=U.version,h=n.toneMapping),u.layers.enableAll(),E.unshift(u,u.geometry,u.material,0,0,null)):U&&U.isTexture&&(void 0===c&&(c=new ls(new Oh(2,2),new fA({name:"BackgroundMaterial",uniforms:Wm(fu.background.uniforms),vertexShader:fu.background.vertexShader,fragmentShader:fu.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=U,c.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,c.material.toneMapped=_r.getTransfer(U.colorSpace)!==$r,!0===U.matrixAutoUpdate&&U.updateMatrix(),c.material.uniforms.uvTransform.value.copy(U.matrix),(A!==U||f!==U.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,A=U,f=U.version,h=n.toneMapping),c.layers.enableAll(),E.unshift(c,c.geometry,c.material,0,0,null))},dispose:function C(){void 0!==u&&(u.geometry.dispose(),u.material.dispose(),u=void 0),void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}}}function Xme(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function c(D){return n.bindVertexArray(D)}function u(D){return n.deleteVertexArray(D)}function f(D){const I=[],O=[],V=[];for(let R=0;R<t;R++)I[R]=0,O[R]=0,V[R]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:O,attributeDivisors:V,object:D,attributes:{},index:null}}function w(){const D=s.newAttributes;for(let I=0,O=D.length;I<O;I++)D[I]=0}function v(D){p(D,0)}function p(D,I){const V=s.enabledAttributes,R=s.attributeDivisors;s.newAttributes[D]=1,0===V[D]&&(n.enableVertexAttribArray(D),V[D]=1),R[D]!==I&&(n.vertexAttribDivisor(D,I),R[D]=I)}function C(){const D=s.newAttributes,I=s.enabledAttributes;for(let O=0,V=I.length;O<V;O++)I[O]!==D[O]&&(n.disableVertexAttribArray(O),I[O]=0)}function E(D,I,O,V,R,J,W){!0===W?n.vertexAttribIPointer(D,I,O,R,J):n.vertexAttribPointer(D,I,O,V,R,J)}function P(){L(),o=!0,s!==i&&(s=i,c(s.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function a(D,I,O,V,R){let J=!1;const W=function A(D,I,O){const V=!0===O.wireframe;let R=r[D.id];void 0===R&&(R={},r[D.id]=R);let J=R[I.id];void 0===J&&(J={},R[I.id]=J);let W=J[V];return void 0===W&&(W=f(function l(){return n.createVertexArray()}()),J[V]=W),W}(V,O,I);s!==W&&(s=W,c(s.object)),J=function h(D,I,O,V){const R=s.attributes,J=I.attributes;let W=0;const ae=O.getAttributes();for(const Z in ae)if(ae[Z].location>=0){const ge=R[Z];let Te=J[Z];if(void 0===Te&&("instanceMatrix"===Z&&D.instanceMatrix&&(Te=D.instanceMatrix),"instanceColor"===Z&&D.instanceColor&&(Te=D.instanceColor)),void 0===ge||ge.attribute!==Te||Te&&ge.data!==Te.data)return!0;W++}return s.attributesNum!==W||s.index!==V}(D,V,O,R),J&&function g(D,I,O,V){const R={},J=I.attributes;let W=0;const ae=O.getAttributes();for(const Z in ae)if(ae[Z].location>=0){let ge=J[Z];void 0===ge&&("instanceMatrix"===Z&&D.instanceMatrix&&(ge=D.instanceMatrix),"instanceColor"===Z&&D.instanceColor&&(ge=D.instanceColor));const Te={};Te.attribute=ge,ge&&ge.data&&(Te.data=ge.data),R[Z]=Te,W++}s.attributes=R,s.attributesNum=W,s.index=V}(D,V,O,R),null!==R&&e.update(R,n.ELEMENT_ARRAY_BUFFER),(J||o)&&(o=!1,function B(D,I,O,V){w();const R=V.attributes,J=O.getAttributes(),W=I.defaultAttributeValues;for(const ae in J){const Z=J[ae];if(Z.location>=0){let Ae=R[ae];if(void 0===Ae&&("instanceMatrix"===ae&&D.instanceMatrix&&(Ae=D.instanceMatrix),"instanceColor"===ae&&D.instanceColor&&(Ae=D.instanceColor)),void 0!==Ae){const ge=Ae.normalized,Te=Ae.itemSize,Q=e.get(Ae);if(void 0===Q)continue;const se=Q.buffer,$=Q.type,oe=Q.bytesPerElement,pe=$===n.INT||$===n.UNSIGNED_INT||Ae.gpuType===a5;if(Ae.isInterleavedBufferAttribute){const de=Ae.data,me=de.stride,Ee=Ae.offset;if(de.isInstancedInterleavedBuffer){for(let ze=0;ze<Z.locationSize;ze++)p(Z.location+ze,de.meshPerAttribute);!0!==D.isInstancedMesh&&void 0===V._maxInstanceCount&&(V._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let ze=0;ze<Z.locationSize;ze++)v(Z.location+ze);n.bindBuffer(n.ARRAY_BUFFER,se);for(let ze=0;ze<Z.locationSize;ze++)E(Z.location+ze,Te/Z.locationSize,$,ge,me*oe,(Ee+Te/Z.locationSize*ze)*oe,pe)}else{if(Ae.isInstancedBufferAttribute){for(let de=0;de<Z.locationSize;de++)p(Z.location+de,Ae.meshPerAttribute);!0!==D.isInstancedMesh&&void 0===V._maxInstanceCount&&(V._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let de=0;de<Z.locationSize;de++)v(Z.location+de);n.bindBuffer(n.ARRAY_BUFFER,se);for(let de=0;de<Z.locationSize;de++)E(Z.location+de,Te/Z.locationSize,$,ge,Te*oe,Te/Z.locationSize*de*oe,pe)}}else if(void 0!==W){const ge=W[ae];if(void 0!==ge)switch(ge.length){case 2:n.vertexAttrib2fv(Z.location,ge);break;case 3:n.vertexAttrib3fv(Z.location,ge);break;case 4:n.vertexAttrib4fv(Z.location,ge);break;default:n.vertexAttrib1fv(Z.location,ge)}}}}C()}(D,I,O,V),null!==R&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(R).buffer))},reset:P,resetDefaultState:L,dispose:function U(){P();for(const D in r){const I=r[D];for(const O in I){const V=I[O];for(const R in V)u(V[R].object),delete V[R];delete I[O]}delete r[D]}},releaseStatesOfGeometry:function k(D){if(void 0===r[D.id])return;const I=r[D.id];for(const O in I){const V=I[O];for(const R in V)u(V[R].object),delete V[R];delete I[O]}delete r[D.id]},releaseStatesOfProgram:function H(D){for(const I in r){const O=r[I];if(void 0===O[D.id])continue;const V=O[D.id];for(const R in V)u(V[R].object),delete V[R];delete O[D.id]}},initAttributes:w,enableAttribute:v,disableUnusedAttributes:C}}function Yme(n,e,t){let r;function o(c,u,A){0!==A&&(n.drawArraysInstanced(r,c,u,A),t.update(u,r,A))}this.setMode=function i(c){r=c},this.render=function s(c,u){n.drawArrays(r,c,u),t.update(u,r,1)},this.renderInstances=o,this.renderMultiDraw=function a(c,u,A){if(0===A)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,A);let h=0;for(let g=0;g<A;g++)h+=u[g];t.update(h,r,1)},this.renderMultiDrawInstances=function l(c,u,A,f){if(0===A)return;const h=e.get("WEBGL_multi_draw");if(null===h)for(let g=0;g<c.length;g++)o(c[g],u[g],f[g]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,A);let g=0;for(let w=0;w<A;w++)g+=u[w]*f[w];t.update(g,r,1)}}}function Zme(n,e,t,r){let i;function l(H){if("highp"===H){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";H="mediump"}return"mediump"===H&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==t.precision?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const A=!0===t.logarithmicDepthBuffer,f=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function s(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const H=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(H.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:l,textureFormatReadable:function o(H){return!(H!==la&&r.convert(H)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function a(H){const P=H===_w&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(H!==ou&&r.convert(H)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&H!==Qa&&!P)},precision:c,logarithmicDepthBuffer:A,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:g,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:g>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function Jme(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Id,a=new jn,l={value:null,needsUpdate:!1};function u(A,f,h,g){const w=null!==A?A.length:0;let v=null;if(0!==w){if(v=l.value,!0!==g||null===v){const p=h+4*w,C=f.matrixWorldInverse;a.getNormalMatrix(C),(null===v||v.length<p)&&(v=new Float32Array(p));for(let E=0,B=h;E!==w;++E,B+=4)o.copy(A[E]).applyMatrix4(C,a),o.normal.toArray(v,B),v[B+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,v}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(A,f){const h=0!==A.length||f||0!==r||i;return i=f,r=A.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(A,f){t=u(A,f,0)},this.setState=function(A,f,h){const g=A.clippingPlanes,w=A.clipIntersection,v=A.clipShadows,p=n.get(A);if(!i||null===g||0===g.length||s&&!v)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}();else{const C=s?0:r,E=4*C;let B=p.clippingState||null;l.value=B,B=u(g,f,E,h);for(let U=0;U!==E;++U)B[U]=t[U];p.clippingState=B,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=C}}}function e0e(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=Mh:304===a&&(o.mapping=bd),o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function r(o){if(o&&o.isTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new zfe(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}const xz=[.125,.215,.35,.446,.526,.582],oL=new XR,Cz=new Yt;let aL=null,lL=0,cL=0,uL=!1;const jd=(1+Math.sqrt(5))/2,l0=1/jd,Ez=[new he(-jd,l0,0),new he(jd,l0,0),new he(-l0,0,jd),new he(l0,0,jd),new he(0,jd,-l0),new he(0,jd,l0),new he(-1,1,-1),new he(1,1,-1),new he(-1,1,1),new he(1,1,1)],t0e=new he;class Sz{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100,s={}){const{size:o=256,position:a=t0e}=s;aL=this._renderer.getRenderTarget(),lL=this._renderer.getActiveCubeFace(),cL=this._renderer.getActiveMipmapLevel(),uL=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Tz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Mz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(aL,lL,cL),this._renderer.xr.enabled=uL,e.scissorTest=!1,BE(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Mh||e.mapping===bd?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),aL=this._renderer.getRenderTarget(),lL=this._renderer.getActiveCubeFace(),cL=this._renderer.getActiveMipmapLevel(),uL=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:_s,minFilter:_s,generateMipmaps:!1,type:_w,format:la,colorSpace:Bm,depthBuffer:!1},i=Bz(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Bz(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function n0e(n){const e=[],t=[],r=[];let i=n;const s=n-4+1+xz.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-4?l=xz[o-n+4-1]:0===o&&(l=0),r.push(l);const c=1/(a-2),u=-c,A=1+c,f=[u,u,A,u,A,A,u,u,A,A,u,A],h=6,g=6,w=3,v=2,p=1,C=new Float32Array(w*g*h),E=new Float32Array(v*g*h),B=new Float32Array(p*g*h);for(let k=0;k<h;k++){const H=k%3*2/3-1,P=k>2?0:-1;C.set([H,P,0,H+2/3,P,0,H+2/3,P+1,0,H,P,0,H+2/3,P+1,0,H,P+1,0],w*g*k),E.set(f,v*g*k),B.set([k,k,k,k,k,k],p*g*k)}const U=new Xn;U.setAttribute("position",new as(C,w)),U.setAttribute("uv",new as(E,v)),U.setAttribute("faceIndex",new as(B,p)),e.push(U),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(s)),this._blurMaterial=function r0e(n,e,t){const r=new Float32Array(20),i=new he(0,1,0);return new fA({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return i}_compileMaterial(e){const t=new ls(this._lodPlanes[0],e);this._renderer.compile(t,oL)}_sceneToCubeUV(e,t,r,i,s){const l=new Ks(90,1,t,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],A=this._renderer,f=A.autoClear,h=A.toneMapping;A.getClearColor(Cz),A.toneMapping=Bh,A.autoClear=!1;const g=new bl({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),w=new ls(new jm,g);let v=!1;const p=e.background;p?p.isColor&&(g.color.copy(p),e.background=null,v=!0):(g.color.copy(Cz),v=!0);for(let C=0;C<6;C++){const E=C%3;0===E?(l.up.set(0,c[C],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+u[C],s.y,s.z)):1===E?(l.up.set(0,0,c[C]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+u[C],s.z)):(l.up.set(0,c[C],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+u[C]));const B=this._cubeSize;BE(i,E*B,C>2?B:0,B,B),A.setRenderTarget(i),v&&A.render(w,l),A.render(e,l)}w.geometry.dispose(),w.material.dispose(),A.toneMapping=h,A.autoClear=f,e.background=p}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Mh||e.mapping===bd;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Tz()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Mz());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new ls(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;BE(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,oL)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(e,s-1,s,o,Ez[(i-s-1)%Ez.length])}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const A=new ls(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*h):2*Math.PI/39,w=s/g,v=isFinite(s)?1+Math.floor(3*w):20;v>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to 20`);const p=[];let C=0;for(let H=0;H<20;++H){const P=H/w,L=Math.exp(-P*P/2);p.push(L),0===H?C+=L:H<v&&(C+=2*L)}for(let H=0;H<p.length;H++)p[H]=p[H]/C;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=p,f.latitudinal.value="latitudinal"===o,a&&(f.poleAxis.value=a);const{_lodMax:E}=this;f.dTheta.value=g,f.mipInt.value=E-r;const B=this._sizeLods[i];BE(t,3*B*(i>E-4?i-E+4:0),4*(this._cubeSize-B),3*B,2*B),l.setRenderTarget(t),l.render(A,oL)}}function Bz(n,e,t){const r=new Sd(n,e,t);return r.texture.mapping=vw,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function BE(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Mz(){return new fA({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Tz(){return new fA({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function i0e(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=l===Mh||l===bd;if(c||u){let A=e.get(a);if(a.isRenderTargetTexture&&a.pmremVersion!==(void 0!==A?A.texture.pmremVersion:0))return null===t&&(t=new Sz(n)),A=c?t.fromEquirectangular(a,A):t.fromCubemap(a,A),A.texture.pmremVersion=a.pmremVersion,e.set(a,A),A.texture;if(void 0!==A)return A.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&function i(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(h)?(null===t&&(t=new Sz(n)),A=c?t.fromEquirectangular(a):t.fromCubemap(a),A.texture.pmremVersion=a.pmremVersion,e.set(a,A),a.addEventListener("dispose",s),A.texture):null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function s0e(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return null===i&&Fm("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function o0e(n,e,t,r){const i={},s=new WeakMap;function o(A){const f=A.target;null!==f.index&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);f.removeEventListener("dispose",o),delete i[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),r.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,t.memory.geometries--}function c(A){const f=[],h=A.index,g=A.attributes.position;let w=0;if(null!==h){const C=h.array;w=h.version;for(let E=0,B=C.length;E<B;E+=3){const U=C[E+0],k=C[E+1],H=C[E+2];f.push(U,k,k,H,H,U)}}else{if(void 0===g)return;w=g.version;for(let E=0,B=g.array.length/3-1;E<B;E+=3){const U=E+0,k=E+1,H=E+2;f.push(U,k,k,H,H,U)}}const v=new(RG(f)?$G:WG)(f,1);v.version=w;const p=s.get(A);p&&e.remove(p),s.set(A,v)}return{get:function a(A,f){return!0===i[f.id]||(f.addEventListener("dispose",o),i[f.id]=!0,t.memory.geometries++),f},update:function l(A){const f=A.attributes;for(const h in f)e.update(f[h],n.ARRAY_BUFFER)},getWireframeAttribute:function u(A){const f=s.get(A);if(f){const h=A.index;null!==h&&f.version<h.version&&c(A)}else c(A);return s.get(A)}}}function a0e(n,e,t){let r,s,o;function c(f,h,g){0!==g&&(n.drawElementsInstanced(r,h,s,f*o,g),t.update(h,r,g))}this.setMode=function i(f){r=f},this.setIndex=function a(f){s=f.type,o=f.bytesPerElement},this.render=function l(f,h){n.drawElements(r,h,s,f*o),t.update(h,r,1)},this.renderInstances=c,this.renderMultiDraw=function u(f,h,g){if(0===g)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,s,f,0,g);let v=0;for(let p=0;p<g;p++)v+=h[p];t.update(v,r,1)},this.renderMultiDrawInstances=function A(f,h,g,w){if(0===g)return;const v=e.get("WEBGL_multi_draw");if(null===v)for(let p=0;p<f.length;p++)c(f[p]/o,h[p],w[p]);else{v.multiDrawElementsInstancedWEBGL(r,h,0,s,f,0,w,0,g);let p=0;for(let C=0;C<g;C++)p+=h[C]*w[C];t.update(p,r,1)}}}function l0e(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function c0e(n,e,t){const r=new WeakMap,i=new Er;return{update:function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,A=void 0!==u?u.length:0;let f=r.get(a);if(void 0===f||f.count!==A){let L=function(){H.dispose(),r.delete(a),a.removeEventListener("dispose",L)};void 0!==f&&f.texture.dispose();const h=void 0!==a.morphAttributes.position,g=void 0!==a.morphAttributes.normal,w=void 0!==a.morphAttributes.color,v=a.morphAttributes.position||[],p=a.morphAttributes.normal||[],C=a.morphAttributes.color||[];let E=0;!0===h&&(E=1),!0===g&&(E=2),!0===w&&(E=3);let B=a.attributes.position.count*E,U=1;B>e.maxTextureSize&&(U=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const k=new Float32Array(B*U*4*A),H=new $5(k,B,U,A);H.type=Qa,H.needsUpdate=!0;const P=4*E;for(let D=0;D<A;D++){const I=v[D],O=p[D],V=C[D],R=B*U*4*D;for(let J=0;J<I.count;J++){const W=J*P;!0===h&&(i.fromBufferAttribute(I,J),k[R+W+0]=i.x,k[R+W+1]=i.y,k[R+W+2]=i.z,k[R+W+3]=0),!0===g&&(i.fromBufferAttribute(O,J),k[R+W+4]=i.x,k[R+W+5]=i.y,k[R+W+6]=i.z,k[R+W+7]=0),!0===w&&(i.fromBufferAttribute(V,J),k[R+W+8]=i.x,k[R+W+9]=i.y,k[R+W+10]=i.z,k[R+W+11]=4===V.itemSize?i.w:1)}}f={count:A,texture:H,size:new pt(B,U)},r.set(a,f),a.addEventListener("dispose",L)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let h=0;for(let w=0;w<c.length;w++)h+=c[w];const g=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(n,"morphTargetBaseInfluence",g),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}}}function u0e(n,e,t,r){let i=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=r.render.frame,A=e.get(l,l.geometry);if(i.get(A)!==c&&(e.update(A),i.set(A,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return A},dispose:function o(){i=new WeakMap}}}const Iz=new au,Dz=new S7(1,1),Fz=new $5,Rz=new K5,Lz=new H2,Uz=[],Pz=[],Nz=new Float32Array(16),Oz=new Float32Array(9),kz=new Float32Array(4);function c0(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=Uz[i];if(void 0===s&&(s=new Float32Array(i),Uz[i]=s),0!==e){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function bs(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function xs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function ME(n,e){let t=Pz[e];void 0===t&&(t=new Int32Array(e),Pz[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function A0e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function h0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(bs(t,e))return;n.uniform2fv(this.addr,e),xs(t,e)}}function f0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(bs(t,e))return;n.uniform3fv(this.addr,e),xs(t,e)}}function d0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(bs(t,e))return;n.uniform4fv(this.addr,e),xs(t,e)}}function p0e(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(bs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),xs(t,e)}else{if(bs(t,r))return;kz.set(r),n.uniformMatrix2fv(this.addr,!1,kz),xs(t,r)}}function g0e(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(bs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),xs(t,e)}else{if(bs(t,r))return;Oz.set(r),n.uniformMatrix3fv(this.addr,!1,Oz),xs(t,r)}}function m0e(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(bs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),xs(t,e)}else{if(bs(t,r))return;Nz.set(r),n.uniformMatrix4fv(this.addr,!1,Nz),xs(t,r)}}function v0e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function y0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(bs(t,e))return;n.uniform2iv(this.addr,e),xs(t,e)}}function w0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(bs(t,e))return;n.uniform3iv(this.addr,e),xs(t,e)}}function _0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(bs(t,e))return;n.uniform4iv(this.addr,e),xs(t,e)}}function b0e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function x0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(bs(t,e))return;n.uniform2uiv(this.addr,e),xs(t,e)}}function C0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(bs(t,e))return;n.uniform3uiv(this.addr,e),xs(t,e)}}function E0e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(bs(t,e))return;n.uniform4uiv(this.addr,e),xs(t,e)}}function S0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();let s;r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),this.type===n.SAMPLER_2D_SHADOW?(Dz.compareFunction=515,s=Dz):s=Iz,t.setTexture2D(e||s,i)}function B0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Rz,i)}function M0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Lz,i)}function T0e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Fz,i)}function D0e(n,e){n.uniform1fv(this.addr,e)}function F0e(n,e){const t=c0(e,this.size,2);n.uniform2fv(this.addr,t)}function R0e(n,e){const t=c0(e,this.size,3);n.uniform3fv(this.addr,t)}function L0e(n,e){const t=c0(e,this.size,4);n.uniform4fv(this.addr,t)}function U0e(n,e){const t=c0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function P0e(n,e){const t=c0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function N0e(n,e){const t=c0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function O0e(n,e){n.uniform1iv(this.addr,e)}function k0e(n,e){n.uniform2iv(this.addr,e)}function H0e(n,e){n.uniform3iv(this.addr,e)}function Q0e(n,e){n.uniform4iv(this.addr,e)}function V0e(n,e){n.uniform1uiv(this.addr,e)}function G0e(n,e){n.uniform2uiv(this.addr,e)}function z0e(n,e){n.uniform3uiv(this.addr,e)}function j0e(n,e){n.uniform4uiv(this.addr,e)}function W0e(n,e,t){const r=this.cache,i=e.length,s=ME(t,i);bs(r,s)||(n.uniform1iv(this.addr,s),xs(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||Iz,s[o])}function $0e(n,e,t){const r=this.cache,i=e.length,s=ME(t,i);bs(r,s)||(n.uniform1iv(this.addr,s),xs(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||Rz,s[o])}function K0e(n,e,t){const r=this.cache,i=e.length,s=ME(t,i);bs(r,s)||(n.uniform1iv(this.addr,s),xs(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||Lz,s[o])}function q0e(n,e,t){const r=this.cache,i=e.length,s=ME(t,i);bs(r,s)||(n.uniform1iv(this.addr,s),xs(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||Fz,s[o])}class Y0e{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=function I0e(n){switch(n){case 5126:return A0e;case 35664:return h0e;case 35665:return f0e;case 35666:return d0e;case 35674:return p0e;case 35675:return g0e;case 35676:return m0e;case 5124:case 35670:return v0e;case 35667:case 35671:return y0e;case 35668:case 35672:return w0e;case 35669:case 35673:return _0e;case 5125:return b0e;case 36294:return x0e;case 36295:return C0e;case 36296:return E0e;case 35678:case 36198:case 36298:case 36306:case 35682:return S0e;case 35679:case 36299:case 36307:return B0e;case 35680:case 36300:case 36308:case 36293:return M0e;case 36289:case 36303:case 36311:case 36292:return T0e}}(t.type)}}class Z0e{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function X0e(n){switch(n){case 5126:return D0e;case 35664:return F0e;case 35665:return R0e;case 35666:return L0e;case 35674:return U0e;case 35675:return P0e;case 35676:return N0e;case 5124:case 35670:return O0e;case 35667:case 35671:return k0e;case 35668:case 35672:return H0e;case 35669:case 35673:return Q0e;case 5125:return V0e;case 36294:return G0e;case 36295:return z0e;case 36296:return j0e;case 35678:case 36198:case 36298:case 36306:case 35682:return W0e;case 35679:case 36299:case 36307:return $0e;case 35680:case 36300:case 36308:case 36293:return K0e;case 36289:case 36303:case 36311:case 36292:return q0e}}(t.type)}}class J0e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const hL=/(\w+)(\])?(\[|\.)?/g;function Hz(n,e){n.seq.push(e),n.map[e.id]=e}function eve(n,e,t){const r=n.name,i=r.length;for(hL.lastIndex=0;;){const s=hL.exec(r);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&hL.lastIndex+2===i){Hz(t,void 0===c?new Y0e(a,n,e):new Z0e(a,n,e));break}{let A=t.map[a];void 0===A&&(A=new J0e(a),Hz(t,A)),t=A}}}class TE{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i);eve(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,r,i){const s=this.map[t];void 0!==s&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function Qz(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const tve=37297;let nve=0;const Vz=new jn;function Gz(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function rve(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join("\n")}(n.getShaderSource(e),o)}return i}function sve(n,e){const t=function ive(n){_r._getMatrix(Vz,_r.workingColorSpace,n);const e=`mat3( ${Vz.elements.map(t=>t.toFixed(4))} )`;switch(_r.getTransfer(n)){case _2:return[e,"LinearTransferOETF"];case $r:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function ove(n,e){let t;switch(e){case Uhe:t="Linear";break;case Phe:t="Reinhard";break;case Nhe:t="Cineon";break;case Ohe:t="ACESFilmic";break;case Hhe:t="AgX";break;case Qhe:t="Neutral";break;case khe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const IE=new he;function Yw(n){return""!==n}function zz(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function jz(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ave=/^[ \t]*#include +<([\w\d./]+)>/gm;function fL(n){return n.replace(Ave,fve)}const hve=new Map;function fve(n,e){let t=Yn[e];if(void 0===t){const r=hve.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");t=Yn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return fL(t)}const dve=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Wz(n){return n.replace(dve,pve)}function pve(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function $z(n){let e=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function _ve(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function gve(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===dG?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===dhe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===iA&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function mve(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Mh:case bd:e="ENVMAP_TYPE_CUBE";break;case vw:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function vve(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===bd&&(e="ENVMAP_MODE_REFRACTION"),e}(t),A=function yve(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case a2:e="ENVMAP_BLENDING_MULTIPLY";break;case Rhe:e="ENVMAP_BLENDING_MIX";break;case Lhe:e="ENVMAP_BLENDING_ADD"}return e}(t),f=function wve(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),h=function lve(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Yw).join("\n")}(t),g=function cve(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(s),w=i.createProgram();let v,p,C=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(Yw).join("\n"),v.length>0&&(v+="\n"),p=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(Yw).join("\n"),p.length>0&&(p+="\n")):(v=[$z(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Yw).join("\n"),p=[$z(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+A:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Bh?"#define TONE_MAPPING":"",t.toneMapping!==Bh?Yn.tonemapping_pars_fragment:"",t.toneMapping!==Bh?ove("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Yn.colorspace_pars_fragment,sve("linearToOutputTexel",t.outputColorSpace),(_r.getLuminanceCoefficients(IE),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${IE.x.toFixed(4)}, ${IE.y.toFixed(4)}, ${IE.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Yw).join("\n")),o=fL(o),o=zz(o,t),o=jz(o,t),a=fL(a),a=zz(a,t),a=jz(a,t),o=Wz(o),a=Wz(a),!0!==t.isRawShaderMaterial&&(C="#version 300 es\n",v=[h,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,p=["#define varying in",t.glslVersion===IG?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===IG?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+p);const B=C+p+a,U=Qz(i,i.VERTEX_SHADER,C+v+o),k=Qz(i,i.FRAGMENT_SHADER,B);function H(I){if(n.debug.checkShaderErrors){const O=i.getProgramInfoLog(w).trim(),V=i.getShaderInfoLog(U).trim(),R=i.getShaderInfoLog(k).trim();let J=!0,W=!0;if(!1===i.getProgramParameter(w,i.LINK_STATUS))if(J=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(i,w,U,k);else{const ae=Gz(i,U,"vertex"),Z=Gz(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(w,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+I.name+"\nMaterial Type: "+I.type+"\n\nProgram Info Log: "+O+"\n"+ae+"\n"+Z)}else""!==O?console.warn("THREE.WebGLProgram: Program Info Log:",O):(""===V||""===R)&&(W=!1);W&&(I.diagnostics={runnable:J,programLog:O,vertexShader:{log:V,prefix:v},fragmentShader:{log:R,prefix:p}})}i.deleteShader(U),i.deleteShader(k),P=new TE(i,w),L=function uve(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(i,w)}let P,L;i.attachShader(w,U),i.attachShader(w,k),void 0!==t.index0AttributeName?i.bindAttribLocation(w,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(w,0,"position"),i.linkProgram(w),this.getUniforms=function(){return void 0===P&&H(this),P},this.getAttributes=function(){return void 0===L&&H(this),L};let D=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===D&&(D=i.getProgramParameter(w,tve)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=nve++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=U,this.fragmentShader=k,this}let bve=0;class xve{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return void 0===r&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return void 0===r&&(r=new Cve(e),t.set(e,r)),r}}class Cve{constructor(e){this.id=bve++,this.code=e,this.usedTimes=0}}function Eve(n,e,t,r,i,s,o){const a=new eR,l=new xve,c=new Set,u=[],A=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(L){return c.add(L),0===L?"uv":`uv${L}`}return{getParameters:function v(L,D,I,O,V){const R=O.fog,J=V.geometry,ae=(L.isMeshStandardMaterial?t:e).get(L.envMap||(L.isMeshStandardMaterial?O.environment:null)),Z=ae&&ae.mapping===vw?ae.image.height:null,Ae=g[L.type];null!==L.precision&&(h=i.getMaxPrecision(L.precision),h!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",h,"instead."));const ge=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,Te=void 0!==ge?ge.length:0;let se,$,oe,pe,Q=0;if(void 0!==J.morphAttributes.position&&(Q=1),void 0!==J.morphAttributes.normal&&(Q=2),void 0!==J.morphAttributes.color&&(Q=3),Ae){const Zn=fu[Ae];se=Zn.vertexShader,$=Zn.fragmentShader}else se=L.vertexShader,$=L.fragmentShader,l.update(L),oe=l.getVertexShaderID(L),pe=l.getFragmentShaderID(L);const de=n.getRenderTarget(),me=n.state.buffers.depth.getReversed(),Ee=!0===V.isInstancedMesh,ze=!0===V.isBatchedMesh,st=!!L.map,nt=!!ae,te=!!L.aoMap,ve=!!L.lightMap,ee=!!L.bumpMap,Pe=!!L.normalMap,Se=!!L.displacementMap,Oe=!!L.emissiveMap,Fe=!!L.metalnessMap,qe=!!L.roughnessMap,ot=L.anisotropy>0,re=L.clearcoat>0,Ce=L.iridescence>0,Ne=L.sheen>0,Ke=L.transmission>0,Ve=ot&&!!L.anisotropyMap,gt=re&&!!L.clearcoatMap,lt=re&&!!L.clearcoatNormalMap,Ye=re&&!!L.clearcoatRoughnessMap,Ut=Ce&&!!L.iridescenceMap,Ze=Ce&&!!L.iridescenceThicknessMap,Rt=Ne&&!!L.sheenColorMap,Pt=Ne&&!!L.sheenRoughnessMap,Qt=!!L.specularMap,Bt=!!L.specularColorMap,Vt=!!L.specularIntensityMap,xe=Ke&&!!L.transmissionMap,xt=Ke&&!!L.thicknessMap,zt=!!L.alphaMap,Ct=!!L.extensions;let bn=Bh;L.toneMapped&&(null===de||!0===de.isXRRenderTarget)&&(bn=n.toneMapping);const Hn={shaderID:Ae,shaderType:L.type,shaderName:L.name,vertexShader:se,fragmentShader:$,defines:L.defines,customVertexShaderID:oe,customFragmentShaderID:pe,isRawShaderMaterial:!0===L.isRawShaderMaterial,glslVersion:L.glslVersion,precision:h,batching:ze,batchingColor:ze&&null!==V._colorsTexture,instancing:Ee,instancingColor:Ee&&null!==V.instanceColor,instancingMorph:Ee&&null!==V.morphTexture,supportsVertexTextures:f,outputColorSpace:null===de?n.outputColorSpace:!0===de.isXRRenderTarget?de.texture.colorSpace:Bm,alphaToCoverage:!!L.alphaToCoverage,map:st,matcap:!!L.matcap,envMap:nt,envMapMode:nt&&ae.mapping,envMapCubeUVHeight:Z,aoMap:te,lightMap:ve,bumpMap:ee,normalMap:Pe,displacementMap:f&&Se,emissiveMap:Oe,normalMapObjectSpace:Pe&&1===L.normalMapType,normalMapTangentSpace:Pe&&0===L.normalMapType,metalnessMap:Fe,roughnessMap:qe,anisotropy:ot,anisotropyMap:Ve,clearcoat:re,clearcoatMap:gt,clearcoatNormalMap:lt,clearcoatRoughnessMap:Ye,dispersion:L.dispersion>0,iridescence:Ce,iridescenceMap:Ut,iridescenceThicknessMap:Ze,sheen:Ne,sheenColorMap:Rt,sheenRoughnessMap:Pt,specularMap:Qt,specularColorMap:Bt,specularIntensityMap:Vt,transmission:Ke,transmissionMap:xe,thicknessMap:xt,gradientMap:!!L.gradientMap,opaque:!1===L.transparent&&1===L.blending&&!1===L.alphaToCoverage,alphaMap:zt,alphaTest:L.alphaTest>0,alphaHash:!!L.alphaHash,combine:L.combine,mapUv:st&&w(L.map.channel),aoMapUv:te&&w(L.aoMap.channel),lightMapUv:ve&&w(L.lightMap.channel),bumpMapUv:ee&&w(L.bumpMap.channel),normalMapUv:Pe&&w(L.normalMap.channel),displacementMapUv:Se&&w(L.displacementMap.channel),emissiveMapUv:Oe&&w(L.emissiveMap.channel),metalnessMapUv:Fe&&w(L.metalnessMap.channel),roughnessMapUv:qe&&w(L.roughnessMap.channel),anisotropyMapUv:Ve&&w(L.anisotropyMap.channel),clearcoatMapUv:gt&&w(L.clearcoatMap.channel),clearcoatNormalMapUv:lt&&w(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ye&&w(L.clearcoatRoughnessMap.channel),iridescenceMapUv:Ut&&w(L.iridescenceMap.channel),iridescenceThicknessMapUv:Ze&&w(L.iridescenceThicknessMap.channel),sheenColorMapUv:Rt&&w(L.sheenColorMap.channel),sheenRoughnessMapUv:Pt&&w(L.sheenRoughnessMap.channel),specularMapUv:Qt&&w(L.specularMap.channel),specularColorMapUv:Bt&&w(L.specularColorMap.channel),specularIntensityMapUv:Vt&&w(L.specularIntensityMap.channel),transmissionMapUv:xe&&w(L.transmissionMap.channel),thicknessMapUv:xt&&w(L.thicknessMap.channel),alphaMapUv:zt&&w(L.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(Pe||ot),vertexColors:L.vertexColors,vertexAlphas:!0===L.vertexColors&&!!J.attributes.color&&4===J.attributes.color.itemSize,pointsUvs:!0===V.isPoints&&!!J.attributes.uv&&(st||zt),fog:!!R,useFog:!0===L.fog,fogExp2:!!R&&R.isFogExp2,flatShading:!0===L.flatShading&&!1===L.wireframe,sizeAttenuation:!0===L.sizeAttenuation,logarithmicDepthBuffer:A,reverseDepthBuffer:me,skinning:!0===V.isSkinnedMesh,morphTargets:void 0!==J.morphAttributes.position,morphNormals:void 0!==J.morphAttributes.normal,morphColors:void 0!==J.morphAttributes.color,morphTargetsCount:Te,morphTextureStride:Q,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:bn,decodeVideoTexture:st&&!0===L.map.isVideoTexture&&_r.getTransfer(L.map.colorSpace)===$r,decodeVideoTextureEmissive:Oe&&!0===L.emissiveMap.isVideoTexture&&_r.getTransfer(L.emissiveMap.colorSpace)===$r,premultipliedAlpha:L.premultipliedAlpha,doubleSided:2===L.side,flipSided:1===L.side,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:Ct&&!0===L.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ct&&!0===L.extensions.multiDraw||ze)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return Hn.vertexUv1s=c.has(1),Hn.vertexUv2s=c.has(2),Hn.vertexUv3s=c.has(3),c.clear(),Hn},getProgramCacheKey:function p(L){const D=[];if(L.shaderID?D.push(L.shaderID):(D.push(L.customVertexShaderID),D.push(L.customFragmentShaderID)),void 0!==L.defines)for(const I in L.defines)D.push(I),D.push(L.defines[I]);return!1===L.isRawShaderMaterial&&(function C(L,D){L.push(D.precision),L.push(D.outputColorSpace),L.push(D.envMapMode),L.push(D.envMapCubeUVHeight),L.push(D.mapUv),L.push(D.alphaMapUv),L.push(D.lightMapUv),L.push(D.aoMapUv),L.push(D.bumpMapUv),L.push(D.normalMapUv),L.push(D.displacementMapUv),L.push(D.emissiveMapUv),L.push(D.metalnessMapUv),L.push(D.roughnessMapUv),L.push(D.anisotropyMapUv),L.push(D.clearcoatMapUv),L.push(D.clearcoatNormalMapUv),L.push(D.clearcoatRoughnessMapUv),L.push(D.iridescenceMapUv),L.push(D.iridescenceThicknessMapUv),L.push(D.sheenColorMapUv),L.push(D.sheenRoughnessMapUv),L.push(D.specularMapUv),L.push(D.specularColorMapUv),L.push(D.specularIntensityMapUv),L.push(D.transmissionMapUv),L.push(D.thicknessMapUv),L.push(D.combine),L.push(D.fogExp2),L.push(D.sizeAttenuation),L.push(D.morphTargetsCount),L.push(D.morphAttributeCount),L.push(D.numDirLights),L.push(D.numPointLights),L.push(D.numSpotLights),L.push(D.numSpotLightMaps),L.push(D.numHemiLights),L.push(D.numRectAreaLights),L.push(D.numDirLightShadows),L.push(D.numPointLightShadows),L.push(D.numSpotLightShadows),L.push(D.numSpotLightShadowsWithMaps),L.push(D.numLightProbes),L.push(D.shadowMapType),L.push(D.toneMapping),L.push(D.numClippingPlanes),L.push(D.numClipIntersection),L.push(D.depthPacking)}(D,L),function E(L,D){a.disableAll(),D.supportsVertexTextures&&a.enable(0),D.instancing&&a.enable(1),D.instancingColor&&a.enable(2),D.instancingMorph&&a.enable(3),D.matcap&&a.enable(4),D.envMap&&a.enable(5),D.normalMapObjectSpace&&a.enable(6),D.normalMapTangentSpace&&a.enable(7),D.clearcoat&&a.enable(8),D.iridescence&&a.enable(9),D.alphaTest&&a.enable(10),D.vertexColors&&a.enable(11),D.vertexAlphas&&a.enable(12),D.vertexUv1s&&a.enable(13),D.vertexUv2s&&a.enable(14),D.vertexUv3s&&a.enable(15),D.vertexTangents&&a.enable(16),D.anisotropy&&a.enable(17),D.alphaHash&&a.enable(18),D.batching&&a.enable(19),D.dispersion&&a.enable(20),D.batchingColor&&a.enable(21),D.gradientMap&&a.enable(22),L.push(a.mask),a.disableAll(),D.fog&&a.enable(0),D.useFog&&a.enable(1),D.flatShading&&a.enable(2),D.logarithmicDepthBuffer&&a.enable(3),D.reverseDepthBuffer&&a.enable(4),D.skinning&&a.enable(5),D.morphTargets&&a.enable(6),D.morphNormals&&a.enable(7),D.morphColors&&a.enable(8),D.premultipliedAlpha&&a.enable(9),D.shadowMapEnabled&&a.enable(10),D.doubleSided&&a.enable(11),D.flipSided&&a.enable(12),D.useDepthPacking&&a.enable(13),D.dithering&&a.enable(14),D.transmission&&a.enable(15),D.sheen&&a.enable(16),D.opaque&&a.enable(17),D.pointsUvs&&a.enable(18),D.decodeVideoTexture&&a.enable(19),D.decodeVideoTextureEmissive&&a.enable(20),D.alphaToCoverage&&a.enable(21),L.push(a.mask)}(D,L),D.push(n.outputColorSpace)),D.push(L.customProgramCacheKey),D.join()},getUniforms:function B(L){const D=g[L.type];let I;return I=D?Hfe.clone(fu[D].uniforms):L.uniforms,I},acquireProgram:function U(L,D){let I;for(let O=0,V=u.length;O<V;O++){const R=u[O];if(R.cacheKey===D){I=R,++I.usedTimes;break}}return void 0===I&&(I=new _ve(n,D,L,s),u.push(I)),I},releaseProgram:function k(L){if(0==--L.usedTimes){const D=u.indexOf(L);u[D]=u[u.length-1],u.pop(),L.destroy()}},releaseShaderCache:function H(L){l.remove(L)},programs:u,dispose:function P(){l.dispose()}}}function Sve(){let n=new WeakMap;return{has:function e(o){return n.has(o)},get:function t(o){let a=n.get(o);return void 0===a&&(a={},n.set(o,a)),a},remove:function r(o){n.delete(o)},update:function i(o,a,l){n.get(o)[a]=l},dispose:function s(){n=new WeakMap}}}function Bve(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Kz(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function qz(){const n=[];let e=0;const t=[],r=[],i=[];function o(A,f,h,g,w,v){let p=n[e];return void 0===p?(p={id:A.id,object:A,geometry:f,material:h,groupOrder:g,renderOrder:A.renderOrder,z:w,group:v},n[e]=p):(p.id=A.id,p.object=A,p.geometry=f,p.material=h,p.groupOrder=g,p.renderOrder=A.renderOrder,p.z=w,p.group=v),e++,p}return{opaque:t,transmissive:r,transparent:i,init:function s(){e=0,t.length=0,r.length=0,i.length=0},push:function a(A,f,h,g,w,v){const p=o(A,f,h,g,w,v);h.transmission>0?r.push(p):!0===h.transparent?i.push(p):t.push(p)},unshift:function l(A,f,h,g,w,v){const p=o(A,f,h,g,w,v);h.transmission>0?r.unshift(p):!0===h.transparent?i.unshift(p):t.unshift(p)},finish:function u(){for(let A=e,f=n.length;A<f;A++){const h=n[A];if(null===h.id)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}},sort:function c(A,f){t.length>1&&t.sort(A||Bve),r.length>1&&r.sort(f||Kz),i.length>1&&i.sort(f||Kz)}}}function Mve(){let n=new WeakMap;return{get:function e(r,i){const s=n.get(r);let o;return void 0===s?(o=new qz,n.set(r,[o])):i>=s.length?(o=new qz,s.push(o)):o=s[i],o},dispose:function t(){n=new WeakMap}}}function Tve(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new he,color:new Yt};break;case"SpotLight":t={position:new he,direction:new he,color:new Yt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new he,color:new Yt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new he,skyColor:new Yt,groundColor:new Yt};break;case"RectAreaLight":t={color:new Yt,position:new he,halfWidth:new he,halfHeight:new he}}return n[e.id]=t,t}}}let Dve=0;function Fve(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Rve(n){const e=new Tve,t=function Ive(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new he);const i=new he,s=new gn,o=new gn;return{setup:function a(c){let u=0,A=0,f=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let h=0,g=0,w=0,v=0,p=0,C=0,E=0,B=0,U=0,k=0,H=0;c.sort(Fve);for(let L=0,D=c.length;L<D;L++){const I=c[L],O=I.color,V=I.intensity,R=I.distance,J=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)u+=O.r*V,A+=O.g*V,f+=O.b*V;else if(I.isLightProbe){for(let W=0;W<9;W++)r.probe[W].addScaledVector(I.sh.coefficients[W],V);H++}else if(I.isDirectionalLight){const W=e.get(I);if(W.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const ae=I.shadow,Z=t.get(I);Z.shadowIntensity=ae.intensity,Z.shadowBias=ae.bias,Z.shadowNormalBias=ae.normalBias,Z.shadowRadius=ae.radius,Z.shadowMapSize=ae.mapSize,r.directionalShadow[h]=Z,r.directionalShadowMap[h]=J,r.directionalShadowMatrix[h]=I.shadow.matrix,C++}r.directional[h]=W,h++}else if(I.isSpotLight){const W=e.get(I);W.position.setFromMatrixPosition(I.matrixWorld),W.color.copy(O).multiplyScalar(V),W.distance=R,W.coneCos=Math.cos(I.angle),W.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),W.decay=I.decay,r.spot[w]=W;const ae=I.shadow;if(I.map&&(r.spotLightMap[U]=I.map,U++,ae.updateMatrices(I),I.castShadow&&k++),r.spotLightMatrix[w]=ae.matrix,I.castShadow){const Z=t.get(I);Z.shadowIntensity=ae.intensity,Z.shadowBias=ae.bias,Z.shadowNormalBias=ae.normalBias,Z.shadowRadius=ae.radius,Z.shadowMapSize=ae.mapSize,r.spotShadow[w]=Z,r.spotShadowMap[w]=J,B++}w++}else if(I.isRectAreaLight){const W=e.get(I);W.color.copy(O).multiplyScalar(V),W.halfWidth.set(.5*I.width,0,0),W.halfHeight.set(0,.5*I.height,0),r.rectArea[v]=W,v++}else if(I.isPointLight){const W=e.get(I);if(W.color.copy(I.color).multiplyScalar(I.intensity),W.distance=I.distance,W.decay=I.decay,I.castShadow){const ae=I.shadow,Z=t.get(I);Z.shadowIntensity=ae.intensity,Z.shadowBias=ae.bias,Z.shadowNormalBias=ae.normalBias,Z.shadowRadius=ae.radius,Z.shadowMapSize=ae.mapSize,Z.shadowCameraNear=ae.camera.near,Z.shadowCameraFar=ae.camera.far,r.pointShadow[g]=Z,r.pointShadowMap[g]=J,r.pointShadowMatrix[g]=I.shadow.matrix,E++}r.point[g]=W,g++}else if(I.isHemisphereLight){const W=e.get(I);W.skyColor.copy(I.color).multiplyScalar(V),W.groundColor.copy(I.groundColor).multiplyScalar(V),r.hemi[p]=W,p++}}v>0&&(!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Ht.LTC_FLOAT_1,r.rectAreaLTC2=Ht.LTC_FLOAT_2):(r.rectAreaLTC1=Ht.LTC_HALF_1,r.rectAreaLTC2=Ht.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=A,r.ambient[2]=f;const P=r.hash;(P.directionalLength!==h||P.pointLength!==g||P.spotLength!==w||P.rectAreaLength!==v||P.hemiLength!==p||P.numDirectionalShadows!==C||P.numPointShadows!==E||P.numSpotShadows!==B||P.numSpotMaps!==U||P.numLightProbes!==H)&&(r.directional.length=h,r.spot.length=w,r.rectArea.length=v,r.point.length=g,r.hemi.length=p,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=B,r.spotShadowMap.length=B,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=B+U-k,r.spotLightMap.length=U,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=H,P.directionalLength=h,P.pointLength=g,P.spotLength=w,P.rectAreaLength=v,P.hemiLength=p,P.numDirectionalShadows=C,P.numPointShadows=E,P.numSpotShadows=B,P.numSpotMaps=U,P.numLightProbes=H,r.version=Dve++)},setupView:function l(c,u){let A=0,f=0,h=0,g=0,w=0;const v=u.matrixWorldInverse;for(let p=0,C=c.length;p<C;p++){const E=c[p];if(E.isDirectionalLight){const B=r.directional[A];B.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),B.direction.sub(i),B.direction.transformDirection(v),A++}else if(E.isSpotLight){const B=r.spot[h];B.position.setFromMatrixPosition(E.matrixWorld),B.position.applyMatrix4(v),B.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),B.direction.sub(i),B.direction.transformDirection(v),h++}else if(E.isRectAreaLight){const B=r.rectArea[g];B.position.setFromMatrixPosition(E.matrixWorld),B.position.applyMatrix4(v),o.identity(),s.copy(E.matrixWorld),s.premultiply(v),o.extractRotation(s),B.halfWidth.set(.5*E.width,0,0),B.halfHeight.set(0,.5*E.height,0),B.halfWidth.applyMatrix4(o),B.halfHeight.applyMatrix4(o),g++}else if(E.isPointLight){const B=r.point[f];B.position.setFromMatrixPosition(E.matrixWorld),B.position.applyMatrix4(v),f++}else if(E.isHemisphereLight){const B=r.hemi[w];B.direction.setFromMatrixPosition(E.matrixWorld),B.direction.transformDirection(v),w++}}},state:r}}function Xz(n){const e=new Rve(n),t=[],r=[],c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function i(u){c.camera=u,t.length=0,r.length=0},state:c,setupLights:function a(){e.setup(t)},setupLightsView:function l(u){e.setupView(t,u)},pushLight:function s(u){t.push(u)},pushShadow:function o(u){r.push(u)}}}function Lve(n){let e=new WeakMap;return{get:function t(i,s=0){const o=e.get(i);let a;return void 0===o?(a=new Xz(n),e.set(i,[a])):s>=o.length?(a=new Xz(n),o.push(a)):a=o[s],a},dispose:function r(){e=new WeakMap}}}function Nve(n,e,t){let r=new kw;const i=new pt,s=new pt,o=new Er,a=new V7({depthPacking:3201}),l=new G7,c={},u=t.maxTextureSize,A={0:1,1:0,2:2},f=new fA({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const g=new Xn;g.setAttribute("position",new as(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new ls(g,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=dG;let p=this.type;function C(k,H){const P=e.update(w);f.defines.VSM_SAMPLES!==k.blurSamples&&(f.defines.VSM_SAMPLES=k.blurSamples,h.defines.VSM_SAMPLES=k.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),null===k.mapPass&&(k.mapPass=new Sd(i.x,i.y)),f.uniforms.shadow_pass.value=k.map.texture,f.uniforms.resolution.value=k.mapSize,f.uniforms.radius.value=k.radius,n.setRenderTarget(k.mapPass),n.clear(),n.renderBufferDirect(H,null,P,f,w,null),h.uniforms.shadow_pass.value=k.mapPass.texture,h.uniforms.resolution.value=k.mapSize,h.uniforms.radius.value=k.radius,n.setRenderTarget(k.map),n.clear(),n.renderBufferDirect(H,null,P,h,w,null)}function E(k,H,P,L){let D=null;const I=!0===P.isPointLight?k.customDistanceMaterial:k.customDepthMaterial;if(void 0!==I)D=I;else if(D=!0===P.isPointLight?l:a,n.localClippingEnabled&&!0===H.clipShadows&&Array.isArray(H.clippingPlanes)&&0!==H.clippingPlanes.length||H.displacementMap&&0!==H.displacementScale||H.alphaMap&&H.alphaTest>0||H.map&&H.alphaTest>0||!0===H.alphaToCoverage){const O=D.uuid,V=H.uuid;let R=c[O];void 0===R&&(R={},c[O]=R);let J=R[V];void 0===J&&(J=D.clone(),R[V]=J,H.addEventListener("dispose",U)),D=J}return D.visible=H.visible,D.wireframe=H.wireframe,D.side=L===iA?null!==H.shadowSide?H.shadowSide:H.side:null!==H.shadowSide?H.shadowSide:A[H.side],D.alphaMap=H.alphaMap,D.alphaTest=!0===H.alphaToCoverage?.5:H.alphaTest,D.map=H.map,D.clipShadows=H.clipShadows,D.clippingPlanes=H.clippingPlanes,D.clipIntersection=H.clipIntersection,D.displacementMap=H.displacementMap,D.displacementScale=H.displacementScale,D.displacementBias=H.displacementBias,D.wireframeLinewidth=H.wireframeLinewidth,D.linewidth=H.linewidth,!0===P.isPointLight&&!0===D.isMeshDistanceMaterial&&(n.properties.get(D).light=P),D}function B(k,H,P,L,D){if(!1===k.visible)return;if(k.layers.test(H.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&D===iA)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,k.matrixWorld);const V=e.update(k),R=k.material;if(Array.isArray(R)){const J=V.groups;for(let W=0,ae=J.length;W<ae;W++){const Z=J[W],Ae=R[Z.materialIndex];if(Ae&&Ae.visible){const ge=E(k,Ae,L,D);k.onBeforeShadow(n,k,H,P,V,ge,Z),n.renderBufferDirect(P,null,V,ge,k,Z),k.onAfterShadow(n,k,H,P,V,ge,Z)}}}else if(R.visible){const J=E(k,R,L,D);k.onBeforeShadow(n,k,H,P,V,J,null),n.renderBufferDirect(P,null,V,J,k,null),k.onAfterShadow(n,k,H,P,V,J,null)}}const O=k.children;for(let V=0,R=O.length;V<R;V++)B(O[V],H,P,L,D)}function U(k){k.target.removeEventListener("dispose",U);for(const P in c){const L=c[P],D=k.target.uuid;D in L&&(L[D].dispose(),delete L[D])}}this.render=function(k,H,P){if(!1===v.enabled||!1===v.autoUpdate&&!1===v.needsUpdate||0===k.length)return;const L=n.getRenderTarget(),D=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),O=n.state;O.setBlending(0),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const V=p!==iA&&this.type===iA,R=p===iA&&this.type!==iA;for(let J=0,W=k.length;J<W;J++){const ae=k[J],Z=ae.shadow;if(void 0===Z){console.warn("THREE.WebGLShadowMap:",ae,"has no shadow.");continue}if(!1===Z.autoUpdate&&!1===Z.needsUpdate)continue;i.copy(Z.mapSize);const Ae=Z.getFrameExtents();if(i.multiply(Ae),s.copy(Z.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/Ae.x),i.x=s.x*Ae.x,Z.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/Ae.y),i.y=s.y*Ae.y,Z.mapSize.y=s.y)),null===Z.map||!0===V||!0===R){const Te=this.type!==iA?{minFilter:yo,magFilter:yo}:{};null!==Z.map&&Z.map.dispose(),Z.map=new Sd(i.x,i.y,Te),Z.map.texture.name=ae.name+".shadowMap",Z.camera.updateProjectionMatrix()}n.setRenderTarget(Z.map),n.clear();const ge=Z.getViewportCount();for(let Te=0;Te<ge;Te++){const Q=Z.getViewport(Te);o.set(s.x*Q.x,s.y*Q.y,s.x*Q.z,s.y*Q.w),O.viewport(o),Z.updateMatrices(ae,Te),r=Z.getFrustum(),B(H,P,Z.camera,ae,this.type)}!0!==Z.isPointLightShadow&&this.type===iA&&C(Z,P),Z.needsUpdate=!1}p=this.type,v.needsUpdate=!1,n.setRenderTarget(L,D,I)}}const Ove={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function kve(n,e){const s=new function t(){let xe=!1;const xt=new Er;let mt=null;const zt=new Er(0,0,0,0);return{setMask:function(ct){mt!==ct&&!xe&&(n.colorMask(ct,ct,ct,ct),mt=ct)},setLocked:function(ct){xe=ct},setClear:function(ct,Ge,Ct,bn,Hn){!0===Hn&&(ct*=bn,Ge*=bn,Ct*=bn),xt.set(ct,Ge,Ct,bn),!1===zt.equals(xt)&&(n.clearColor(ct,Ge,Ct,bn),zt.copy(xt))},reset:function(){xe=!1,mt=null,zt.set(-1,0,0,0)}}},o=new function r(){let xe=!1,xt=!1,mt=null,zt=null,ct=null;return{setReversed:function(Ge){if(xt!==Ge){const Ct=e.get("EXT_clip_control");Ct.clipControlEXT(Ct.LOWER_LEFT_EXT,Ge?Ct.ZERO_TO_ONE_EXT:Ct.NEGATIVE_ONE_TO_ONE_EXT),xt=Ge;const bn=ct;ct=null,this.setClear(bn)}},getReversed:function(){return xt},setTest:function(Ge){Ge?de(n.DEPTH_TEST):me(n.DEPTH_TEST)},setMask:function(Ge){mt!==Ge&&!xe&&(n.depthMask(Ge),mt=Ge)},setFunc:function(Ge){if(xt&&(Ge=Ove[Ge]),zt!==Ge){switch(Ge){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}zt=Ge}},setLocked:function(Ge){xe=Ge},setClear:function(Ge){ct!==Ge&&(xt&&(Ge=1-Ge),n.clearDepth(Ge),ct=Ge)},reset:function(){xe=!1,mt=null,zt=null,ct=null,xt=!1}}},a=new function i(){let xe=!1,xt=null,mt=null,zt=null,ct=null,Ge=null,Ct=null,bn=null,Hn=null;return{setTest:function(Zn){xe||(Zn?de(n.STENCIL_TEST):me(n.STENCIL_TEST))},setMask:function(Zn){xt!==Zn&&!xe&&(n.stencilMask(Zn),xt=Zn)},setFunc:function(Zn,Oi,cn){(mt!==Zn||zt!==Oi||ct!==cn)&&(n.stencilFunc(Zn,Oi,cn),mt=Zn,zt=Oi,ct=cn)},setOp:function(Zn,Oi,cn){(Ge!==Zn||Ct!==Oi||bn!==cn)&&(n.stencilOp(Zn,Oi,cn),Ge=Zn,Ct=Oi,bn=cn)},setLocked:function(Zn){xe=Zn},setClear:function(Zn){Hn!==Zn&&(n.clearStencil(Zn),Hn=Zn)},reset:function(){xe=!1,xt=null,mt=null,zt=null,ct=null,Ge=null,Ct=null,bn=null,Hn=null}}},l=new WeakMap,c=new WeakMap;let u={},A={},f=new WeakMap,h=[],g=null,w=!1,v=null,p=null,C=null,E=null,B=null,U=null,k=null,H=new Yt(0,0,0),P=0,L=!1,D=null,I=null,O=null,V=null,R=null;const J=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,ae=0;const Z=n.getParameter(n.VERSION);-1!==Z.indexOf("WebGL")?(ae=parseFloat(/^WebGL (\d)/.exec(Z)[1]),W=ae>=1):-1!==Z.indexOf("OpenGL ES")&&(ae=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),W=ae>=2);let Ae=null,ge={};const Te=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),se=(new Er).fromArray(Te),$=(new Er).fromArray(Q);function oe(xe,xt,mt,zt){const ct=new Uint8Array(4),Ge=n.createTexture();n.bindTexture(xe,Ge),n.texParameteri(xe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(xe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ct=0;Ct<mt;Ct++)xe===n.TEXTURE_3D||xe===n.TEXTURE_2D_ARRAY?n.texImage3D(xt,0,n.RGBA,1,1,zt,0,n.RGBA,n.UNSIGNED_BYTE,ct):n.texImage2D(xt+Ct,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ct);return Ge}const pe={};function de(xe){!0!==u[xe]&&(n.enable(xe),u[xe]=!0)}function me(xe){!1!==u[xe]&&(n.disable(xe),u[xe]=!1)}pe[n.TEXTURE_2D]=oe(n.TEXTURE_2D,n.TEXTURE_2D,1),pe[n.TEXTURE_CUBE_MAP]=oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[n.TEXTURE_2D_ARRAY]=oe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),pe[n.TEXTURE_3D]=oe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),de(n.DEPTH_TEST),o.setFunc(3),ee(!1),Pe(1),de(n.CULL_FACE),te(0);const dt={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};dt[103]=n.MIN,dt[104]=n.MAX;const nt={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function te(xe,xt,mt,zt,ct,Ge,Ct,bn,Hn,Zn){if(0!==xe){if(!1===w&&(de(n.BLEND),w=!0),5===xe)ct=ct||xt,Ge=Ge||mt,Ct=Ct||zt,(xt!==p||ct!==B)&&(n.blendEquationSeparate(dt[xt],dt[ct]),p=xt,B=ct),(mt!==C||zt!==E||Ge!==U||Ct!==k)&&(n.blendFuncSeparate(nt[mt],nt[zt],nt[Ge],nt[Ct]),C=mt,E=zt,U=Ge,k=Ct),(!1===bn.equals(H)||Hn!==P)&&(n.blendColor(bn.r,bn.g,bn.b,Hn),H.copy(bn),P=Hn),v=xe,L=!1;else if(xe!==v||Zn!==L){if((100!==p||100!==B)&&(n.blendEquation(n.FUNC_ADD),p=100,B=100),Zn)switch(xe){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",xe)}else switch(xe){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case 3:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case 4:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",xe)}C=null,E=null,U=null,k=null,H.set(0,0,0),P=0,v=xe,L=Zn}}else!0===w&&(me(n.BLEND),w=!1)}function ee(xe){D!==xe&&(n.frontFace(xe?n.CW:n.CCW),D=xe)}function Pe(xe){0!==xe?(de(n.CULL_FACE),xe!==I&&n.cullFace(1===xe?n.BACK:2===xe?n.FRONT:n.FRONT_AND_BACK)):me(n.CULL_FACE),I=xe}function Oe(xe,xt,mt){xe?(de(n.POLYGON_OFFSET_FILL),(V!==xt||R!==mt)&&(n.polygonOffset(xt,mt),V=xt,R=mt)):me(n.POLYGON_OFFSET_FILL)}return{buffers:{color:s,depth:o,stencil:a},enable:de,disable:me,bindFramebuffer:function Ee(xe,xt){return A[xe]!==xt&&(n.bindFramebuffer(xe,xt),A[xe]=xt,xe===n.DRAW_FRAMEBUFFER&&(A[n.FRAMEBUFFER]=xt),xe===n.FRAMEBUFFER&&(A[n.DRAW_FRAMEBUFFER]=xt),!0)},drawBuffers:function ze(xe,xt){let mt=h,zt=!1;if(xe){mt=f.get(xt),void 0===mt&&(mt=[],f.set(xt,mt));const ct=xe.textures;if(mt.length!==ct.length||mt[0]!==n.COLOR_ATTACHMENT0){for(let Ge=0,Ct=ct.length;Ge<Ct;Ge++)mt[Ge]=n.COLOR_ATTACHMENT0+Ge;mt.length=ct.length,zt=!0}}else mt[0]!==n.BACK&&(mt[0]=n.BACK,zt=!0);zt&&n.drawBuffers(mt)},useProgram:function st(xe){return g!==xe&&(n.useProgram(xe),g=xe,!0)},setBlending:te,setMaterial:function ve(xe,xt){2===xe.side?me(n.CULL_FACE):de(n.CULL_FACE);let mt=1===xe.side;xt&&(mt=!mt),ee(mt),1===xe.blending&&!1===xe.transparent?te(0):te(xe.blending,xe.blendEquation,xe.blendSrc,xe.blendDst,xe.blendEquationAlpha,xe.blendSrcAlpha,xe.blendDstAlpha,xe.blendColor,xe.blendAlpha,xe.premultipliedAlpha),o.setFunc(xe.depthFunc),o.setTest(xe.depthTest),o.setMask(xe.depthWrite),s.setMask(xe.colorWrite);const zt=xe.stencilWrite;a.setTest(zt),zt&&(a.setMask(xe.stencilWriteMask),a.setFunc(xe.stencilFunc,xe.stencilRef,xe.stencilFuncMask),a.setOp(xe.stencilFail,xe.stencilZFail,xe.stencilZPass)),Oe(xe.polygonOffset,xe.polygonOffsetFactor,xe.polygonOffsetUnits),!0===xe.alphaToCoverage?de(n.SAMPLE_ALPHA_TO_COVERAGE):me(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ee,setCullFace:Pe,setLineWidth:function Se(xe){xe!==O&&(W&&n.lineWidth(xe),O=xe)},setPolygonOffset:Oe,setScissorTest:function Fe(xe){xe?de(n.SCISSOR_TEST):me(n.SCISSOR_TEST)},activeTexture:function qe(xe){void 0===xe&&(xe=n.TEXTURE0+J-1),Ae!==xe&&(n.activeTexture(xe),Ae=xe)},bindTexture:function ot(xe,xt,mt){void 0===mt&&(mt=null===Ae?n.TEXTURE0+J-1:Ae);let zt=ge[mt];void 0===zt&&(zt={type:void 0,texture:void 0},ge[mt]=zt),(zt.type!==xe||zt.texture!==xt)&&(Ae!==mt&&(n.activeTexture(mt),Ae=mt),n.bindTexture(xe,xt||pe[xe]),zt.type=xe,zt.texture=xt)},unbindTexture:function re(){const xe=ge[Ae];void 0!==xe&&void 0!==xe.type&&(n.bindTexture(xe.type,null),xe.type=void 0,xe.texture=void 0)},compressedTexImage2D:function z(){try{n.compressedTexImage2D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},compressedTexImage3D:function Ce(){try{n.compressedTexImage3D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},texImage2D:function Ut(){try{n.texImage2D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},texImage3D:function Ze(){try{n.texImage3D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},updateUBOMapping:function Qt(xe,xt){let mt=c.get(xt);void 0===mt&&(mt=new WeakMap,c.set(xt,mt));let zt=mt.get(xe);void 0===zt&&(zt=n.getUniformBlockIndex(xt,xe.name),mt.set(xe,zt))},uniformBlockBinding:function Bt(xe,xt){const zt=c.get(xt).get(xe);l.get(xt)!==zt&&(n.uniformBlockBinding(xt,zt,xe.__bindingPointIndex),l.set(xt,zt))},texStorage2D:function lt(){try{n.texStorage2D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},texStorage3D:function Ye(){try{n.texStorage3D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},texSubImage2D:function Ne(){try{n.texSubImage2D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},texSubImage3D:function Ke(){try{n.texSubImage3D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},compressedTexSubImage2D:function Ve(){try{n.compressedTexSubImage2D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},compressedTexSubImage3D:function gt(){try{n.compressedTexSubImage3D(...arguments)}catch(xe){console.error("THREE.WebGLState:",xe)}},scissor:function Rt(xe){!1===se.equals(xe)&&(n.scissor(xe.x,xe.y,xe.z,xe.w),se.copy(xe))},viewport:function Pt(xe){!1===$.equals(xe)&&(n.viewport(xe.x,xe.y,xe.z,xe.w),$.copy(xe))},reset:function Vt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},Ae=null,ge={},A={},f=new WeakMap,h=[],g=null,w=!1,v=null,p=null,C=null,E=null,B=null,U=null,k=null,H=new Yt(0,0,0),P=0,L=!1,D=null,I=null,O=null,V=null,R=null,se.set(0,0,n.canvas.width,n.canvas.height),$.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}}}function Hve(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),c=new pt,u=new WeakMap;let A;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function g(re,z){return h?new OffscreenCanvas(re,z):Sw("canvas")}function w(re,z,Ce){let Ne=1;const Ke=ot(re);if((Ke.width>Ce||Ke.height>Ce)&&(Ne=Ce/Math.max(Ke.width,Ke.height)),Ne<1){if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const Ve=Math.floor(Ne*Ke.width),gt=Math.floor(Ne*Ke.height);void 0===A&&(A=g(Ve,gt));const lt=z?g(Ve,gt):A;return lt.width=Ve,lt.height=gt,lt.getContext("2d").drawImage(re,0,0,Ve,gt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ke.width+"x"+Ke.height+") to ("+Ve+"x"+gt+")."),lt}return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ke.width+"x"+Ke.height+")."),re}return re}function v(re){return re.generateMipmaps}function p(re){n.generateMipmap(re)}function C(re){return re.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:re.isWebGL3DRenderTarget?n.TEXTURE_3D:re.isWebGLArrayRenderTarget||re.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function E(re,z,Ce,Ne,Ke=!1){if(null!==re){if(void 0!==n[re])return n[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let Ve=z;if(z===n.RED&&(Ce===n.FLOAT&&(Ve=n.R32F),Ce===n.HALF_FLOAT&&(Ve=n.R16F),Ce===n.UNSIGNED_BYTE&&(Ve=n.R8)),z===n.RED_INTEGER&&(Ce===n.UNSIGNED_BYTE&&(Ve=n.R8UI),Ce===n.UNSIGNED_SHORT&&(Ve=n.R16UI),Ce===n.UNSIGNED_INT&&(Ve=n.R32UI),Ce===n.BYTE&&(Ve=n.R8I),Ce===n.SHORT&&(Ve=n.R16I),Ce===n.INT&&(Ve=n.R32I)),z===n.RG&&(Ce===n.FLOAT&&(Ve=n.RG32F),Ce===n.HALF_FLOAT&&(Ve=n.RG16F),Ce===n.UNSIGNED_BYTE&&(Ve=n.RG8)),z===n.RG_INTEGER&&(Ce===n.UNSIGNED_BYTE&&(Ve=n.RG8UI),Ce===n.UNSIGNED_SHORT&&(Ve=n.RG16UI),Ce===n.UNSIGNED_INT&&(Ve=n.RG32UI),Ce===n.BYTE&&(Ve=n.RG8I),Ce===n.SHORT&&(Ve=n.RG16I),Ce===n.INT&&(Ve=n.RG32I)),z===n.RGB_INTEGER&&(Ce===n.UNSIGNED_BYTE&&(Ve=n.RGB8UI),Ce===n.UNSIGNED_SHORT&&(Ve=n.RGB16UI),Ce===n.UNSIGNED_INT&&(Ve=n.RGB32UI),Ce===n.BYTE&&(Ve=n.RGB8I),Ce===n.SHORT&&(Ve=n.RGB16I),Ce===n.INT&&(Ve=n.RGB32I)),z===n.RGBA_INTEGER&&(Ce===n.UNSIGNED_BYTE&&(Ve=n.RGBA8UI),Ce===n.UNSIGNED_SHORT&&(Ve=n.RGBA16UI),Ce===n.UNSIGNED_INT&&(Ve=n.RGBA32UI),Ce===n.BYTE&&(Ve=n.RGBA8I),Ce===n.SHORT&&(Ve=n.RGBA16I),Ce===n.INT&&(Ve=n.RGBA32I)),z===n.RGB&&Ce===n.UNSIGNED_INT_5_9_9_9_REV&&(Ve=n.RGB9_E5),z===n.RGBA){const gt=Ke?_2:_r.getTransfer(Ne);Ce===n.FLOAT&&(Ve=n.RGBA32F),Ce===n.HALF_FLOAT&&(Ve=n.RGBA16F),Ce===n.UNSIGNED_BYTE&&(Ve=gt===$r?n.SRGB8_ALPHA8:n.RGBA8),Ce===n.UNSIGNED_SHORT_4_4_4_4&&(Ve=n.RGBA4),Ce===n.UNSIGNED_SHORT_5_5_5_1&&(Ve=n.RGB5_A1)}return(Ve===n.R16F||Ve===n.R32F||Ve===n.RG16F||Ve===n.RG32F||Ve===n.RGBA16F||Ve===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ve}function B(re,z){let Ce;return re?null===z||z===Th||z===bw?Ce=n.DEPTH24_STENCIL8:z===Qa?Ce=n.DEPTH32F_STENCIL8:z===ww&&(Ce=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===z||z===Th||z===bw?Ce=n.DEPTH_COMPONENT24:z===Qa?Ce=n.DEPTH_COMPONENT32F:z===ww&&(Ce=n.DEPTH_COMPONENT16),Ce}function U(re,z){return!0===v(re)||re.isFramebufferTexture&&re.minFilter!==yo&&re.minFilter!==_s?Math.log2(Math.max(z.width,z.height))+1:void 0!==re.mipmaps&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?z.mipmaps.length:1}function k(re){const z=re.target;z.removeEventListener("dispose",k),function P(re){const z=r.get(re);if(void 0===z.__webglInit)return;const Ce=re.source,Ne=f.get(Ce);if(Ne){const Ke=Ne[z.__cacheKey];Ke.usedTimes--,0===Ke.usedTimes&&L(re),0===Object.keys(Ne).length&&f.delete(Ce)}r.remove(re)}(z),z.isVideoTexture&&u.delete(z)}function H(re){const z=re.target;z.removeEventListener("dispose",H),function D(re){const z=r.get(re);if(re.depthTexture&&(re.depthTexture.dispose(),r.remove(re.depthTexture)),re.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++){if(Array.isArray(z.__webglFramebuffer[Ne]))for(let Ke=0;Ke<z.__webglFramebuffer[Ne].length;Ke++)n.deleteFramebuffer(z.__webglFramebuffer[Ne][Ke]);else n.deleteFramebuffer(z.__webglFramebuffer[Ne]);z.__webglDepthbuffer&&n.deleteRenderbuffer(z.__webglDepthbuffer[Ne])}else{if(Array.isArray(z.__webglFramebuffer))for(let Ne=0;Ne<z.__webglFramebuffer.length;Ne++)n.deleteFramebuffer(z.__webglFramebuffer[Ne]);else n.deleteFramebuffer(z.__webglFramebuffer);if(z.__webglDepthbuffer&&n.deleteRenderbuffer(z.__webglDepthbuffer),z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(z.__webglMultisampledFramebuffer),z.__webglColorRenderbuffer)for(let Ne=0;Ne<z.__webglColorRenderbuffer.length;Ne++)z.__webglColorRenderbuffer[Ne]&&n.deleteRenderbuffer(z.__webglColorRenderbuffer[Ne]);z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(z.__webglDepthRenderbuffer)}const Ce=re.textures;for(let Ne=0,Ke=Ce.length;Ne<Ke;Ne++){const Ve=r.get(Ce[Ne]);Ve.__webglTexture&&(n.deleteTexture(Ve.__webglTexture),o.memory.textures--),r.remove(Ce[Ne])}r.remove(re)}(z)}function L(re){const z=r.get(re);n.deleteTexture(z.__webglTexture),delete f.get(re.source)[z.__cacheKey],o.memory.textures--}let I=0;function J(re,z){const Ce=r.get(re);if(re.isVideoTexture&&function Fe(re){const z=o.render.frame;u.get(re)!==z&&(u.set(re,z),re.update())}(re),!1===re.isRenderTargetTexture&&re.version>0&&Ce.__version!==re.version){const Ne=re.image;if(null===Ne)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Ne.complete)return void pe(Ce,re,z);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Ce.__webglTexture,n.TEXTURE0+z)}const Ae={1e3:n.REPEAT,[uc]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},ge={[yo]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[_s]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[su]:n.LINEAR_MIPMAP_LINEAR},Te={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function Q(re,z){if(z.type===Qa&&!1===e.has("OES_texture_float_linear")&&(z.magFilter===_s||1007===z.magFilter||1005===z.magFilter||z.magFilter===su||z.minFilter===_s||1007===z.minFilter||1005===z.minFilter||z.minFilter===su)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(re,n.TEXTURE_WRAP_S,Ae[z.wrapS]),n.texParameteri(re,n.TEXTURE_WRAP_T,Ae[z.wrapT]),(re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY)&&n.texParameteri(re,n.TEXTURE_WRAP_R,Ae[z.wrapR]),n.texParameteri(re,n.TEXTURE_MAG_FILTER,ge[z.magFilter]),n.texParameteri(re,n.TEXTURE_MIN_FILTER,ge[z.minFilter]),z.compareFunction&&(n.texParameteri(re,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(re,n.TEXTURE_COMPARE_FUNC,Te[z.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(z.magFilter===yo||1005!==z.minFilter&&z.minFilter!==su||z.type===Qa&&!1===e.has("OES_texture_float_linear"))return;if(z.anisotropy>1||r.get(z).__currentAnisotropy){const Ce=e.get("EXT_texture_filter_anisotropic");n.texParameterf(re,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy}}}function se(re,z){let Ce=!1;void 0===re.__webglInit&&(re.__webglInit=!0,z.addEventListener("dispose",k));const Ne=z.source;let Ke=f.get(Ne);void 0===Ke&&(Ke={},f.set(Ne,Ke));const Ve=function R(re){const z=[];return z.push(re.wrapS),z.push(re.wrapT),z.push(re.wrapR||0),z.push(re.magFilter),z.push(re.minFilter),z.push(re.anisotropy),z.push(re.internalFormat),z.push(re.format),z.push(re.type),z.push(re.generateMipmaps),z.push(re.premultiplyAlpha),z.push(re.flipY),z.push(re.unpackAlignment),z.push(re.colorSpace),z.join()}(z);if(Ve!==re.__cacheKey){void 0===Ke[Ve]&&(Ke[Ve]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Ce=!0),Ke[Ve].usedTimes++;const gt=Ke[re.__cacheKey];void 0!==gt&&(Ke[re.__cacheKey].usedTimes--,0===gt.usedTimes&&L(z)),re.__cacheKey=Ve,re.__webglTexture=Ke[Ve].texture}return Ce}function $(re,z,Ce){return Math.floor(Math.floor(re/Ce)/z)}function pe(re,z,Ce){let Ne=n.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Ne=n.TEXTURE_2D_ARRAY),z.isData3DTexture&&(Ne=n.TEXTURE_3D);const Ke=se(re,z),Ve=z.source;t.bindTexture(Ne,re.__webglTexture,n.TEXTURE0+Ce);const gt=r.get(Ve);if(Ve.version!==gt.__version||!0===Ke){t.activeTexture(n.TEXTURE0+Ce);const lt=_r.getPrimaries(_r.workingColorSpace),Ye=""===z.colorSpace?null:_r.getPrimaries(z.colorSpace),Ut=""===z.colorSpace||lt===Ye?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ut);let Ze=w(z.image,!1,i.maxTextureSize);Ze=qe(z,Ze);const Rt=s.convert(z.format,z.colorSpace),Pt=s.convert(z.type);let Bt,Qt=E(z.internalFormat,Rt,Pt,z.colorSpace,z.isVideoTexture);Q(Ne,z);const Vt=z.mipmaps,xe=!0!==z.isVideoTexture,xt=void 0===gt.__version||!0===Ke,mt=Ve.dataReady,zt=U(z,Ze);if(z.isDepthTexture)Qt=B(z.format===Cw,z.type),xt&&(xe?t.texStorage2D(n.TEXTURE_2D,1,Qt,Ze.width,Ze.height):t.texImage2D(n.TEXTURE_2D,0,Qt,Ze.width,Ze.height,0,Rt,Pt,null));else if(z.isDataTexture)if(Vt.length>0){xe&&xt&&t.texStorage2D(n.TEXTURE_2D,zt,Qt,Vt[0].width,Vt[0].height);for(let ct=0,Ge=Vt.length;ct<Ge;ct++)Bt=Vt[ct],xe?mt&&t.texSubImage2D(n.TEXTURE_2D,ct,0,0,Bt.width,Bt.height,Rt,Pt,Bt.data):t.texImage2D(n.TEXTURE_2D,ct,Qt,Bt.width,Bt.height,0,Rt,Pt,Bt.data);z.generateMipmaps=!1}else xe?(xt&&t.texStorage2D(n.TEXTURE_2D,zt,Qt,Ze.width,Ze.height),mt&&function oe(re,z,Ce,Ne){const Ve=re.updateRanges;if(0===Ve.length)t.texSubImage2D(n.TEXTURE_2D,0,0,0,z.width,z.height,Ce,Ne,z.data);else{Ve.sort((Ze,Rt)=>Ze.start-Rt.start);let gt=0;for(let Ze=1;Ze<Ve.length;Ze++){const Rt=Ve[gt],Pt=Ve[Ze],Qt=Rt.start+Rt.count,Bt=$(Pt.start,z.width,4),Vt=$(Rt.start,z.width,4);Pt.start<=Qt+1&&Bt===Vt&&$(Pt.start+Pt.count-1,z.width,4)===Bt?Rt.count=Math.max(Rt.count,Pt.start+Pt.count-Rt.start):(++gt,Ve[gt]=Pt)}Ve.length=gt+1;const lt=n.getParameter(n.UNPACK_ROW_LENGTH),Ye=n.getParameter(n.UNPACK_SKIP_PIXELS),Ut=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,z.width);for(let Ze=0,Rt=Ve.length;Ze<Rt;Ze++){const Pt=Ve[Ze],Qt=Math.floor(Pt.start/4),Bt=Math.ceil(Pt.count/4),Vt=Qt%z.width,xe=Math.floor(Qt/z.width),xt=Bt,mt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Vt),n.pixelStorei(n.UNPACK_SKIP_ROWS,xe),t.texSubImage2D(n.TEXTURE_2D,0,Vt,xe,xt,mt,Ce,Ne,z.data)}re.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,lt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ye),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ut)}}(z,Ze,Rt,Pt)):t.texImage2D(n.TEXTURE_2D,0,Qt,Ze.width,Ze.height,0,Rt,Pt,Ze.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){xe&&xt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,zt,Qt,Vt[0].width,Vt[0].height,Ze.depth);for(let ct=0,Ge=Vt.length;ct<Ge;ct++)if(Bt=Vt[ct],z.format!==la)if(null!==Rt)if(xe){if(mt)if(z.layerUpdates.size>0){const Ct=sL(Bt.width,Bt.height,z.format,z.type);for(const bn of z.layerUpdates){const Hn=Bt.data.subarray(bn*Ct/Bt.data.BYTES_PER_ELEMENT,(bn+1)*Ct/Bt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ct,0,0,bn,Bt.width,Bt.height,1,Rt,Hn)}z.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ct,0,0,0,Bt.width,Bt.height,Ze.depth,Rt,Bt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ct,Qt,Bt.width,Bt.height,Ze.depth,0,Bt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else xe?mt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ct,0,0,0,Bt.width,Bt.height,Ze.depth,Rt,Pt,Bt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ct,Qt,Bt.width,Bt.height,Ze.depth,0,Rt,Pt,Bt.data)}else{xe&&xt&&t.texStorage2D(n.TEXTURE_2D,zt,Qt,Vt[0].width,Vt[0].height);for(let ct=0,Ge=Vt.length;ct<Ge;ct++)Bt=Vt[ct],z.format!==la?null!==Rt?xe?mt&&t.compressedTexSubImage2D(n.TEXTURE_2D,ct,0,0,Bt.width,Bt.height,Rt,Bt.data):t.compressedTexImage2D(n.TEXTURE_2D,ct,Qt,Bt.width,Bt.height,0,Bt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xe?mt&&t.texSubImage2D(n.TEXTURE_2D,ct,0,0,Bt.width,Bt.height,Rt,Pt,Bt.data):t.texImage2D(n.TEXTURE_2D,ct,Qt,Bt.width,Bt.height,0,Rt,Pt,Bt.data)}else if(z.isDataArrayTexture)if(xe){if(xt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,zt,Qt,Ze.width,Ze.height,Ze.depth),mt)if(z.layerUpdates.size>0){const ct=sL(Ze.width,Ze.height,z.format,z.type);for(const Ge of z.layerUpdates){const Ct=Ze.data.subarray(Ge*ct/Ze.data.BYTES_PER_ELEMENT,(Ge+1)*ct/Ze.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ge,Ze.width,Ze.height,1,Rt,Pt,Ct)}z.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ze.width,Ze.height,Ze.depth,Rt,Pt,Ze.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Qt,Ze.width,Ze.height,Ze.depth,0,Rt,Pt,Ze.data);else if(z.isData3DTexture)xe?(xt&&t.texStorage3D(n.TEXTURE_3D,zt,Qt,Ze.width,Ze.height,Ze.depth),mt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ze.width,Ze.height,Ze.depth,Rt,Pt,Ze.data)):t.texImage3D(n.TEXTURE_3D,0,Qt,Ze.width,Ze.height,Ze.depth,0,Rt,Pt,Ze.data);else if(z.isFramebufferTexture){if(xt)if(xe)t.texStorage2D(n.TEXTURE_2D,zt,Qt,Ze.width,Ze.height);else{let ct=Ze.width,Ge=Ze.height;for(let Ct=0;Ct<zt;Ct++)t.texImage2D(n.TEXTURE_2D,Ct,Qt,ct,Ge,0,Rt,Pt,null),ct>>=1,Ge>>=1}}else if(Vt.length>0){if(xe&&xt){const ct=ot(Vt[0]);t.texStorage2D(n.TEXTURE_2D,zt,Qt,ct.width,ct.height)}for(let ct=0,Ge=Vt.length;ct<Ge;ct++)Bt=Vt[ct],xe?mt&&t.texSubImage2D(n.TEXTURE_2D,ct,0,0,Rt,Pt,Bt):t.texImage2D(n.TEXTURE_2D,ct,Qt,Rt,Pt,Bt);z.generateMipmaps=!1}else if(xe){if(xt){const ct=ot(Ze);t.texStorage2D(n.TEXTURE_2D,zt,Qt,ct.width,ct.height)}mt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Rt,Pt,Ze)}else t.texImage2D(n.TEXTURE_2D,0,Qt,Rt,Pt,Ze);v(z)&&p(Ne),gt.__version=Ve.version,z.onUpdate&&z.onUpdate(z)}re.__version=z.version}function me(re,z,Ce,Ne,Ke,Ve){const gt=s.convert(Ce.format,Ce.colorSpace),lt=s.convert(Ce.type),Ye=E(Ce.internalFormat,gt,lt,Ce.colorSpace),Ut=r.get(z),Ze=r.get(Ce);if(Ze.__renderTarget=z,!Ut.__hasExternalTextures){const Rt=Math.max(1,z.width>>Ve),Pt=Math.max(1,z.height>>Ve);Ke===n.TEXTURE_3D||Ke===n.TEXTURE_2D_ARRAY?t.texImage3D(Ke,Ve,Ye,Rt,Pt,z.depth,0,gt,lt,null):t.texImage2D(Ke,Ve,Ye,Rt,Pt,0,gt,lt,null)}t.bindFramebuffer(n.FRAMEBUFFER,re),Oe(z)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ne,Ke,Ze.__webglTexture,0,Se(z)):(Ke===n.TEXTURE_2D||Ke>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ke<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ne,Ke,Ze.__webglTexture,Ve),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(re,z,Ce){if(n.bindRenderbuffer(n.RENDERBUFFER,re),z.depthBuffer){const Ne=z.depthTexture,Ve=B(z.stencilBuffer,Ne&&Ne.isDepthTexture?Ne.type:null),gt=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,lt=Se(z);Oe(z)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,lt,Ve,z.width,z.height):Ce?n.renderbufferStorageMultisample(n.RENDERBUFFER,lt,Ve,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,Ve,z.width,z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,gt,n.RENDERBUFFER,re)}else{const Ne=z.textures;for(let Ke=0;Ke<Ne.length;Ke++){const Ve=Ne[Ke],gt=s.convert(Ve.format,Ve.colorSpace),lt=s.convert(Ve.type),Ye=E(Ve.internalFormat,gt,lt,Ve.colorSpace),Ut=Se(z);Ce&&!1===Oe(z)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ut,Ye,z.width,z.height):Oe(z)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ut,Ye,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,Ye,z.width,z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function st(re){const z=r.get(re),Ce=!0===re.isWebGLCubeRenderTarget;if(z.__boundDepthTexture!==re.depthTexture){const Ne=re.depthTexture;if(z.__depthDisposeCallback&&z.__depthDisposeCallback(),Ne){const Ke=()=>{delete z.__boundDepthTexture,delete z.__depthDisposeCallback,Ne.removeEventListener("dispose",Ke)};Ne.addEventListener("dispose",Ke),z.__depthDisposeCallback=Ke}z.__boundDepthTexture=Ne}if(re.depthTexture&&!z.__autoAllocateDepthBuffer){if(Ce)throw new Error("target.depthTexture not supported in Cube render targets");const Ne=re.texture.mipmaps;!function ze(re,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,re),!z.depthTexture||!z.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ne=r.get(z.depthTexture);Ne.__renderTarget=z,(!Ne.__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),J(z.depthTexture,0);const Ke=Ne.__webglTexture,Ve=Se(z);if(z.depthTexture.format===xw)Oe(z)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ke,0,Ve):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ke,0);else{if(z.depthTexture.format!==Cw)throw new Error("Unknown depthTexture format");Oe(z)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ke,0,Ve):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ke,0)}}(Ne&&Ne.length>0?z.__webglFramebuffer[0]:z.__webglFramebuffer,re)}else if(Ce){z.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)if(t.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer[Ne]),void 0===z.__webglDepthbuffer[Ne])z.__webglDepthbuffer[Ne]=n.createRenderbuffer(),Ee(z.__webglDepthbuffer[Ne],re,!1);else{const Ke=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ve=z.__webglDepthbuffer[Ne];n.bindRenderbuffer(n.RENDERBUFFER,Ve),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ke,n.RENDERBUFFER,Ve)}}else{const Ne=re.texture.mipmaps;if(t.bindFramebuffer(n.FRAMEBUFFER,Ne&&Ne.length>0?z.__webglFramebuffer[0]:z.__webglFramebuffer),void 0===z.__webglDepthbuffer)z.__webglDepthbuffer=n.createRenderbuffer(),Ee(z.__webglDepthbuffer,re,!1);else{const Ke=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ve=z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ve),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ke,n.RENDERBUFFER,Ve)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}const ve=[],ee=[];function Se(re){return Math.min(i.maxSamples,re.samples)}function Oe(re){const z=r.get(re);return re.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==z.__useRenderToTexture}function qe(re,z){const Ce=re.colorSpace,Ne=re.format,Ke=re.type;return!0===re.isCompressedTexture||!0===re.isVideoTexture||Ce!==Bm&&""!==Ce&&(_r.getTransfer(Ce)===$r?(Ne!==la||Ke!==ou)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ce)),z}function ot(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(c.width=re.naturalWidth||re.width,c.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(c.width=re.displayWidth,c.height=re.displayHeight):(c.width=re.width,c.height=re.height),c}this.allocateTextureUnit=function V(){const re=I;return re>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+i.maxTextures),I+=1,re},this.resetTextureUnits=function O(){I=0},this.setTexture2D=J,this.setTexture2DArray=function W(re,z){const Ce=r.get(re);re.version>0&&Ce.__version!==re.version?pe(Ce,re,z):t.bindTexture(n.TEXTURE_2D_ARRAY,Ce.__webglTexture,n.TEXTURE0+z)},this.setTexture3D=function ae(re,z){const Ce=r.get(re);re.version>0&&Ce.__version!==re.version?pe(Ce,re,z):t.bindTexture(n.TEXTURE_3D,Ce.__webglTexture,n.TEXTURE0+z)},this.setTextureCube=function Z(re,z){const Ce=r.get(re);re.version>0&&Ce.__version!==re.version?function de(re,z,Ce){if(6!==z.image.length)return;const Ne=se(re,z),Ke=z.source;t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+Ce);const Ve=r.get(Ke);if(Ke.version!==Ve.__version||!0===Ne){t.activeTexture(n.TEXTURE0+Ce);const gt=_r.getPrimaries(_r.workingColorSpace),lt=""===z.colorSpace?null:_r.getPrimaries(z.colorSpace),Ye=""===z.colorSpace||gt===lt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ye);const Ut=z.isCompressedTexture||z.image[0].isCompressedTexture,Ze=z.image[0]&&z.image[0].isDataTexture,Rt=[];for(let Ge=0;Ge<6;Ge++)Rt[Ge]=Ut||Ze?Ze?z.image[Ge].image:z.image[Ge]:w(z.image[Ge],!0,i.maxCubemapSize),Rt[Ge]=qe(z,Rt[Ge]);const Pt=Rt[0],Qt=s.convert(z.format,z.colorSpace),Bt=s.convert(z.type),Vt=E(z.internalFormat,Qt,Bt,z.colorSpace),xe=!0!==z.isVideoTexture,xt=void 0===Ve.__version||!0===Ne,mt=Ke.dataReady;let ct,zt=U(z,Pt);if(Q(n.TEXTURE_CUBE_MAP,z),Ut){xe&&xt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,zt,Vt,Pt.width,Pt.height);for(let Ge=0;Ge<6;Ge++){ct=Rt[Ge].mipmaps;for(let Ct=0;Ct<ct.length;Ct++){const bn=ct[Ct];z.format!==la?null!==Qt?xe?mt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ct,0,0,bn.width,bn.height,Qt,bn.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ct,Vt,bn.width,bn.height,0,bn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):xe?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ct,0,0,bn.width,bn.height,Qt,Bt,bn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ct,Vt,bn.width,bn.height,0,Qt,Bt,bn.data)}}}else{if(ct=z.mipmaps,xe&&xt){ct.length>0&&zt++;const Ge=ot(Rt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,zt,Vt,Ge.width,Ge.height)}for(let Ge=0;Ge<6;Ge++)if(Ze){xe?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,Rt[Ge].width,Rt[Ge].height,Qt,Bt,Rt[Ge].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,Vt,Rt[Ge].width,Rt[Ge].height,0,Qt,Bt,Rt[Ge].data);for(let Ct=0;Ct<ct.length;Ct++){const Hn=ct[Ct].image[Ge].image;xe?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ct+1,0,0,Hn.width,Hn.height,Qt,Bt,Hn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ct+1,Vt,Hn.width,Hn.height,0,Qt,Bt,Hn.data)}}else{xe?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,Qt,Bt,Rt[Ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,Vt,Qt,Bt,Rt[Ge]);for(let Ct=0;Ct<ct.length;Ct++){const bn=ct[Ct];xe?mt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ct+1,0,0,Qt,Bt,bn.image[Ge]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ct+1,Vt,Qt,Bt,bn.image[Ge])}}}v(z)&&p(n.TEXTURE_CUBE_MAP),Ve.__version=Ke.version,z.onUpdate&&z.onUpdate(z)}re.__version=z.version}(Ce,re,z):t.bindTexture(n.TEXTURE_CUBE_MAP,Ce.__webglTexture,n.TEXTURE0+z)},this.rebindTextures=function dt(re,z,Ce){const Ne=r.get(re);void 0!==z&&me(Ne.__webglFramebuffer,re,re.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Ce&&st(re)},this.setupRenderTarget=function nt(re){const z=re.texture,Ce=r.get(re),Ne=r.get(z);re.addEventListener("dispose",H);const Ke=re.textures,Ve=!0===re.isWebGLCubeRenderTarget,gt=Ke.length>1;if(gt||(void 0===Ne.__webglTexture&&(Ne.__webglTexture=n.createTexture()),Ne.__version=z.version,o.memory.textures++),Ve){Ce.__webglFramebuffer=[];for(let lt=0;lt<6;lt++)if(z.mipmaps&&z.mipmaps.length>0){Ce.__webglFramebuffer[lt]=[];for(let Ye=0;Ye<z.mipmaps.length;Ye++)Ce.__webglFramebuffer[lt][Ye]=n.createFramebuffer()}else Ce.__webglFramebuffer[lt]=n.createFramebuffer()}else{if(z.mipmaps&&z.mipmaps.length>0){Ce.__webglFramebuffer=[];for(let lt=0;lt<z.mipmaps.length;lt++)Ce.__webglFramebuffer[lt]=n.createFramebuffer()}else Ce.__webglFramebuffer=n.createFramebuffer();if(gt)for(let lt=0,Ye=Ke.length;lt<Ye;lt++){const Ut=r.get(Ke[lt]);void 0===Ut.__webglTexture&&(Ut.__webglTexture=n.createTexture(),o.memory.textures++)}if(re.samples>0&&!1===Oe(re)){Ce.__webglMultisampledFramebuffer=n.createFramebuffer(),Ce.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ce.__webglMultisampledFramebuffer);for(let lt=0;lt<Ke.length;lt++){const Ye=Ke[lt];Ce.__webglColorRenderbuffer[lt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ce.__webglColorRenderbuffer[lt]);const Ut=s.convert(Ye.format,Ye.colorSpace),Ze=s.convert(Ye.type),Rt=E(Ye.internalFormat,Ut,Ze,Ye.colorSpace,!0===re.isXRRenderTarget),Pt=Se(re);n.renderbufferStorageMultisample(n.RENDERBUFFER,Pt,Rt,re.width,re.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,Ce.__webglColorRenderbuffer[lt])}n.bindRenderbuffer(n.RENDERBUFFER,null),re.depthBuffer&&(Ce.__webglDepthRenderbuffer=n.createRenderbuffer(),Ee(Ce.__webglDepthRenderbuffer,re,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ve){t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture),Q(n.TEXTURE_CUBE_MAP,z);for(let lt=0;lt<6;lt++)if(z.mipmaps&&z.mipmaps.length>0)for(let Ye=0;Ye<z.mipmaps.length;Ye++)me(Ce.__webglFramebuffer[lt][Ye],re,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ye);else me(Ce.__webglFramebuffer[lt],re,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0);v(z)&&p(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(gt){for(let lt=0,Ye=Ke.length;lt<Ye;lt++){const Ut=Ke[lt],Ze=r.get(Ut);t.bindTexture(n.TEXTURE_2D,Ze.__webglTexture),Q(n.TEXTURE_2D,Ut),me(Ce.__webglFramebuffer,re,Ut,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,0),v(Ut)&&p(n.TEXTURE_2D)}t.unbindTexture()}else{let lt=n.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(lt=re.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(lt,Ne.__webglTexture),Q(lt,z),z.mipmaps&&z.mipmaps.length>0)for(let Ye=0;Ye<z.mipmaps.length;Ye++)me(Ce.__webglFramebuffer[Ye],re,z,n.COLOR_ATTACHMENT0,lt,Ye);else me(Ce.__webglFramebuffer,re,z,n.COLOR_ATTACHMENT0,lt,0);v(z)&&p(lt),t.unbindTexture()}re.depthBuffer&&st(re)},this.updateRenderTargetMipmap=function te(re){const z=re.textures;for(let Ce=0,Ne=z.length;Ce<Ne;Ce++){const Ke=z[Ce];if(v(Ke)){const Ve=C(re),gt=r.get(Ke).__webglTexture;t.bindTexture(Ve,gt),p(Ve),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Pe(re){if(re.samples>0)if(!1===Oe(re)){const z=re.textures,Ce=re.width,Ne=re.height;let Ke=n.COLOR_BUFFER_BIT;const Ve=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,gt=r.get(re),lt=z.length>1;if(lt)for(let Ut=0;Ut<z.length;Ut++)t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ut,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ut,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,gt.__webglMultisampledFramebuffer);const Ye=re.texture.mipmaps;t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ye&&Ye.length>0?gt.__webglFramebuffer[0]:gt.__webglFramebuffer);for(let Ut=0;Ut<z.length;Ut++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(Ke|=n.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(Ke|=n.STENCIL_BUFFER_BIT)),lt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,gt.__webglColorRenderbuffer[Ut]);const Ze=r.get(z[Ut]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ze,0)}n.blitFramebuffer(0,0,Ce,Ne,0,0,Ce,Ne,Ke,n.NEAREST),!0===l&&(ve.length=0,ee.length=0,ve.push(n.COLOR_ATTACHMENT0+Ut),re.depthBuffer&&!1===re.resolveDepthBuffer&&(ve.push(Ve),ee.push(Ve),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ee)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ve))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),lt)for(let Ut=0;Ut<z.length;Ut++){t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ut,n.RENDERBUFFER,gt.__webglColorRenderbuffer[Ut]);const Ze=r.get(z[Ut]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ut,n.TEXTURE_2D,Ze,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglMultisampledFramebuffer)}else re.depthBuffer&&!1===re.resolveDepthBuffer&&l&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=st,this.setupFrameBufferTexture=me,this.useMultisampledRTT=Oe}function Qve(n,e){return{convert:function t(r,i=""){let s;const o=_r.getTransfer(i);if(r===ou)return n.UNSIGNED_BYTE;if(r===l5)return n.UNSIGNED_SHORT_4_4_4_4;if(r===c5)return n.UNSIGNED_SHORT_5_5_5_1;if(r===bG)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===wG)return n.BYTE;if(r===_G)return n.SHORT;if(r===ww)return n.UNSIGNED_SHORT;if(r===a5)return n.INT;if(r===Th)return n.UNSIGNED_INT;if(r===Qa)return n.FLOAT;if(r===_w)return n.HALF_FLOAT;if(r===xG)return n.ALPHA;if(r===CG)return n.RGB;if(r===la)return n.RGBA;if(r===xw)return n.DEPTH_COMPONENT;if(r===Cw)return n.DEPTH_STENCIL;if(r===u5)return n.RED;if(r===f2)return n.RED_INTEGER;if(r===EG)return n.RG;if(r===A5)return n.RG_INTEGER;if(r===h5)return n.RGBA_INTEGER;if(r===d2||r===p2||r===g2||r===m2)if(o===$r){if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(r===d2)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===p2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===g2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===m2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=e.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(r===d2)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===p2)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===g2)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===m2)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===f5||r===d5||r===p5||r===g5){if(s=e.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(r===f5)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===d5)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===p5)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===g5)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===m5||r===v5||r===y5){if(s=e.get("WEBGL_compressed_texture_etc"),null===s)return null;if(r===m5||r===v5)return o===$r?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===y5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(r===w5||r===_5||r===b5||r===x5||r===C5||r===E5||r===S5||r===B5||r===M5||r===T5||r===I5||r===D5||r===F5||r===R5){if(s=e.get("WEBGL_compressed_texture_astc"),null===s)return null;if(r===w5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===_5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===b5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===x5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===C5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===E5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===S5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===B5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===M5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===T5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===I5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===D5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===F5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===R5)return o===$r?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===v2||r===L5||r===U5){if(s=e.get("EXT_texture_compression_bptc"),null===s)return null;if(r===v2)return o===$r?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===L5)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===U5)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(r===SG||r===P5||r===N5||r===O5){if(s=e.get("EXT_texture_compression_rgtc"),null===s)return null;if(r===v2)return s.COMPRESSED_RED_RGTC1_EXT;if(r===P5)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===N5)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===O5)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===bw?n.UNSIGNED_INT_24_8:void 0!==n[r]?n[r]:null}}}class zve{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(null===this.texture){const i=new au;e.properties.get(i).__webglTexture=t.texture,(t.depthNear!==r.depthNear||t.depthFar!==r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,r=new fA({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ls(new Oh(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class jve extends Tm{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,A=null,f=null,h=null,g=null;const w=new zve,v=t.getContextAttributes();let p=null,C=null;const E=[],B=[],U=new pt;let k=null;const H=new Ks;H.viewport=new Er;const P=new Ks;P.viewport=new Er;const L=[H,P],D=new Epe;let I=null,O=null;function V($){const oe=B.indexOf($.inputSource);if(-1===oe)return;const pe=E[oe];void 0!==pe&&(pe.update($.inputSource,$.frame,c||o),pe.dispatchEvent({type:$.type,data:$.inputSource}))}function R(){i.removeEventListener("select",V),i.removeEventListener("selectstart",V),i.removeEventListener("selectend",V),i.removeEventListener("squeeze",V),i.removeEventListener("squeezestart",V),i.removeEventListener("squeezeend",V),i.removeEventListener("end",R),i.removeEventListener("inputsourceschange",J);for(let $=0;$<E.length;$++){const oe=B[$];null!==oe&&(B[$]=null,E[$].disconnect(oe))}I=null,O=null,w.reset(),e.setRenderTarget(p),h=null,f=null,A=null,i=null,C=null,se.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(U.width,U.height,!1),r.dispatchEvent({type:"sessionend"})}function J($){for(let oe=0;oe<$.removed.length;oe++){const pe=$.removed[oe],de=B.indexOf(pe);de>=0&&(B[de]=null,E[de].disconnect(pe))}for(let oe=0;oe<$.added.length;oe++){const pe=$.added[oe];let de=B.indexOf(pe);if(-1===de){for(let Ee=0;Ee<E.length;Ee++){if(Ee>=B.length){B.push(pe),de=Ee;break}if(null===B[Ee]){B[Ee]=pe,de=Ee;break}}if(-1===de)break}const me=E[de];me&&me.connect(pe)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function($){let oe=E[$];return void 0===oe&&(oe=new fR,E[$]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function($){let oe=E[$];return void 0===oe&&(oe=new fR,E[$]=oe),oe.getGripSpace()},this.getHand=function($){let oe=E[$];return void 0===oe&&(oe=new fR,E[$]=oe),oe.getHandSpace()},this.setFramebufferScaleFactor=function($){s=$,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){a=$,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function($){c=$},this.getBaseLayer=function(){return null!==f?f:h},this.getBinding=function(){return A},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=function(){var $=(0,Qe.Z)(function*(oe){if(i=oe,null!==i){if(p=e.getRenderTarget(),i.addEventListener("select",V),i.addEventListener("selectstart",V),i.addEventListener("selectend",V),i.addEventListener("squeeze",V),i.addEventListener("squeezestart",V),i.addEventListener("squeezeend",V),i.addEventListener("end",R),i.addEventListener("inputsourceschange",J),!0!==v.xrCompatible&&(yield t.makeXRCompatible()),k=e.getPixelRatio(),e.getSize(U),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let de=null,me=null,Ee=null;v.depth&&(Ee=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,de=v.stencil?Cw:xw,me=v.stencil?bw:Th);const ze={colorFormat:t.RGBA8,depthFormat:Ee,scaleFactor:s};A=new XRWebGLBinding(i,t),f=A.createProjectionLayer(ze),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),C=new Sd(f.textureWidth,f.textureHeight,{format:la,type:ou,depthTexture:new S7(f.textureWidth,f.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:!1===f.ignoreDepthValues,resolveStencilBuffer:!1===f.ignoreDepthValues})}else h=new XRWebGLLayer(i,t,{antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s}),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),C=new Sd(h.framebufferWidth,h.framebufferHeight,{format:la,type:ou,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues});C.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield i.requestReferenceSpace(a),se.setContext(i),se.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(oe){return $.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};const W=new he,ae=new he;function Ae($,oe){null===oe?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(oe.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.updateCamera=function($){if(null===i)return;let oe=$.near,pe=$.far;null!==w.texture&&(w.depthNear>0&&(oe=w.depthNear),w.depthFar>0&&(pe=w.depthFar)),D.near=P.near=H.near=oe,D.far=P.far=H.far=pe,(I!==D.near||O!==D.far)&&(i.updateRenderState({depthNear:D.near,depthFar:D.far}),I=D.near,O=D.far),H.layers.mask=2|$.layers.mask,P.layers.mask=4|$.layers.mask,D.layers.mask=H.layers.mask|P.layers.mask;const de=$.parent,me=D.cameras;Ae(D,de);for(let Ee=0;Ee<me.length;Ee++)Ae(me[Ee],de);2===me.length?function Z($,oe,pe){W.setFromMatrixPosition(oe.matrixWorld),ae.setFromMatrixPosition(pe.matrixWorld);const de=W.distanceTo(ae),me=oe.projectionMatrix.elements,Ee=pe.projectionMatrix.elements,ze=me[14]/(me[10]-1),st=me[14]/(me[10]+1),dt=(me[9]+1)/me[5],nt=(me[9]-1)/me[5],te=(me[8]-1)/me[0],ve=(Ee[8]+1)/Ee[0],ee=ze*te,Pe=ze*ve,Se=de/(-te+ve),Oe=Se*-te;if(oe.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(Oe),$.translateZ(Se),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert(),-1===me[10])$.projectionMatrix.copy(oe.projectionMatrix),$.projectionMatrixInverse.copy(oe.projectionMatrixInverse);else{const Fe=ze+Se,qe=st+Se;$.projectionMatrix.makePerspective(ee-Oe,Pe+(de-Oe),dt*st/qe*Fe,nt*st/qe*Fe,Fe,qe),$.projectionMatrixInverse.copy($.projectionMatrix).invert()}}(D,H,P):D.projectionMatrix.copy(H.projectionMatrix),function ge($,oe,pe){null===pe?$.matrix.copy(oe.matrixWorld):($.matrix.copy(pe.matrixWorld),$.matrix.invert(),$.matrix.multiply(oe.matrixWorld)),$.matrix.decompose($.position,$.quaternion,$.scale),$.updateMatrixWorld(!0),$.projectionMatrix.copy(oe.projectionMatrix),$.projectionMatrixInverse.copy(oe.projectionMatrixInverse),$.isPerspectiveCamera&&($.fov=2*Im*Math.atan(1/$.projectionMatrix.elements[5]),$.zoom=1)}($,D,de)},this.getCamera=function(){return D},this.getFoveation=function(){if(null!==f||null!==h)return l},this.setFoveation=function($){l=$,null!==f&&(f.fixedFoveation=$),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=$)},this.hasDepthSensing=function(){return null!==w.texture},this.getDepthSensingMesh=function(){return w.getMesh(D)};let Te=null;const se=new bz;se.setAnimationLoop(function Q($,oe){if(u=oe.getViewerPose(c||o),g=oe,null!==u){const pe=u.views;null!==h&&(e.setRenderTargetFramebuffer(C,h.framebuffer),e.setRenderTarget(C));let de=!1;pe.length!==D.cameras.length&&(D.cameras.length=0,de=!0);for(let ze=0;ze<pe.length;ze++){const st=pe[ze];let dt=null;if(null!==h)dt=h.getViewport(st);else{const te=A.getViewSubImage(f,st);dt=te.viewport,0===ze&&(e.setRenderTargetTextures(C,te.colorTexture,te.depthStencilTexture),e.setRenderTarget(C))}let nt=L[ze];void 0===nt&&(nt=new Ks,nt.layers.enable(ze),nt.viewport=new Er,L[ze]=nt),nt.matrix.fromArray(st.transform.matrix),nt.matrix.decompose(nt.position,nt.quaternion,nt.scale),nt.projectionMatrix.fromArray(st.projectionMatrix),nt.projectionMatrixInverse.copy(nt.projectionMatrix).invert(),nt.viewport.set(dt.x,dt.y,dt.width,dt.height),0===ze&&(D.matrix.copy(nt.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),!0===de&&D.cameras.push(nt)}const me=i.enabledFeatures;if(me&&me.includes("depth-sensing")&&"gpu-optimized"==i.depthUsage&&A){const ze=A.getDepthInformation(pe[0]);ze&&ze.isValid&&ze.texture&&w.init(e,ze,i.renderState)}}for(let pe=0;pe<E.length;pe++){const de=B[pe],me=E[pe];null!==de&&void 0!==me&&me.update(de,oe,c||o)}Te&&Te($,oe),oe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:oe}),g=null}),this.setAnimationLoop=function($){Te=$},this.dispose=function(){}}}const Wd=new lu,Wve=new gn;function $ve(n,e){function t(v,p){!0===v.matrixAutoUpdate&&v.updateMatrix(),p.value.copy(v.matrix)}function s(v,p){v.opacity.value=p.opacity,p.color&&v.diffuse.value.copy(p.color),p.emissive&&v.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(v.map.value=p.map,t(p.map,v.mapTransform)),p.alphaMap&&(v.alphaMap.value=p.alphaMap,t(p.alphaMap,v.alphaMapTransform)),p.bumpMap&&(v.bumpMap.value=p.bumpMap,t(p.bumpMap,v.bumpMapTransform),v.bumpScale.value=p.bumpScale,1===p.side&&(v.bumpScale.value*=-1)),p.normalMap&&(v.normalMap.value=p.normalMap,t(p.normalMap,v.normalMapTransform),v.normalScale.value.copy(p.normalScale),1===p.side&&v.normalScale.value.negate()),p.displacementMap&&(v.displacementMap.value=p.displacementMap,t(p.displacementMap,v.displacementMapTransform),v.displacementScale.value=p.displacementScale,v.displacementBias.value=p.displacementBias),p.emissiveMap&&(v.emissiveMap.value=p.emissiveMap,t(p.emissiveMap,v.emissiveMapTransform)),p.specularMap&&(v.specularMap.value=p.specularMap,t(p.specularMap,v.specularMapTransform)),p.alphaTest>0&&(v.alphaTest.value=p.alphaTest);const C=e.get(p),E=C.envMap,B=C.envMapRotation;E&&(v.envMap.value=E,Wd.copy(B),Wd.x*=-1,Wd.y*=-1,Wd.z*=-1,E.isCubeTexture&&!1===E.isRenderTargetTexture&&(Wd.y*=-1,Wd.z*=-1),v.envMapRotation.value.setFromMatrix4(Wve.makeRotationFromEuler(Wd)),v.flipEnvMap.value=E.isCubeTexture&&!1===E.isRenderTargetTexture?-1:1,v.reflectivity.value=p.reflectivity,v.ior.value=p.ior,v.refractionRatio.value=p.refractionRatio),p.lightMap&&(v.lightMap.value=p.lightMap,v.lightMapIntensity.value=p.lightMapIntensity,t(p.lightMap,v.lightMapTransform)),p.aoMap&&(v.aoMap.value=p.aoMap,v.aoMapIntensity.value=p.aoMapIntensity,t(p.aoMap,v.aoMapTransform))}return{refreshFogUniforms:function r(v,p){p.color.getRGB(v.fogColor.value,YG(n)),p.isFog?(v.fogNear.value=p.near,v.fogFar.value=p.far):p.isFogExp2&&(v.fogDensity.value=p.density)},refreshMaterialUniforms:function i(v,p,C,E,B){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(v,p):p.isMeshToonMaterial?(s(v,p),function A(v,p){p.gradientMap&&(v.gradientMap.value=p.gradientMap)}(v,p)):p.isMeshPhongMaterial?(s(v,p),function u(v,p){v.specular.value.copy(p.specular),v.shininess.value=Math.max(p.shininess,1e-4)}(v,p)):p.isMeshStandardMaterial?(s(v,p),function f(v,p){v.metalness.value=p.metalness,p.metalnessMap&&(v.metalnessMap.value=p.metalnessMap,t(p.metalnessMap,v.metalnessMapTransform)),v.roughness.value=p.roughness,p.roughnessMap&&(v.roughnessMap.value=p.roughnessMap,t(p.roughnessMap,v.roughnessMapTransform)),p.envMap&&(v.envMapIntensity.value=p.envMapIntensity)}(v,p),p.isMeshPhysicalMaterial&&function h(v,p,C){v.ior.value=p.ior,p.sheen>0&&(v.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),v.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(v.sheenColorMap.value=p.sheenColorMap,t(p.sheenColorMap,v.sheenColorMapTransform)),p.sheenRoughnessMap&&(v.sheenRoughnessMap.value=p.sheenRoughnessMap,t(p.sheenRoughnessMap,v.sheenRoughnessMapTransform))),p.clearcoat>0&&(v.clearcoat.value=p.clearcoat,v.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(v.clearcoatMap.value=p.clearcoatMap,t(p.clearcoatMap,v.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,t(p.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(v.clearcoatNormalMap.value=p.clearcoatNormalMap,t(p.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),1===p.side&&v.clearcoatNormalScale.value.negate())),p.dispersion>0&&(v.dispersion.value=p.dispersion),p.iridescence>0&&(v.iridescence.value=p.iridescence,v.iridescenceIOR.value=p.iridescenceIOR,v.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(v.iridescenceMap.value=p.iridescenceMap,t(p.iridescenceMap,v.iridescenceMapTransform)),p.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=p.iridescenceThicknessMap,t(p.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),p.transmission>0&&(v.transmission.value=p.transmission,v.transmissionSamplerMap.value=C.texture,v.transmissionSamplerSize.value.set(C.width,C.height),p.transmissionMap&&(v.transmissionMap.value=p.transmissionMap,t(p.transmissionMap,v.transmissionMapTransform)),v.thickness.value=p.thickness,p.thicknessMap&&(v.thicknessMap.value=p.thicknessMap,t(p.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=p.attenuationDistance,v.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(v.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(v.anisotropyMap.value=p.anisotropyMap,t(p.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=p.specularIntensity,v.specularColor.value.copy(p.specularColor),p.specularColorMap&&(v.specularColorMap.value=p.specularColorMap,t(p.specularColorMap,v.specularColorMapTransform)),p.specularIntensityMap&&(v.specularIntensityMap.value=p.specularIntensityMap,t(p.specularIntensityMap,v.specularIntensityMapTransform))}(v,p,B)):p.isMeshMatcapMaterial?(s(v,p),function g(v,p){p.matcap&&(v.matcap.value=p.matcap)}(v,p)):p.isMeshDepthMaterial?s(v,p):p.isMeshDistanceMaterial?(s(v,p),function w(v,p){const C=e.get(p).light;v.referencePosition.value.setFromMatrixPosition(C.matrixWorld),v.nearDistance.value=C.shadow.camera.near,v.farDistance.value=C.shadow.camera.far}(v,p)):p.isMeshNormalMaterial?s(v,p):p.isLineBasicMaterial?(function o(v,p){v.diffuse.value.copy(p.color),v.opacity.value=p.opacity,p.map&&(v.map.value=p.map,t(p.map,v.mapTransform))}(v,p),p.isLineDashedMaterial&&function a(v,p){v.dashSize.value=p.dashSize,v.totalSize.value=p.dashSize+p.gapSize,v.scale.value=p.scale}(v,p)):p.isPointsMaterial?function l(v,p,C,E){v.diffuse.value.copy(p.color),v.opacity.value=p.opacity,v.size.value=p.size*C,v.scale.value=.5*E,p.map&&(v.map.value=p.map,t(p.map,v.uvTransform)),p.alphaMap&&(v.alphaMap.value=p.alphaMap,t(p.alphaMap,v.alphaMapTransform)),p.alphaTest>0&&(v.alphaTest.value=p.alphaTest)}(v,p,C,E):p.isSpriteMaterial?function c(v,p){v.diffuse.value.copy(p.color),v.opacity.value=p.opacity,v.rotation.value=p.rotation,p.map&&(v.map.value=p.map,t(p.map,v.mapTransform)),p.alphaMap&&(v.alphaMap.value=p.alphaMap,t(p.alphaMap,v.alphaMapTransform)),p.alphaTest>0&&(v.alphaTest.value=p.alphaTest)}(v,p):p.isShadowMaterial?(v.color.value.copy(p.color),v.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}}}function Kve(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(C,E,B,U){const k=C.value,H=E+"_"+B;if(void 0===U[H])return U[H]="number"==typeof k||"boolean"==typeof k?k:k.clone(),!0;{const P=U[H];if("number"==typeof k||"boolean"==typeof k){if(P!==k)return U[H]=k,!0}else if(!1===P.equals(k))return P.copy(k),!0}return!1}function w(C){const E={boundary:0,storage:0};return"number"==typeof C||"boolean"==typeof C?(E.boundary=4,E.storage=4):C.isVector2?(E.boundary=8,E.storage=8):C.isVector3||C.isColor?(E.boundary=16,E.storage=12):C.isVector4?(E.boundary=16,E.storage=16):C.isMatrix3?(E.boundary=48,E.storage=48):C.isMatrix4?(E.boundary=64,E.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),E}function v(C){const E=C.target;E.removeEventListener("dispose",v);const B=o.indexOf(E.__bindingPointIndex);o.splice(B,1),n.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}return{bind:function l(C,E){r.uniformBlockBinding(C,E.program)},update:function c(C,E){let B=i[C.id];void 0===B&&(function g(C){const E=C.uniforms;let B=0;for(let H=0,P=E.length;H<P;H++){const L=Array.isArray(E[H])?E[H]:[E[H]];for(let D=0,I=L.length;D<I;D++){const O=L[D],V=Array.isArray(O.value)?O.value:[O.value];for(let R=0,J=V.length;R<J;R++){const ae=w(V[R]),Z=B%16,Ae=Z%ae.boundary,ge=Z+Ae;B+=Ae,0!==ge&&16-ge<ae.storage&&(B+=16-ge),O.__data=new Float32Array(ae.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=B,B+=ae.storage}}}const k=B%16;k>0&&(B+=16-k),C.__size=B,C.__cache={}}(C),B=function u(C){const E=function A(){for(let C=0;C<a;C++)if(-1===o.indexOf(C))return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();C.__bindingPointIndex=E;const B=n.createBuffer(),U=C.__size,k=C.usage;return n.bindBuffer(n.UNIFORM_BUFFER,B),n.bufferData(n.UNIFORM_BUFFER,U,k),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,B),B}(C),i[C.id]=B,C.addEventListener("dispose",v)),r.updateUBOMapping(C,E.program);const k=e.render.frame;s[C.id]!==k&&(function f(C){const B=C.uniforms,U=C.__cache;n.bindBuffer(n.UNIFORM_BUFFER,i[C.id]);for(let k=0,H=B.length;k<H;k++){const P=Array.isArray(B[k])?B[k]:[B[k]];for(let L=0,D=P.length;L<D;L++){const I=P[L];if(!0===h(I,k,L,U)){const O=I.__offset,V=Array.isArray(I.value)?I.value:[I.value];let R=0;for(let J=0;J<V.length;J++){const W=V[J],ae=w(W);"number"==typeof W||"boolean"==typeof W?(I.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,O+R,I.__data)):W.isMatrix3?(I.__data[0]=W.elements[0],I.__data[1]=W.elements[1],I.__data[2]=W.elements[2],I.__data[3]=0,I.__data[4]=W.elements[3],I.__data[5]=W.elements[4],I.__data[6]=W.elements[5],I.__data[7]=0,I.__data[8]=W.elements[6],I.__data[9]=W.elements[7],I.__data[10]=W.elements[8],I.__data[11]=0):(W.toArray(I.__data,R),R+=ae.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,O,I.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(C),s[C.id]=k)},dispose:function p(){for(const C in i)n.deleteBuffer(i[C]);o=[],i={},s={}}}}class qve{constructor(e={}){const{canvas:t=yfe(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:A=!1,reverseDepthBuffer:f=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==r){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=o;const g=new Uint32Array(4),w=new Int32Array(4);let v=null,p=null;const C=[],E=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Bh,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const B=this;let U=!1;this._outputColorSpace=Va;let k=0,H=0,P=null,L=-1,D=null;const I=new Er,O=new Er;let V=null;const R=new Yt(0);let J=0,W=t.width,ae=t.height,Z=1,Ae=null,ge=null;const Te=new Er(0,0,W,ae),Q=new Er(0,0,W,ae);let se=!1;const $=new kw;let oe=!1,pe=!1;const de=new gn,me=new gn,Ee=new he,ze=new Er,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let dt=!1;function nt(){return null===P?Z:1}let ee,Pe,Se,Oe,Fe,qe,ot,re,z,Ce,Ne,Ke,Ve,gt,lt,Ye,Ut,Ze,Rt,Pt,Qt,Bt,Vt,xe,te=r;function ve(ie,Ie){return t.getContext(ie,Ie)}try{const ie={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:A};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r178"),t.addEventListener("webglcontextlost",zt,!1),t.addEventListener("webglcontextrestored",ct,!1),t.addEventListener("webglcontextcreationerror",Ge,!1),null===te){const Ie="webgl2";if(te=ve(Ie,ie),null===te)throw ve(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ie){throw console.error("THREE.WebGLRenderer: "+ie.message),ie}function xt(){ee=new s0e(te),ee.init(),Bt=new Qve(te,ee),Pe=new Zme(te,ee,e,Bt),Se=new kve(te,ee),Pe.reverseDepthBuffer&&f&&Se.buffers.depth.setReversed(!0),Oe=new l0e(te),Fe=new Sve,qe=new Hve(te,ee,Se,Fe,Pe,Bt,Oe),ot=new e0e(B),re=new i0e(B),z=new Kpe(te),Vt=new Xme(te,z),Ce=new o0e(te,z,Oe,Vt),Ne=new u0e(te,Ce,z,Oe),Rt=new c0e(te,Pe,qe),Ye=new Jme(Fe),Ke=new Eve(B,ot,re,ee,Pe,Vt,Ye),Ve=new $ve(B,Fe),gt=new Mve,lt=new Lve(ee),Ze=new qme(B,ot,re,Se,Ne,h,l),Ut=new Nve(B,Ne,Pe),xe=new Kve(te,Oe,Pe,Se),Pt=new Yme(te,ee,Oe),Qt=new a0e(te,ee,Oe),Oe.programs=Ke.programs,B.capabilities=Pe,B.extensions=ee,B.properties=Fe,B.renderLists=gt,B.shadowMap=Ut,B.state=Se,B.info=Oe}xt();const mt=new jve(B,te);function zt(ie){ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const ie=Oe.autoReset,Ie=Ut.enabled,je=Ut.autoUpdate,We=Ut.needsUpdate,Re=Ut.type;xt(),Oe.autoReset=ie,Ut.enabled=Ie,Ut.autoUpdate=je,Ut.needsUpdate=We,Ut.type=Re}function Ge(ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ie.statusMessage)}function Ct(ie){const Ie=ie.target;Ie.removeEventListener("dispose",Ct),function bn(ie){(function Hn(ie){const Ie=Fe.get(ie).programs;void 0!==Ie&&(Ie.forEach(function(je){Ke.releaseProgram(je)}),ie.isShaderMaterial&&Ke.releaseShaderCache(ie))})(ie),Fe.remove(ie)}(Ie)}function Zn(ie,Ie,je){!0===ie.transparent&&2===ie.side&&!1===ie.forceSinglePass?(ie.side=1,ie.needsUpdate=!0,Eo(ie,Ie,je),ie.side=0,ie.needsUpdate=!0,Eo(ie,Ie,je),ie.side=2):Eo(ie,Ie,je)}this.xr=mt,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const ie=ee.get("WEBGL_lose_context");ie&&ie.loseContext()},this.forceContextRestore=function(){const ie=ee.get("WEBGL_lose_context");ie&&ie.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(ie){void 0!==ie&&(Z=ie,this.setSize(W,ae,!1))},this.getSize=function(ie){return ie.set(W,ae)},this.setSize=function(ie,Ie,je=!0){mt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=ie,ae=Ie,t.width=Math.floor(ie*Z),t.height=Math.floor(Ie*Z),!0===je&&(t.style.width=ie+"px",t.style.height=Ie+"px"),this.setViewport(0,0,ie,Ie))},this.getDrawingBufferSize=function(ie){return ie.set(W*Z,ae*Z).floor()},this.setDrawingBufferSize=function(ie,Ie,je){W=ie,ae=Ie,Z=je,t.width=Math.floor(ie*je),t.height=Math.floor(Ie*je),this.setViewport(0,0,ie,Ie)},this.getCurrentViewport=function(ie){return ie.copy(I)},this.getViewport=function(ie){return ie.copy(Te)},this.setViewport=function(ie,Ie,je,We){ie.isVector4?Te.set(ie.x,ie.y,ie.z,ie.w):Te.set(ie,Ie,je,We),Se.viewport(I.copy(Te).multiplyScalar(Z).round())},this.getScissor=function(ie){return ie.copy(Q)},this.setScissor=function(ie,Ie,je,We){ie.isVector4?Q.set(ie.x,ie.y,ie.z,ie.w):Q.set(ie,Ie,je,We),Se.scissor(O.copy(Q).multiplyScalar(Z).round())},this.getScissorTest=function(){return se},this.setScissorTest=function(ie){Se.setScissorTest(se=ie)},this.setOpaqueSort=function(ie){Ae=ie},this.setTransparentSort=function(ie){ge=ie},this.getClearColor=function(ie){return ie.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor(...arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha(...arguments)},this.clear=function(ie=!0,Ie=!0,je=!0){let We=0;if(ie){let Re=!1;if(null!==P){const bt=P.texture.format;Re=bt===h5||bt===A5||bt===f2}if(Re){const bt=P.texture.type,Dt=bt===ou||bt===Th||bt===ww||bt===bw||bt===l5||bt===c5,tn=Ze.getClearColor(),Zt=Ze.getClearAlpha(),mn=tn.r,En=tn.g,An=tn.b;Dt?(g[0]=mn,g[1]=En,g[2]=An,g[3]=Zt,te.clearBufferuiv(te.COLOR,0,g)):(w[0]=mn,w[1]=En,w[2]=An,w[3]=Zt,te.clearBufferiv(te.COLOR,0,w))}else We|=te.COLOR_BUFFER_BIT}Ie&&(We|=te.DEPTH_BUFFER_BIT),je&&(We|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(We)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",zt,!1),t.removeEventListener("webglcontextrestored",ct,!1),t.removeEventListener("webglcontextcreationerror",Ge,!1),Ze.dispose(),gt.dispose(),lt.dispose(),Fe.dispose(),ot.dispose(),re.dispose(),Ne.dispose(),Vt.dispose(),xe.dispose(),Ke.dispose(),mt.dispose(),mt.removeEventListener("sessionstart",ha),mt.removeEventListener("sessionend",Ka),ki.stop()},this.renderBufferDirect=function(ie,Ie,je,We,Re,bt){null===Ie&&(Ie=st);const Dt=Re.isMesh&&Re.matrixWorld.determinant()<0,tn=function El(ie,Ie,je,We,Re){!0!==Ie.isScene&&(Ie=st),qe.resetTextureUnits();const bt=Ie.fog,tn=null===P?B.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:Bm,Zt=(We.isMeshStandardMaterial?re:ot).get(We.envMap||(We.isMeshStandardMaterial?Ie.environment:null)),mn=!0===We.vertexColors&&!!je.attributes.color&&4===je.attributes.color.itemSize,En=!!je.attributes.tangent&&(!!We.normalMap||We.anisotropy>0),An=!!je.morphAttributes.position,Wn=!!je.morphAttributes.normal,mr=!!je.morphAttributes.color;let Qn=Bh;We.toneMapped&&(null===P||!0===P.isXRRenderTarget)&&(Qn=B.toneMapping);const br=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,Sr=void 0!==br?br.length:0,hn=Fe.get(We),kr=p.state.lights;!0!==oe||!0!==pe&&ie===D||Ye.setState(We,ie,ie===D&&We.id===L);let ur=!1;We.version===hn.__version?(hn.needsLights&&hn.lightsStateVersion!==kr.state.version||hn.outputColorSpace!==tn||Re.isBatchedMesh&&!1===hn.batching||!Re.isBatchedMesh&&!0===hn.batching||Re.isBatchedMesh&&!0===hn.batchingColor&&null===Re.colorTexture||Re.isBatchedMesh&&!1===hn.batchingColor&&null!==Re.colorTexture||Re.isInstancedMesh&&!1===hn.instancing||!Re.isInstancedMesh&&!0===hn.instancing||Re.isSkinnedMesh&&!1===hn.skinning||!Re.isSkinnedMesh&&!0===hn.skinning||Re.isInstancedMesh&&!0===hn.instancingColor&&null===Re.instanceColor||Re.isInstancedMesh&&!1===hn.instancingColor&&null!==Re.instanceColor||Re.isInstancedMesh&&!0===hn.instancingMorph&&null===Re.morphTexture||Re.isInstancedMesh&&!1===hn.instancingMorph&&null!==Re.morphTexture||hn.envMap!==Zt||!0===We.fog&&hn.fog!==bt||void 0!==hn.numClippingPlanes&&(hn.numClippingPlanes!==Ye.numPlanes||hn.numIntersection!==Ye.numIntersection)||hn.vertexAlphas!==mn||hn.vertexTangents!==En||hn.morphTargets!==An||hn.morphNormals!==Wn||hn.morphColors!==mr||hn.toneMapping!==Qn||hn.morphTargetsCount!==Sr)&&(ur=!0):(ur=!0,hn.__version=We.version);let di=hn.currentProgram;!0===ur&&(di=Eo(We,Ie,Re));let qa=!1,Kr=!1,mc=!1;const Hr=di.getUniforms(),So=hn.uniforms;if(Se.useProgram(di.program)&&(qa=!0,Kr=!0,mc=!0),We.id!==L&&(L=We.id,Kr=!0),qa||D!==ie){Se.buffers.depth.getReversed()?(de.copy(ie.projectionMatrix),function _fe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(de),function bfe(n){const e=n.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(de),Hr.setValue(te,"projectionMatrix",de)):Hr.setValue(te,"projectionMatrix",ie.projectionMatrix),Hr.setValue(te,"viewMatrix",ie.matrixWorldInverse);const Es=Hr.map.cameraPosition;void 0!==Es&&Es.setValue(te,Ee.setFromMatrixPosition(ie.matrixWorld)),Pe.logarithmicDepthBuffer&&Hr.setValue(te,"logDepthBufFC",2/(Math.log(ie.far+1)/Math.LN2)),(We.isMeshPhongMaterial||We.isMeshToonMaterial||We.isMeshLambertMaterial||We.isMeshBasicMaterial||We.isMeshStandardMaterial||We.isShaderMaterial)&&Hr.setValue(te,"isOrthographic",!0===ie.isOrthographicCamera),D!==ie&&(D=ie,Kr=!0,mc=!0)}if(Re.isSkinnedMesh){Hr.setOptional(te,Re,"bindMatrix"),Hr.setOptional(te,Re,"bindMatrixInverse");const Cs=Re.skeleton;Cs&&(null===Cs.boneTexture&&Cs.computeBoneTexture(),Hr.setValue(te,"boneTexture",Cs.boneTexture,qe))}Re.isBatchedMesh&&(Hr.setOptional(te,Re,"batchingTexture"),Hr.setValue(te,"batchingTexture",Re._matricesTexture,qe),Hr.setOptional(te,Re,"batchingIdTexture"),Hr.setValue(te,"batchingIdTexture",Re._indirectTexture,qe),Hr.setOptional(te,Re,"batchingColorTexture"),null!==Re._colorsTexture&&Hr.setValue(te,"batchingColorTexture",Re._colorsTexture,qe));const qs=je.morphAttributes;if((void 0!==qs.position||void 0!==qs.normal||void 0!==qs.color)&&Rt.update(Re,je,di),(Kr||hn.receiveShadow!==Re.receiveShadow)&&(hn.receiveShadow=Re.receiveShadow,Hr.setValue(te,"receiveShadow",Re.receiveShadow)),We.isMeshGouraudMaterial&&null!==We.envMap&&(So.envMap.value=Zt,So.flipEnvMap.value=Zt.isCubeTexture&&!1===Zt.isRenderTargetTexture?-1:1),We.isMeshStandardMaterial&&null===We.envMap&&null!==Ie.environment&&(So.envMapIntensity.value=Ie.environmentIntensity),Kr&&(Hr.setValue(te,"toneMappingExposure",B.toneMappingExposure),hn.needsLights&&function pa(ie,Ie){ie.ambientLightColor.needsUpdate=Ie,ie.lightProbe.needsUpdate=Ie,ie.directionalLights.needsUpdate=Ie,ie.directionalLightShadows.needsUpdate=Ie,ie.pointLights.needsUpdate=Ie,ie.pointLightShadows.needsUpdate=Ie,ie.spotLights.needsUpdate=Ie,ie.spotLightShadows.needsUpdate=Ie,ie.rectAreaLights.needsUpdate=Ie,ie.hemisphereLights.needsUpdate=Ie}(So,mc),bt&&!0===We.fog&&Ve.refreshFogUniforms(So,bt),Ve.refreshMaterialUniforms(So,We,Z,ae,p.state.transmissionRenderTarget[ie.id]),TE.upload(te,fa(hn),So,qe)),We.isShaderMaterial&&!0===We.uniformsNeedUpdate&&(TE.upload(te,fa(hn),So,qe),We.uniformsNeedUpdate=!1),We.isSpriteMaterial&&Hr.setValue(te,"center",Re.center),Hr.setValue(te,"modelViewMatrix",Re.modelViewMatrix),Hr.setValue(te,"normalMatrix",Re.normalMatrix),Hr.setValue(te,"modelMatrix",Re.matrixWorld),We.isShaderMaterial||We.isRawShaderMaterial){const Cs=We.uniformsGroups;for(let Es=0,$d=Cs.length;Es<$d;Es++){const Xa=Cs[Es];xe.update(Xa,di),xe.bind(Xa,di)}}return di}(ie,Ie,je,We,Re);Se.setMaterial(We,Dt);let Zt=je.index,mn=1;if(!0===We.wireframe){if(Zt=Ce.getWireframeAttribute(je),void 0===Zt)return;mn=2}const En=je.drawRange,An=je.attributes.position;let Wn=En.start*mn,mr=(En.start+En.count)*mn;null!==bt&&(Wn=Math.max(Wn,bt.start*mn),mr=Math.min(mr,(bt.start+bt.count)*mn)),null!==Zt?(Wn=Math.max(Wn,0),mr=Math.min(mr,Zt.count)):null!=An&&(Wn=Math.max(Wn,0),mr=Math.min(mr,An.count));const Qn=mr-Wn;if(Qn<0||Qn===1/0)return;Vt.setup(Re,We,tn,je,Zt);let br,Sr=Pt;if(null!==Zt&&(br=z.get(Zt),Sr=Qt,Sr.setIndex(br)),Re.isMesh)!0===We.wireframe?(Se.setLineWidth(We.wireframeLinewidth*nt()),Sr.setMode(te.LINES)):Sr.setMode(te.TRIANGLES);else if(Re.isLine){let hn=We.linewidth;void 0===hn&&(hn=1),Se.setLineWidth(hn*nt()),Sr.setMode(Re.isLineSegments?te.LINES:Re.isLineLoop?te.LINE_LOOP:te.LINE_STRIP)}else Re.isPoints?Sr.setMode(te.POINTS):Re.isSprite&&Sr.setMode(te.TRIANGLES);if(Re.isBatchedMesh)if(null!==Re._multiDrawInstances)Fm("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Sr.renderMultiDrawInstances(Re._multiDrawStarts,Re._multiDrawCounts,Re._multiDrawCount,Re._multiDrawInstances);else if(ee.get("WEBGL_multi_draw"))Sr.renderMultiDraw(Re._multiDrawStarts,Re._multiDrawCounts,Re._multiDrawCount);else{const hn=Re._multiDrawStarts,kr=Re._multiDrawCounts,ur=Re._multiDrawCount,di=Zt?z.get(Zt).bytesPerElement:1,qa=Fe.get(We).currentProgram.getUniforms();for(let Kr=0;Kr<ur;Kr++)qa.setValue(te,"_gl_DrawID",Kr),Sr.render(hn[Kr]/di,kr[Kr])}else if(Re.isInstancedMesh)Sr.renderInstances(Wn,Qn,Re.count);else if(je.isInstancedBufferGeometry){const kr=Math.min(je.instanceCount,void 0!==je._maxInstanceCount?je._maxInstanceCount:1/0);Sr.renderInstances(Wn,Qn,kr)}else Sr.render(Wn,Qn)},this.compile=function(ie,Ie,je=null){null===je&&(je=ie),p=lt.get(je),p.init(Ie),E.push(p),je.traverseVisible(function(Re){Re.isLight&&Re.layers.test(Ie.layers)&&(p.pushLight(Re),Re.castShadow&&p.pushShadow(Re))}),ie!==je&&ie.traverseVisible(function(Re){Re.isLight&&Re.layers.test(Ie.layers)&&(p.pushLight(Re),Re.castShadow&&p.pushShadow(Re))}),p.setupLights();const We=new Set;return ie.traverse(function(Re){if(!(Re.isMesh||Re.isPoints||Re.isLine||Re.isSprite))return;const bt=Re.material;if(bt)if(Array.isArray(bt))for(let Dt=0;Dt<bt.length;Dt++){const tn=bt[Dt];Zn(tn,je,Re),We.add(tn)}else Zn(bt,je,Re),We.add(bt)}),p=E.pop(),We},this.compileAsync=function(ie,Ie,je=null){const We=this.compile(ie,Ie,je);return new Promise(Re=>{function bt(){We.forEach(function(Dt){Fe.get(Dt).currentProgram.isReady()&&We.delete(Dt)}),0!==We.size?setTimeout(bt,10):Re(ie)}null!==ee.get("KHR_parallel_shader_compile")?bt():setTimeout(bt,10)})};let Oi=null;function ha(){ki.stop()}function Ka(){ki.start()}const ki=new bz;function Ti(ie,Ie,je,We){if(!1===ie.visible)return;if(ie.layers.test(Ie.layers))if(ie.isGroup)je=ie.renderOrder;else if(ie.isLOD)!0===ie.autoUpdate&&ie.update(Ie);else if(ie.isLight)p.pushLight(ie),ie.castShadow&&p.pushShadow(ie);else if(ie.isSprite){if(!ie.frustumCulled||$.intersectsSprite(ie)){We&&ze.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(me);const Dt=Ne.update(ie),tn=ie.material;tn.visible&&v.push(ie,Dt,tn,je,ze.z,null)}}else if((ie.isMesh||ie.isLine||ie.isPoints)&&(!ie.frustumCulled||$.intersectsObject(ie))){const Dt=Ne.update(ie),tn=ie.material;if(We&&(void 0!==ie.boundingSphere?(null===ie.boundingSphere&&ie.computeBoundingSphere(),ze.copy(ie.boundingSphere.center)):(null===Dt.boundingSphere&&Dt.computeBoundingSphere(),ze.copy(Dt.boundingSphere.center)),ze.applyMatrix4(ie.matrixWorld).applyMatrix4(me)),Array.isArray(tn)){const Zt=Dt.groups;for(let mn=0,En=Zt.length;mn<En;mn++){const An=Zt[mn],Wn=tn[An.materialIndex];Wn&&Wn.visible&&v.push(ie,Dt,Wn,je,ze.z,An)}}else tn.visible&&v.push(ie,Dt,tn,je,ze.z,null)}const bt=ie.children;for(let Dt=0,tn=bt.length;Dt<tn;Dt++)Ti(bt[Dt],Ie,je,We)}function Ii(ie,Ie,je,We){const Re=ie.opaque,bt=ie.transmissive,Dt=ie.transparent;p.setupLightsView(je),!0===oe&&Ye.setGlobalState(B.clippingPlanes,je),We&&Se.viewport(I.copy(We)),Re.length>0&&gc(Re,Ie,je),bt.length>0&&gc(bt,Ie,je),Dt.length>0&&gc(Dt,Ie,je),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function Co(ie,Ie,je,We){if(null!==(!0===je.isScene?je.overrideMaterial:null))return;void 0===p.state.transmissionRenderTarget[We.id]&&(p.state.transmissionRenderTarget[We.id]=new Sd(1,1,{generateMipmaps:!0,type:ee.has("EXT_color_buffer_half_float")||ee.has("EXT_color_buffer_float")?_w:ou,minFilter:su,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_r.workingColorSpace}));const bt=p.state.transmissionRenderTarget[We.id],Dt=We.viewport||I;bt.setSize(Dt.z*B.transmissionResolutionScale,Dt.w*B.transmissionResolutionScale);const tn=B.getRenderTarget(),Zt=B.getActiveCubeFace(),mn=B.getActiveMipmapLevel();B.setRenderTarget(bt),B.getClearColor(R),J=B.getClearAlpha(),J<1&&B.setClearColor(16777215,.5),B.clear(),dt&&Ze.render(je);const En=B.toneMapping;B.toneMapping=Bh;const An=We.viewport;if(void 0!==We.viewport&&(We.viewport=void 0),p.setupLightsView(We),!0===oe&&Ye.setGlobalState(B.clippingPlanes,We),gc(ie,je,We),qe.updateMultisampleRenderTarget(bt),qe.updateRenderTargetMipmap(bt),!1===ee.has("WEBGL_multisampled_render_to_texture")){let Wn=!1;for(let mr=0,Qn=Ie.length;mr<Qn;mr++){const br=Ie[mr],Sr=br.object,hn=br.geometry,kr=br.material,ur=br.group;if(2===kr.side&&Sr.layers.test(We.layers)){const di=kr.side;kr.side=1,kr.needsUpdate=!0,Cl(Sr,je,We,hn,kr,ur),kr.side=di,kr.needsUpdate=!0,Wn=!0}}!0===Wn&&(qe.updateMultisampleRenderTarget(bt),qe.updateRenderTargetMipmap(bt))}B.setRenderTarget(tn,Zt,mn),B.setClearColor(R,J),void 0!==An&&(We.viewport=An),B.toneMapping=En}function gc(ie,Ie,je){const We=!0===Ie.isScene?Ie.overrideMaterial:null;for(let Re=0,bt=ie.length;Re<bt;Re++){const Dt=ie[Re],tn=Dt.object,Zt=Dt.geometry,mn=Dt.group;let En=Dt.material;!0===En.allowOverride&&null!==We&&(En=We),tn.layers.test(je.layers)&&Cl(tn,Ie,je,Zt,En,mn)}}function Cl(ie,Ie,je,We,Re,bt){ie.onBeforeRender(B,Ie,je,We,Re,bt),ie.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,ie.matrixWorld),ie.normalMatrix.getNormalMatrix(ie.modelViewMatrix),Re.onBeforeRender(B,Ie,je,We,ie,bt),!0===Re.transparent&&2===Re.side&&!1===Re.forceSinglePass?(Re.side=1,Re.needsUpdate=!0,B.renderBufferDirect(je,Ie,We,Re,ie,bt),Re.side=0,Re.needsUpdate=!0,B.renderBufferDirect(je,Ie,We,Re,ie,bt),Re.side=2):B.renderBufferDirect(je,Ie,We,Re,ie,bt),ie.onAfterRender(B,Ie,je,We,Re,bt)}function Eo(ie,Ie,je){!0!==Ie.isScene&&(Ie=st);const We=Fe.get(ie),Re=p.state.lights,Dt=Re.state.version,tn=Ke.getParameters(ie,Re.state,p.state.shadowsArray,Ie,je),Zt=Ke.getProgramCacheKey(tn);let mn=We.programs;We.environment=ie.isMeshStandardMaterial?Ie.environment:null,We.fog=Ie.fog,We.envMap=(ie.isMeshStandardMaterial?re:ot).get(ie.envMap||We.environment),We.envMapRotation=null!==We.environment&&null===ie.envMap?Ie.environmentRotation:ie.envMapRotation,void 0===mn&&(ie.addEventListener("dispose",Ct),mn=new Map,We.programs=mn);let En=mn.get(Zt);if(void 0!==En){if(We.currentProgram===En&&We.lightsStateVersion===Dt)return da(ie,tn),En}else tn.uniforms=Ke.getUniforms(ie),ie.onBeforeCompile(tn,B),En=Ke.acquireProgram(tn,Zt),mn.set(Zt,En),We.uniforms=tn.uniforms;const An=We.uniforms;return(!ie.isShaderMaterial&&!ie.isRawShaderMaterial||!0===ie.clipping)&&(An.clippingPlanes=Ye.uniform),da(ie,tn),We.needsLights=function Sl(ie){return ie.isMeshLambertMaterial||ie.isMeshToonMaterial||ie.isMeshPhongMaterial||ie.isMeshStandardMaterial||ie.isShadowMaterial||ie.isShaderMaterial&&!0===ie.lights}(ie),We.lightsStateVersion=Dt,We.needsLights&&(An.ambientLightColor.value=Re.state.ambient,An.lightProbe.value=Re.state.probe,An.directionalLights.value=Re.state.directional,An.directionalLightShadows.value=Re.state.directionalShadow,An.spotLights.value=Re.state.spot,An.spotLightShadows.value=Re.state.spotShadow,An.rectAreaLights.value=Re.state.rectArea,An.ltc_1.value=Re.state.rectAreaLTC1,An.ltc_2.value=Re.state.rectAreaLTC2,An.pointLights.value=Re.state.point,An.pointLightShadows.value=Re.state.pointShadow,An.hemisphereLights.value=Re.state.hemi,An.directionalShadowMap.value=Re.state.directionalShadowMap,An.directionalShadowMatrix.value=Re.state.directionalShadowMatrix,An.spotShadowMap.value=Re.state.spotShadowMap,An.spotLightMatrix.value=Re.state.spotLightMatrix,An.spotLightMap.value=Re.state.spotLightMap,An.pointShadowMap.value=Re.state.pointShadowMap,An.pointShadowMatrix.value=Re.state.pointShadowMatrix),We.currentProgram=En,We.uniformsList=null,En}function fa(ie){if(null===ie.uniformsList){const Ie=ie.currentProgram.getUniforms();ie.uniformsList=TE.seqWithValue(Ie.seq,ie.uniforms)}return ie.uniformsList}function da(ie,Ie){const je=Fe.get(ie);je.outputColorSpace=Ie.outputColorSpace,je.batching=Ie.batching,je.batchingColor=Ie.batchingColor,je.instancing=Ie.instancing,je.instancingColor=Ie.instancingColor,je.instancingMorph=Ie.instancingMorph,je.skinning=Ie.skinning,je.morphTargets=Ie.morphTargets,je.morphNormals=Ie.morphNormals,je.morphColors=Ie.morphColors,je.morphTargetsCount=Ie.morphTargetsCount,je.numClippingPlanes=Ie.numClippingPlanes,je.numIntersection=Ie.numClipIntersection,je.vertexAlphas=Ie.vertexAlphas,je.vertexTangents=Ie.vertexTangents,je.toneMapping=Ie.toneMapping}ki.setAnimationLoop(function cn(ie){Oi&&Oi(ie)}),typeof self<"u"&&ki.setContext(self),this.setAnimationLoop=function(ie){Oi=ie,mt.setAnimationLoop(ie),null===ie?ki.stop():ki.start()},mt.addEventListener("sessionstart",ha),mt.addEventListener("sessionend",Ka),this.render=function(ie,Ie){if(void 0!==Ie&&!0!==Ie.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===U)return;if(!0===ie.matrixWorldAutoUpdate&&ie.updateMatrixWorld(),null===Ie.parent&&!0===Ie.matrixWorldAutoUpdate&&Ie.updateMatrixWorld(),!0===mt.enabled&&!0===mt.isPresenting&&(!0===mt.cameraAutoUpdate&&mt.updateCamera(Ie),Ie=mt.getCamera()),!0===ie.isScene&&ie.onBeforeRender(B,ie,Ie,P),p=lt.get(ie,E.length),p.init(Ie),E.push(p),me.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),$.setFromProjectionMatrix(me),pe=this.localClippingEnabled,oe=Ye.init(this.clippingPlanes,pe),v=gt.get(ie,C.length),v.init(),C.push(v),!0===mt.enabled&&!0===mt.isPresenting){const bt=B.xr.getDepthSensingMesh();null!==bt&&Ti(bt,Ie,-1/0,B.sortObjects)}Ti(ie,Ie,0,B.sortObjects),v.finish(),!0===B.sortObjects&&v.sort(Ae,ge),dt=!1===mt.enabled||!1===mt.isPresenting||!1===mt.hasDepthSensing(),dt&&Ze.addToRenderList(v,ie),this.info.render.frame++,!0===oe&&Ye.beginShadows(),Ut.render(p.state.shadowsArray,ie,Ie),!0===oe&&Ye.endShadows(),!0===this.info.autoReset&&this.info.reset();const We=v.opaque,Re=v.transmissive;if(p.setupLights(),Ie.isArrayCamera){const bt=Ie.cameras;if(Re.length>0)for(let Dt=0,tn=bt.length;Dt<tn;Dt++)Co(We,Re,ie,bt[Dt]);dt&&Ze.render(ie);for(let Dt=0,tn=bt.length;Dt<tn;Dt++){const Zt=bt[Dt];Ii(v,ie,Zt,Zt.viewport)}}else Re.length>0&&Co(We,Re,ie,Ie),dt&&Ze.render(ie),Ii(v,ie,Ie);null!==P&&0===H&&(qe.updateMultisampleRenderTarget(P),qe.updateRenderTargetMipmap(P)),!0===ie.isScene&&ie.onAfterRender(B,ie,Ie),Vt.resetDefaultState(),L=-1,D=null,E.pop(),E.length>0?(p=E[E.length-1],!0===oe&&Ye.setGlobalState(B.clippingPlanes,p.state.camera)):p=null,C.pop(),v=C.length>0?C[C.length-1]:null},this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(ie,Ie,je){const We=Fe.get(ie);We.__autoAllocateDepthBuffer=!1===ie.resolveDepthBuffer,!1===We.__autoAllocateDepthBuffer&&(We.__useRenderToTexture=!1),Fe.get(ie.texture).__webglTexture=Ie,Fe.get(ie.depthTexture).__webglTexture=We.__autoAllocateDepthBuffer?void 0:je,We.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ie,Ie){const je=Fe.get(ie);je.__webglFramebuffer=Ie,je.__useDefaultFramebuffer=void 0===Ie};const mA=te.createFramebuffer();this.setRenderTarget=function(ie,Ie=0,je=0){P=ie,k=Ie,H=je;let We=!0,Re=null,bt=!1,Dt=!1;if(ie){const Zt=Fe.get(ie);if(void 0!==Zt.__useDefaultFramebuffer)Se.bindFramebuffer(te.FRAMEBUFFER,null),We=!1;else if(void 0===Zt.__webglFramebuffer)qe.setupRenderTarget(ie);else if(Zt.__hasExternalTextures)qe.rebindTextures(ie,Fe.get(ie.texture).__webglTexture,Fe.get(ie.depthTexture).__webglTexture);else if(ie.depthBuffer){const An=ie.depthTexture;if(Zt.__boundDepthTexture!==An){if(null!==An&&Fe.has(An)&&(ie.width!==An.image.width||ie.height!==An.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");qe.setupDepthRenderbuffer(ie)}}const mn=ie.texture;(mn.isData3DTexture||mn.isDataArrayTexture||mn.isCompressedArrayTexture)&&(Dt=!0);const En=Fe.get(ie).__webglFramebuffer;ie.isWebGLCubeRenderTarget?(Re=Array.isArray(En[Ie])?En[Ie][je]:En[Ie],bt=!0):Re=ie.samples>0&&!1===qe.useMultisampledRTT(ie)?Fe.get(ie).__webglMultisampledFramebuffer:Array.isArray(En)?En[je]:En,I.copy(ie.viewport),O.copy(ie.scissor),V=ie.scissorTest}else I.copy(Te).multiplyScalar(Z).floor(),O.copy(Q).multiplyScalar(Z).floor(),V=se;if(0!==je&&(Re=mA),Se.bindFramebuffer(te.FRAMEBUFFER,Re)&&We&&Se.drawBuffers(ie,Re),Se.viewport(I),Se.scissor(O),Se.setScissorTest(V),bt){const Zt=Fe.get(ie.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Zt.__webglTexture,je)}else if(Dt){const Zt=Fe.get(ie.texture);te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,Zt.__webglTexture,je,Ie)}else if(null!==ie&&0!==je){const Zt=Fe.get(ie.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Zt.__webglTexture,je)}L=-1},this.readRenderTargetPixels=function(ie,Ie,je,We,Re,bt,Dt,tn=0){if(!ie||!ie.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Zt=Fe.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&void 0!==Dt&&(Zt=Zt[Dt]),Zt){Se.bindFramebuffer(te.FRAMEBUFFER,Zt);try{const mn=ie.textures[tn],En=mn.format,An=mn.type;if(!Pe.textureFormatReadable(En))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Pe.textureTypeReadable(An))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ie>=0&&Ie<=ie.width-We&&je>=0&&je<=ie.height-Re&&(ie.textures.length>1&&te.readBuffer(te.COLOR_ATTACHMENT0+tn),te.readPixels(Ie,je,We,Re,Bt.convert(En),Bt.convert(An),bt))}finally{const mn=null!==P?Fe.get(P).__webglFramebuffer:null;Se.bindFramebuffer(te.FRAMEBUFFER,mn)}}},this.readRenderTargetPixelsAsync=function(){var ie=(0,Qe.Z)(function*(Ie,je,We,Re,bt,Dt,tn,Zt=0){if(!Ie||!Ie.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let mn=Fe.get(Ie).__webglFramebuffer;if(Ie.isWebGLCubeRenderTarget&&void 0!==tn&&(mn=mn[tn]),mn){if(je>=0&&je<=Ie.width-Re&&We>=0&&We<=Ie.height-bt){Se.bindFramebuffer(te.FRAMEBUFFER,mn);const En=Ie.textures[Zt],An=En.format,Wn=En.type;if(!Pe.textureFormatReadable(An))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Pe.textureTypeReadable(Wn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const mr=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,mr),te.bufferData(te.PIXEL_PACK_BUFFER,Dt.byteLength,te.STREAM_READ),Ie.textures.length>1&&te.readBuffer(te.COLOR_ATTACHMENT0+Zt),te.readPixels(je,We,Re,bt,Bt.convert(An),Bt.convert(Wn),0);const Qn=null!==P?Fe.get(P).__webglFramebuffer:null;Se.bindFramebuffer(te.FRAMEBUFFER,Qn);const br=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),yield function wfe(n,e,t){return new Promise(function(r,i){setTimeout(function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}},t)})}(te,br,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,mr),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,Dt),te.deleteBuffer(mr),te.deleteSync(br),Dt}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(Ie,je,We,Re,bt,Dt,tn){return ie.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(ie,Ie=null,je=0){const We=Math.pow(2,-je),Re=Math.floor(ie.image.width*We),bt=Math.floor(ie.image.height*We),Dt=null!==Ie?Ie.x:0,tn=null!==Ie?Ie.y:0;qe.setTexture2D(ie,0),te.copyTexSubImage2D(te.TEXTURE_2D,je,0,0,Dt,tn,Re,bt),Se.unbindTexture()};const Qh=te.createFramebuffer(),Vh=te.createFramebuffer();this.copyTextureToTexture=function(ie,Ie,je=null,We=null,Re=0,bt=null){let Dt,tn,Zt,mn,En,An,Wn,mr,Qn;null===bt&&(0!==Re?(Fm("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),bt=Re,Re=0):bt=0);const br=ie.isCompressedTexture?ie.mipmaps[bt]:ie.image;if(null!==je)Dt=je.max.x-je.min.x,tn=je.max.y-je.min.y,Zt=je.isBox3?je.max.z-je.min.z:1,mn=je.min.x,En=je.min.y,An=je.isBox3?je.min.z:0;else{const qs=Math.pow(2,-Re);Dt=Math.floor(br.width*qs),tn=Math.floor(br.height*qs),Zt=ie.isDataArrayTexture?br.depth:ie.isData3DTexture?Math.floor(br.depth*qs):1,mn=0,En=0,An=0}null!==We?(Wn=We.x,mr=We.y,Qn=We.z):(Wn=0,mr=0,Qn=0);const Sr=Bt.convert(Ie.format),hn=Bt.convert(Ie.type);let kr;Ie.isData3DTexture?(qe.setTexture3D(Ie,0),kr=te.TEXTURE_3D):Ie.isDataArrayTexture||Ie.isCompressedArrayTexture?(qe.setTexture2DArray(Ie,0),kr=te.TEXTURE_2D_ARRAY):(qe.setTexture2D(Ie,0),kr=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,Ie.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ie.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,Ie.unpackAlignment);const ur=te.getParameter(te.UNPACK_ROW_LENGTH),di=te.getParameter(te.UNPACK_IMAGE_HEIGHT),qa=te.getParameter(te.UNPACK_SKIP_PIXELS),Kr=te.getParameter(te.UNPACK_SKIP_ROWS),mc=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,br.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,br.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,mn),te.pixelStorei(te.UNPACK_SKIP_ROWS,En),te.pixelStorei(te.UNPACK_SKIP_IMAGES,An);const Hr=ie.isDataArrayTexture||ie.isData3DTexture,So=Ie.isDataArrayTexture||Ie.isData3DTexture;if(ie.isDepthTexture){const qs=Fe.get(ie),Cs=Fe.get(Ie),Es=Fe.get(qs.__renderTarget),$d=Fe.get(Cs.__renderTarget);Se.bindFramebuffer(te.READ_FRAMEBUFFER,Es.__webglFramebuffer),Se.bindFramebuffer(te.DRAW_FRAMEBUFFER,$d.__webglFramebuffer);for(let Xa=0;Xa<Zt;Xa++)Hr&&(te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Fe.get(ie).__webglTexture,Re,An+Xa),te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Fe.get(Ie).__webglTexture,bt,Qn+Xa)),te.blitFramebuffer(mn,En,Dt,tn,Wn,mr,Dt,tn,te.DEPTH_BUFFER_BIT,te.NEAREST);Se.bindFramebuffer(te.READ_FRAMEBUFFER,null),Se.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else if(0!==Re||ie.isRenderTargetTexture||Fe.has(ie)){const qs=Fe.get(ie),Cs=Fe.get(Ie);Se.bindFramebuffer(te.READ_FRAMEBUFFER,Qh),Se.bindFramebuffer(te.DRAW_FRAMEBUFFER,Vh);for(let Es=0;Es<Zt;Es++)Hr?te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qs.__webglTexture,Re,An+Es):te.framebufferTexture2D(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,qs.__webglTexture,Re),So?te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Cs.__webglTexture,bt,Qn+Es):te.framebufferTexture2D(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Cs.__webglTexture,bt),0!==Re?te.blitFramebuffer(mn,En,Dt,tn,Wn,mr,Dt,tn,te.COLOR_BUFFER_BIT,te.NEAREST):So?te.copyTexSubImage3D(kr,bt,Wn,mr,Qn+Es,mn,En,Dt,tn):te.copyTexSubImage2D(kr,bt,Wn,mr,mn,En,Dt,tn);Se.bindFramebuffer(te.READ_FRAMEBUFFER,null),Se.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else So?ie.isDataTexture||ie.isData3DTexture?te.texSubImage3D(kr,bt,Wn,mr,Qn,Dt,tn,Zt,Sr,hn,br.data):Ie.isCompressedArrayTexture?te.compressedTexSubImage3D(kr,bt,Wn,mr,Qn,Dt,tn,Zt,Sr,br.data):te.texSubImage3D(kr,bt,Wn,mr,Qn,Dt,tn,Zt,Sr,hn,br):ie.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,bt,Wn,mr,Dt,tn,Sr,hn,br.data):ie.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,bt,Wn,mr,br.width,br.height,Sr,br.data):te.texSubImage2D(te.TEXTURE_2D,bt,Wn,mr,Dt,tn,Sr,hn,br);te.pixelStorei(te.UNPACK_ROW_LENGTH,ur),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,di),te.pixelStorei(te.UNPACK_SKIP_PIXELS,qa),te.pixelStorei(te.UNPACK_SKIP_ROWS,Kr),te.pixelStorei(te.UNPACK_SKIP_IMAGES,mc),0===bt&&Ie.generateMipmaps&&te.generateMipmap(kr),Se.unbindTexture()},this.copyTextureToTexture3D=function(ie,Ie,je=null,We=null,Re=0){return Fm('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(ie,Ie,je,We,Re)},this.initRenderTarget=function(ie){void 0===Fe.get(ie).__webglFramebuffer&&qe.setupRenderTarget(ie)},this.initTexture=function(ie){ie.isCubeTexture?qe.setTextureCube(ie,0):ie.isData3DTexture?qe.setTexture3D(ie,0):ie.isDataArrayTexture||ie.isCompressedArrayTexture?qe.setTexture2DArray(ie,0):qe.setTexture2D(ie,0),Se.unbindTexture()},this.resetState=function(){k=0,H=0,P=null,Se.reset(),Vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ac}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=_r._getDrawingBufferColorSpace(e),t.unpackColorSpace=_r._getUnpackColorSpace()}}const Xve=["threeCanvas"];function Yve(n,e){1&n&&Si(0,"div",4)}let Zve=(()=>{class n{router;fontService;canvasRef;scene;camera;renderer;soccerBall;satellites=[];animationId;raycaster=new Vpe;mouse=new pt;hoveredSatellite=null;controls;isDestroyed=!1;cleanup;applyMomentum;rotationVelocity={x:0,y:0};lastMouseTime=0;lastMouseMove={x:0,y:0};cameraDistance=15;cameraRotation=new lu(0,0,0,"YXZ");fontLoaded=!1;categoryData=[{id:"passing",name:"Passing"},{id:"defense",name:"Defense"},{id:"offense",name:"Offense"},{id:"midfield",name:"Midfield"},{id:"fitness",name:"Fitness"}];constructor(t,r){this.router=t,this.fontService=r}ngOnInit(){var t=this;return(0,Qe.Z)(function*(){yield t.loadFont(),t.initThreeJS(),t.createSoccerBall(),t.createSatellites(),t.setupEventListeners(),t.animate()})()}ngOnDestroy(){this.isDestroyed=!0,this.animationId&&cancelAnimationFrame(this.animationId),this.controls&&this.controls.dispose(),this.cleanup&&this.cleanup(),this.renderer&&this.renderer.dispose()}initThreeJS(){this.scene=new e7,this.scene.background=new Yt(0),this.camera=new Ks(95,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,10,15),this.camera.lookAt(0,0,0),this.renderer=new qve({canvas:this.canvasRef.nativeElement,antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight);const t=new tz(4210752,.5);this.scene.add(t);const r=new ez(16777215,1,100);r.position.set(10,10,10),this.scene.add(r),this.setupOrbitControls(),this.updateCameraPosition()}setupOrbitControls(){let t=!1,r=0,i=0;this.cameraRotation.set(Math.PI/2,0,0);const s=c=>{t=!0,r=c.clientX,i=c.clientY,this.lastMouseTime=Date.now(),this.lastMouseMove={x:0,y:0},this.canvasRef.nativeElement.style.cursor="grabbing",this.rotationVelocity.x=0,this.rotationVelocity.y=0},o=()=>{t=!1,this.canvasRef.nativeElement.style.cursor="grab"},a=c=>{if(!t)return;const u=c.clientX-r,A=c.clientY-i,f=Date.now(),h=f-this.lastMouseTime,g=.005;this.cameraRotation.y-=u*g,this.cameraRotation.x=Math.max(.1-Math.PI,Math.min(Math.PI-.1,this.cameraRotation.x+A*g)),this.updateCameraPosition(),h>10&&(this.rotationVelocity.x=A*g/(h/16),this.rotationVelocity.y=u*g/(h/16),this.lastMouseTime=f),this.lastMouseMove={x:u,y:A},r=c.clientX,i=c.clientY},l=c=>{c.preventDefault(),c.deltaY>0&&this.cameraDistance<30?this.cameraDistance*=1.025:c.deltaY<0&&this.cameraDistance>5&&(this.cameraDistance*=.975),this.updateCameraPosition()};this.canvasRef.nativeElement.addEventListener("mousedown",s),this.canvasRef.nativeElement.addEventListener("mouseup",o),this.canvasRef.nativeElement.addEventListener("mouseleave",o),this.canvasRef.nativeElement.addEventListener("mousemove",a),this.canvasRef.nativeElement.addEventListener("wheel",l),document.addEventListener("mouseup",o),this.canvasRef.nativeElement.style.cursor="grab",this.cleanup=()=>{this.canvasRef.nativeElement.removeEventListener("mousedown",s),this.canvasRef.nativeElement.removeEventListener("mouseup",o),this.canvasRef.nativeElement.removeEventListener("mouseleave",o),this.canvasRef.nativeElement.removeEventListener("mousemove",a),this.canvasRef.nativeElement.removeEventListener("wheel",l),document.removeEventListener("mouseup",o)},this.applyMomentum=()=>{t||(Math.abs(this.rotationVelocity.x)>.001||Math.abs(this.rotationVelocity.y)>.001)&&(this.cameraRotation.x+=this.rotationVelocity.x,this.cameraRotation.y-=this.rotationVelocity.y,this.cameraRotation.x=Math.max(.1-Math.PI,Math.min(Math.PI-.1,this.cameraRotation.x)),this.rotationVelocity.x*=.96,this.rotationVelocity.y*=.96,this.updateCameraPosition())}}updateCameraPosition(){const t=this.cameraDistance*Math.sin(this.cameraRotation.x)*Math.sin(this.cameraRotation.y),r=this.cameraDistance*Math.cos(this.cameraRotation.x),i=this.cameraDistance*Math.sin(this.cameraRotation.x)*Math.cos(this.cameraRotation.y);this.camera.position.set(t,r,i),this.camera.lookAt(0,0,0)}createSoccerBall(){this.soccerBall=new Nh;const t=new AE(3,1),r=new bl({color:44651,wireframe:!0,wireframeLinewidth:2}),i=new ls(t,r);this.soccerBall.add(i),this.scene.add(this.soccerBall)}generateOrbitConfigurations(t){const r=[],i=Math.PI*(3-Math.sqrt(5));for(let s=0;s<t;s++){const o=1-s/(t-1)*2,c=(Math.sqrt(1-o*o),i*s),u=Math.acos(o),A=s/t*Math.PI*2;r.push({angle:c,tilt:u,timeOffset:A})}return r}createSatellites(){const t=this.generateOrbitConfigurations(this.categoryData.length);this.categoryData.forEach((r,i)=>{const s=t[i],o={id:r.id,name:r.name,orbitRadius:5+2*i,orbitSpeed:.001/(1+.05*i),rotationSpeed:3e-4+1e-4*i,orbitAngle:s.angle,orbitTilt:s.tilt,position:new he,timeOffset:s.timeOffset};this.createSatelliteGroup(o),this.createOrbitTrail(o),this.satellites.push(o)})}createSatelliteGroup(t){t.group=new Nh;const r=new qw(.15,8,8),i=new bl({color:16777215});t.mesh=new ls(r,i),t.group.add(t.mesh),t.textGroup=this.createTextLabel(t.name,t.orbitRadius),t.group.add(t.textGroup),t.group.userData.satellite=t,this.scene.add(t.group);const s=t.name.toUpperCase(),a=t.textGroup.children[1],l=t.textGroup.children[2];t.textGroup.children[0].name=`${s}_background`,a.name=`${s}_border`,l.name=`${s}_textPlane`;const c=Math.cos(t.timeOffset)*t.orbitRadius,u=Math.sin(t.timeOffset)*t.orbitRadius;t.position.set(c,0,u);const A=new gn;A.makeRotationY(-t.orbitAngle),A.multiply((new gn).makeRotationX(t.orbitTilt)),t.position.applyMatrix4(A),t.group.position.copy(t.position)}createTextLabel(t,r){const i=new Nh,s=.8+.07*r,l="bold",c=t.toUpperCase(),h=Math.max(2.5+.18*r,.365*c.length)+.5,g=1.2*s,v=Math.round(512*h),p=Math.round(512*g),C=document.createElement("canvas");C.width=v,C.height=p;const E=C.getContext("2d"),B=Math.floor(512*s*.8),U=`${l} ${B}px Squada One, Arial, Helvetica, sans-serif`;function k(Z){E.clearRect(0,0,C.width,C.height),E.font=Z,E.textAlign="center",E.textBaseline="middle",E.fillStyle="white",E.fillText(c,C.width/2,C.height/2)}k(`${l} ${B}px Arial, Helvetica, sans-serif`);const H=new fde(C);H.generateMipmaps=!0,H.minFilter=su,H.magFilter=_s,document.fonts&&document.fonts.load&&document.fonts.load(U).then(()=>{k(U),H.needsUpdate=!0});const P=new Oh(h,g),L=new bl({color:0}),D=new ls(P,L),I=new Oh(h+.15,g+.1),O=new bl({color:16777215}),V=new ls(I,O),R=new bl({map:H,transparent:!0,alphaTest:.1}),J=new ls(new Oh(h,g),R),W=h/3,ae=.45+g/2;return D.position.set(W,ae,-.1),V.position.set(W,ae,-.11),J.position.set(W,ae,0),i.add(D),i.add(V),i.add(J),i}createOrbitTrail(t){const r=[];for(let a=0;a<=64;a++){const l=a/64*Math.PI*2,c=Math.cos(l)*t.orbitRadius,u=Math.sin(l)*t.orbitRadius,A=new he(c,0,u),f=new gn;f.makeRotationY(-t.orbitAngle),f.multiply((new gn).makeRotationX(t.orbitTilt)),A.applyMatrix4(f),r.push(A)}const s=(new Xn).setFromPoints(r),o=new z7({color:16777215,transparent:!0,opacity:.5,dashSize:.5,gapSize:.3});t.orbitLine=new Vw(s,o),t.orbitLine.computeLineDistances(),this.scene.add(t.orbitLine)}setupEventListeners(){this.canvasRef.nativeElement.addEventListener("mousemove",t=>{this.onMouseMove(t)}),this.canvasRef.nativeElement.addEventListener("click",t=>{this.onMouseClick(t)})}onMouseMove(t){const r=this.canvasRef.nativeElement.getBoundingClientRect();this.mouse.x=(t.clientX-r.left)/r.width*2-1,this.mouse.y=-(t.clientY-r.top)/r.height*2+1,this.raycaster.setFromCamera(this.mouse,this.camera),this.satellites.forEach(o=>{if(o.mesh&&o.mesh.material.color.setHex(16777215),o.textGroup){const a=o.textGroup.children[1],l=o.textGroup.children[2];a&&a.material&&a.material.color.setHex(16777215),l&&l.material&&l.material.color.setHex(16777215)}});const i=this.satellites.map(o=>o.group).filter(o=>!!o),s=this.raycaster.intersectObjects(i,!0);if(s.length>0){let o=null;for(const a of s){let l=a.object;for(;l;){if(l.userData&&l.userData.satellite){o=l.userData.satellite;break}l=l.parent}if(o)break}if(o){if(o.mesh&&o.mesh.material.color.setHex(2588159),o.textGroup){const a=o.textGroup.children[1],l=o.textGroup.children[2];a&&a.material&&a.material.color.setHex(2588159),l&&l.material&&l.material.color.setHex(2588159)}this.hoveredSatellite=o,this.canvasRef.nativeElement.style.cursor="pointer"}}else this.hoveredSatellite=null,this.canvasRef.nativeElement.style.cursor="default"}onMouseClick(t){this.hoveredSatellite&&this.router.navigate(["/player-analysis"],{queryParams:{category:this.hoveredSatellite.id}})}animate(){this.isDestroyed||(this.animationId=requestAnimationFrame(()=>this.animate()),this.applyMomentum&&this.applyMomentum(),this.soccerBall.rotation.y+=.001,this.satellites.forEach(t=>{if(t.group){t.timeOffset+=t.orbitSpeed;const r=Math.cos(t.timeOffset)*t.orbitRadius,i=Math.sin(t.timeOffset)*t.orbitRadius;t.position.set(r,0,i);const s=new gn;s.makeRotationY(-t.orbitAngle),s.multiply((new gn).makeRotationX(t.orbitTilt)),t.position.applyMatrix4(s),t.group.position.copy(t.position),t.group.rotation.y+=t.rotationSpeed,t.textGroup&&t.textGroup.lookAt(this.camera.position)}}),this.renderer.render(this.scene,this.camera))}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}loadFont(){var t=this;return(0,Qe.Z)(function*(){return new Promise(r=>{t.fontService.loadFonts(["squada-one-regular.ttf"]).subscribe(s=>{t.fontLoaded=!0,r()},s=>{console.warn("Failed to load fonts via service.",s)})})})()}static \u0275fac=function(r){return new(r||n)(ft(Oo),ft(tu))};static \u0275cmp=rs({type:n,selectors:[["soccer-ball"]],viewQuery:function(r,i){if(1&r&&ju(Xve,7),2&r){let s;Gc(s=zc())&&(i.canvasRef=s.first)}},hostBindings:function(r,i){1&r&&Bi("resize",function(o){return i.onWindowResize(o)},0,$P)},decls:4,vars:1,consts:[[1,"soccer-ball-container"],[1,"three-canvas"],["threeCanvas",""],["class","scene-controls",4,"ngIf"],[1,"scene-controls"]],template:function(r,i){1&r&&(it(0,"div",0),Si(1,"canvas",1,2),pl(3,Yve,1,0,"div",3),tt()),2&r&&(_n(3),Wr("ngIf",i.hoveredSatellite))},dependencies:[gx]})}return n})(),dL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rs({type:n,selectors:[["new-home-screen"]],decls:3,vars:0,consts:[[1,"container-fluid","p-0","bb-page-wrapper"]],template:function(r,i){1&r&&(it(0,"div",0),Si(1,"app-header")(2,"soccer-ball"),tt())},dependencies:[Ahe,Zve],styles:[".bb-page-wrapper[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;overflow:hidden}"]})}return n})();const Yz=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:WD},{path:"player-analysis",component:qF},{path:"about",component:SD},{path:"new-home",component:dL},{path:"**",redirectTo:"/home"}];let Zz=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({imports:[tc.forRoot(Yz,{useHash:!1}),tc]})}return n})(),Zw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({imports:[ed]})}return n})(),Jw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({imports:[Zw,ed,mw,Dg,Zz]})}return n})();const Jve=[{path:"player-analysis",children:[{path:"",component:qF}]}];let eye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({imports:[tc.forChild(Jve),tc]})}return n})(),tye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({providers:[tu,aw],imports:[Zw,eye,ed,mw,Dg,Jw]})}return n})();const nye=[{path:"BRADYBALL-about",children:[{path:"",component:SD}]}];let rye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({imports:[tc.forChild(nye),tc]})}return n})(),iye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({providers:[tu],imports:[Zw,rye,ed,mw,Dg,Jw]})}return n})();const sye=[{path:"home",children:[{path:"",component:WD}]}];let oye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({imports:[tc.forChild(sye),tc]})}return n})(),aye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({providers:[tu],imports:[Zw,oye,ed,mw,Dg,Jw]})}return n})();const lye=[{path:"home",children:[{path:"",component:dL}]}];let cye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({imports:[tc.forChild(lye),tc]})}return n})(),uye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n});static \u0275inj=gi({providers:[tu],imports:[Zw,cye,ed,mw,Dg,Jw]})}return n})(),Aye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ei({type:n,bootstrap:[Fre]});static \u0275inj=gi({providers:[tu],imports:[wee,Dg,Zz,tye,iye,aye,Jw,uye,tc.forRoot(Yz,{useHash:!1})]})}return n})();vee().bootstrapModule(Aye).catch(n=>console.error(n))},9470:(Vi,pn,jt)=>{"use strict";jt.r(pn),jt.d(pn,{Headers:()=>$e,Request:()=>rt,Response:()=>Mt,default:()=>Rn,fetch:()=>On});var fn=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const On=fn.fetch,Rn=fn.fetch.bind(fn),$e=fn.Headers,rt=fn.Request,Mt=fn.Response},6547:function(Vi,pn,jt){"use strict";var ln=jt(7156).default,fn=this&&this.__importDefault||function(rt){return rt&&rt.__esModule?rt:{default:rt}};Object.defineProperty(pn,"__esModule",{value:!0});const On=fn(jt(9470)),Rn=fn(jt(3238));pn.default=class $e{constructor(Mt){this.shouldThrowOnError=!1,this.method=Mt.method,this.url=Mt.url,this.headers=Mt.headers,this.schema=Mt.schema,this.body=Mt.body,this.shouldThrowOnError=Mt.shouldThrowOnError,this.signal=Mt.signal,this.isMaybeSingle=Mt.isMaybeSingle,this.fetch=Mt.fetch?Mt.fetch:typeof fetch>"u"?On.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(Mt,en){var It=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let nr=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var rr=ln(function*(Xr){var Fi,Us,qo;let Br=null,ns=null,wa=null,_a=Xr.status,Ll=Xr.statusText;if(Xr.ok){if("HEAD"!==It.method){const ba=yield Xr.text();""===ba||(ns="text/csv"===It.headers.Accept||It.headers.Accept&&It.headers.Accept.includes("application/vnd.pgrst.plan+text")?ba:JSON.parse(ba))}const bc=null===(Fi=It.headers.Prefer)||void 0===Fi?void 0:Fi.match(/count=(exact|planned|estimated)/),tl=null===(Us=Xr.headers.get("content-range"))||void 0===Us?void 0:Us.split("/");bc&&tl&&tl.length>1&&(wa=parseInt(tl[1])),It.isMaybeSingle&&"GET"===It.method&&Array.isArray(ns)&&(ns.length>1?(Br={code:"PGRST116",details:`Results contain ${ns.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},ns=null,wa=null,_a=406,Ll="Not Acceptable"):ns=1===ns.length?ns[0]:null)}else{const bc=yield Xr.text();try{Br=JSON.parse(bc),Array.isArray(Br)&&404===Xr.status&&(ns=[],Br=null,_a=200,Ll="OK")}catch{404===Xr.status&&""===bc?(_a=204,Ll="No Content"):Br={message:bc}}if(Br&&It.isMaybeSingle&&!(null===(qo=Br?.details)||void 0===qo)&&qo.includes("0 rows")&&(Br=null,_a=200,Ll="OK"),Br&&It.shouldThrowOnError)throw new Rn.default(Br)}return{error:Br,data:ns,count:wa,status:_a,statusText:Ll}});return function(Xr){return rr.apply(this,arguments)}}());return this.shouldThrowOnError||(nr=nr.catch(rr=>{var Xr,Fi,Us;return{error:{message:`${null!==(Xr=rr?.name)&&void 0!==Xr?Xr:"FetchError"}: ${rr?.message}`,details:`${null!==(Fi=rr?.stack)&&void 0!==Fi?Fi:""}`,hint:"",code:`${null!==(Us=rr?.code)&&void 0!==Us?Us:""}`},data:null,count:null,status:0,statusText:""}})),nr.then(Mt,en)}}},280:function(Vi,pn,jt){"use strict";var ln=this&&this.__importDefault||function(rt){return rt&&rt.__esModule?rt:{default:rt}};Object.defineProperty(pn,"__esModule",{value:!0});const fn=ln(jt(4741)),On=ln(jt(2700)),Rn=jt(4276);class $e{constructor(Mt,{headers:en={},schema:It,fetch:tr}={}){this.url=Mt,this.headers=Object.assign(Object.assign({},Rn.DEFAULT_HEADERS),en),this.schemaName=It,this.fetch=tr}from(Mt){const en=new URL(`${this.url}/${Mt}`);return new fn.default(en,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(Mt){return new $e(this.url,{headers:this.headers,schema:Mt,fetch:this.fetch})}rpc(Mt,en={},{head:It=!1,get:tr=!1,count:nr}={}){let rr;const Xr=new URL(`${this.url}/rpc/${Mt}`);let Fi;It||tr?(rr=It?"HEAD":"GET",Object.entries(en).filter(([qo,Br])=>void 0!==Br).map(([qo,Br])=>[qo,Array.isArray(Br)?`{${Br.join(",")}}`:`${Br}`]).forEach(([qo,Br])=>{Xr.searchParams.append(qo,Br)})):(rr="POST",Fi=en);const Us=Object.assign({},this.headers);return nr&&(Us.Prefer=`count=${nr}`),new On.default({method:rr,url:Xr,headers:Us,schema:this.schemaName,body:Fi,fetch:this.fetch,allowEmpty:!1})}}pn.default=$e},3238:(Vi,pn)=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});class jt extends Error{constructor(fn){super(fn.message),this.name="PostgrestError",this.details=fn.details,this.hint=fn.hint,this.code=fn.code}}pn.default=jt},2700:function(Vi,pn,jt){"use strict";var ln=this&&this.__importDefault||function(Rn){return Rn&&Rn.__esModule?Rn:{default:Rn}};Object.defineProperty(pn,"__esModule",{value:!0});const fn=ln(jt(859));pn.default=class On extends fn.default{eq($e,rt){return this.url.searchParams.append($e,`eq.${rt}`),this}neq($e,rt){return this.url.searchParams.append($e,`neq.${rt}`),this}gt($e,rt){return this.url.searchParams.append($e,`gt.${rt}`),this}gte($e,rt){return this.url.searchParams.append($e,`gte.${rt}`),this}lt($e,rt){return this.url.searchParams.append($e,`lt.${rt}`),this}lte($e,rt){return this.url.searchParams.append($e,`lte.${rt}`),this}like($e,rt){return this.url.searchParams.append($e,`like.${rt}`),this}likeAllOf($e,rt){return this.url.searchParams.append($e,`like(all).{${rt.join(",")}}`),this}likeAnyOf($e,rt){return this.url.searchParams.append($e,`like(any).{${rt.join(",")}}`),this}ilike($e,rt){return this.url.searchParams.append($e,`ilike.${rt}`),this}ilikeAllOf($e,rt){return this.url.searchParams.append($e,`ilike(all).{${rt.join(",")}}`),this}ilikeAnyOf($e,rt){return this.url.searchParams.append($e,`ilike(any).{${rt.join(",")}}`),this}is($e,rt){return this.url.searchParams.append($e,`is.${rt}`),this}in($e,rt){const Mt=Array.from(new Set(rt)).map(en=>"string"==typeof en&&new RegExp("[,()]").test(en)?`"${en}"`:`${en}`).join(",");return this.url.searchParams.append($e,`in.(${Mt})`),this}contains($e,rt){return"string"==typeof rt?this.url.searchParams.append($e,`cs.${rt}`):Array.isArray(rt)?this.url.searchParams.append($e,`cs.{${rt.join(",")}}`):this.url.searchParams.append($e,`cs.${JSON.stringify(rt)}`),this}containedBy($e,rt){return"string"==typeof rt?this.url.searchParams.append($e,`cd.${rt}`):Array.isArray(rt)?this.url.searchParams.append($e,`cd.{${rt.join(",")}}`):this.url.searchParams.append($e,`cd.${JSON.stringify(rt)}`),this}rangeGt($e,rt){return this.url.searchParams.append($e,`sr.${rt}`),this}rangeGte($e,rt){return this.url.searchParams.append($e,`nxl.${rt}`),this}rangeLt($e,rt){return this.url.searchParams.append($e,`sl.${rt}`),this}rangeLte($e,rt){return this.url.searchParams.append($e,`nxr.${rt}`),this}rangeAdjacent($e,rt){return this.url.searchParams.append($e,`adj.${rt}`),this}overlaps($e,rt){return this.url.searchParams.append($e,"string"==typeof rt?`ov.${rt}`:`ov.{${rt.join(",")}}`),this}textSearch($e,rt,{config:Mt,type:en}={}){let It="";return"plain"===en?It="pl":"phrase"===en?It="ph":"websearch"===en&&(It="w"),this.url.searchParams.append($e,`${It}fts${void 0===Mt?"":`(${Mt})`}.${rt}`),this}match($e){return Object.entries($e).forEach(([rt,Mt])=>{this.url.searchParams.append(rt,`eq.${Mt}`)}),this}not($e,rt,Mt){return this.url.searchParams.append($e,`not.${rt}.${Mt}`),this}or($e,{foreignTable:rt,referencedTable:Mt=rt}={}){return this.url.searchParams.append(Mt?`${Mt}.or`:"or",`(${$e})`),this}filter($e,rt,Mt){return this.url.searchParams.append($e,`${rt}.${Mt}`),this}}},4741:function(Vi,pn,jt){"use strict";var ln=this&&this.__importDefault||function(Rn){return Rn&&Rn.__esModule?Rn:{default:Rn}};Object.defineProperty(pn,"__esModule",{value:!0});const fn=ln(jt(2700));pn.default=class On{constructor($e,{headers:rt={},schema:Mt,fetch:en}){this.url=$e,this.headers=rt,this.schema=Mt,this.fetch=en}select($e,{head:rt=!1,count:Mt}={}){const en=rt?"HEAD":"GET";let It=!1;const tr=($e??"*").split("").map(nr=>/\s/.test(nr)&&!It?"":('"'===nr&&(It=!It),nr)).join("");return this.url.searchParams.set("select",tr),Mt&&(this.headers.Prefer=`count=${Mt}`),new fn.default({method:en,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert($e,{count:rt,defaultToNull:Mt=!0}={}){const It=[];if(this.headers.Prefer&&It.push(this.headers.Prefer),rt&&It.push(`count=${rt}`),Mt||It.push("missing=default"),this.headers.Prefer=It.join(","),Array.isArray($e)){const tr=$e.reduce((nr,rr)=>nr.concat(Object.keys(rr)),[]);if(tr.length>0){const nr=[...new Set(tr)].map(rr=>`"${rr}"`);this.url.searchParams.set("columns",nr.join(","))}}return new fn.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:$e,fetch:this.fetch,allowEmpty:!1})}upsert($e,{onConflict:rt,ignoreDuplicates:Mt=!1,count:en,defaultToNull:It=!0}={}){const nr=[`resolution=${Mt?"ignore":"merge"}-duplicates`];if(void 0!==rt&&this.url.searchParams.set("on_conflict",rt),this.headers.Prefer&&nr.push(this.headers.Prefer),en&&nr.push(`count=${en}`),It||nr.push("missing=default"),this.headers.Prefer=nr.join(","),Array.isArray($e)){const rr=$e.reduce((Xr,Fi)=>Xr.concat(Object.keys(Fi)),[]);if(rr.length>0){const Xr=[...new Set(rr)].map(Fi=>`"${Fi}"`);this.url.searchParams.set("columns",Xr.join(","))}}return new fn.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:$e,fetch:this.fetch,allowEmpty:!1})}update($e,{count:rt}={}){const en=[];return this.headers.Prefer&&en.push(this.headers.Prefer),rt&&en.push(`count=${rt}`),this.headers.Prefer=en.join(","),new fn.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:$e,fetch:this.fetch,allowEmpty:!1})}delete({count:$e}={}){const Mt=[];return $e&&Mt.push(`count=${$e}`),this.headers.Prefer&&Mt.unshift(this.headers.Prefer),this.headers.Prefer=Mt.join(","),new fn.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},859:function(Vi,pn,jt){"use strict";var ln=this&&this.__importDefault||function(Rn){return Rn&&Rn.__esModule?Rn:{default:Rn}};Object.defineProperty(pn,"__esModule",{value:!0});const fn=ln(jt(6547));pn.default=class On extends fn.default{select($e){let rt=!1;const Mt=($e??"*").split("").map(en=>/\s/.test(en)&&!rt?"":('"'===en&&(rt=!rt),en)).join("");return this.url.searchParams.set("select",Mt),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order($e,{ascending:rt=!0,nullsFirst:Mt,foreignTable:en,referencedTable:It=en}={}){const tr=It?`${It}.order`:"order",nr=this.url.searchParams.get(tr);return this.url.searchParams.set(tr,`${nr?`${nr},`:""}${$e}.${rt?"asc":"desc"}${void 0===Mt?"":Mt?".nullsfirst":".nullslast"}`),this}limit($e,{foreignTable:rt,referencedTable:Mt=rt}={}){return this.url.searchParams.set(typeof Mt>"u"?"limit":`${Mt}.limit`,`${$e}`),this}range($e,rt,{foreignTable:Mt,referencedTable:en=Mt}={}){const tr=typeof en>"u"?"limit":`${en}.limit`;return this.url.searchParams.set(typeof en>"u"?"offset":`${en}.offset`,`${$e}`),this.url.searchParams.set(tr,""+(rt-$e+1)),this}abortSignal($e){return this.signal=$e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:$e=!1,verbose:rt=!1,settings:Mt=!1,buffers:en=!1,wal:It=!1,format:tr="text"}={}){var nr;const rr=[$e?"analyze":null,rt?"verbose":null,Mt?"settings":null,en?"buffers":null,It?"wal":null].filter(Boolean).join("|"),Xr=null!==(nr=this.headers.Accept)&&void 0!==nr?nr:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${tr}; for="${Xr}"; options=${rr};`,this}rollback(){var $e;return(null!==($e=this.headers.Prefer)&&void 0!==$e?$e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}},4276:(Vi,pn,jt)=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0}),pn.DEFAULT_HEADERS=void 0;const ln=jt(3106);pn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ln.version}`}},5030:function(Vi,pn,jt){"use strict";var ln=this&&this.__importDefault||function(Mt){return Mt&&Mt.__esModule?Mt:{default:Mt}};Object.defineProperty(pn,"__esModule",{value:!0}),pn.PostgrestBuilder=pn.PostgrestTransformBuilder=pn.PostgrestFilterBuilder=pn.PostgrestQueryBuilder=pn.PostgrestClient=void 0;const fn=ln(jt(280));pn.PostgrestClient=fn.default;const On=ln(jt(4741));pn.PostgrestQueryBuilder=On.default;const Rn=ln(jt(2700));pn.PostgrestFilterBuilder=Rn.default;const $e=ln(jt(859));pn.PostgrestTransformBuilder=$e.default;const rt=ln(jt(6547));pn.PostgrestBuilder=rt.default,pn.default={PostgrestClient:fn.default,PostgrestQueryBuilder:On.default,PostgrestFilterBuilder:Rn.default,PostgrestTransformBuilder:$e.default,PostgrestBuilder:rt.default}},3106:(Vi,pn)=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0}),pn.version=void 0,pn.version="0.0.0-automated"},4456:function(Vi){Vi.exports=function(){"use strict";var pn=function(y,m){return(pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,_){b.__proto__=_}||function(b,_){for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(b[T]=_[T])})(y,m)};function jt(y,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function b(){this.constructor=y}pn(y,m),y.prototype=null===m?Object.create(m):(b.prototype=m.prototype,new b)}var ln=function(){return ln=Object.assign||function(m){for(var b,_=1,T=arguments.length;_<T;_++)for(var N in b=arguments[_])Object.prototype.hasOwnProperty.call(b,N)&&(m[N]=b[N]);return m},ln.apply(this,arguments)};function fn(y,m,b,_){return new(b||(b=Promise))(function(N,K){function ce(Me){try{we(_.next(Me))}catch(Ue){K(Ue)}}function le(Me){try{we(_.throw(Me))}catch(Ue){K(Ue)}}function we(Me){Me.done?N(Me.value):function T(N){return N instanceof b?N:new b(function(K){K(N)})}(Me.value).then(ce,le)}we((_=_.apply(y,m||[])).next())})}function On(y,m){var _,T,N,K,b={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return K={next:ce(0),throw:ce(1),return:ce(2)},"function"==typeof Symbol&&(K[Symbol.iterator]=function(){return this}),K;function ce(we){return function(Me){return function le(we){if(_)throw new TypeError("Generator is already executing.");for(;b;)try{if(_=1,T&&(N=2&we[0]?T.return:we[0]?T.throw||((N=T.return)&&N.call(T),0):T.next)&&!(N=N.call(T,we[1])).done)return N;switch(T=0,N&&(we=[2&we[0],N.value]),we[0]){case 0:case 1:N=we;break;case 4:return b.label++,{value:we[1],done:!1};case 5:b.label++,T=we[1],we=[0];continue;case 7:we=b.ops.pop(),b.trys.pop();continue;default:if(!(N=(N=b.trys).length>0&&N[N.length-1])&&(6===we[0]||2===we[0])){b=0;continue}if(3===we[0]&&(!N||we[1]>N[0]&&we[1]<N[3])){b.label=we[1];break}if(6===we[0]&&b.label<N[1]){b.label=N[1],N=we;break}if(N&&b.label<N[2]){b.label=N[2],b.ops.push(we);break}N[2]&&b.ops.pop(),b.trys.pop();continue}we=m.call(y,b)}catch(Me){we=[6,Me],T=0}finally{_=N=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,Me])}}}function Rn(y,m,b){if(b||2===arguments.length)for(var N,_=0,T=m.length;_<T;_++)(N||!(_ in m))&&(N||(N=Array.prototype.slice.call(m,0,_)),N[_]=m[_]);return y.concat(N||m)}for(var $e=function(){function y(m,b,_,T){this.left=m,this.top=b,this.width=_,this.height=T}return y.prototype.add=function(m,b,_,T){return new y(this.left+m,this.top+b,this.width+_,this.height+T)},y.fromClientRect=function(m,b){return new y(b.left+m.windowBounds.left,b.top+m.windowBounds.top,b.width,b.height)},y.fromDOMRectList=function(m,b){var _=Array.from(b).find(function(T){return 0!==T.width});return _?new y(_.left+m.windowBounds.left,_.top+m.windowBounds.top,_.width,_.height):y.EMPTY},y.EMPTY=new y(0,0,0,0),y}(),rt=function(y,m){return $e.fromClientRect(y,m.getBoundingClientRect())},en=function(y){for(var m=[],b=0,_=y.length;b<_;){var T=y.charCodeAt(b++);if(T>=55296&&T<=56319&&b<_){var N=y.charCodeAt(b++);56320==(64512&N)?m.push(((1023&T)<<10)+(1023&N)+65536):(m.push(T),b--)}else m.push(T)}return m},It=function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];if(String.fromCodePoint)return String.fromCodePoint.apply(String,y);var b=y.length;if(!b)return"";for(var _=[],T=-1,N="";++T<b;){var K=y[T];K<=65535?_.push(K):_.push(55296+((K-=65536)>>10),K%1024+56320),(T+1===b||_.length>16384)&&(N+=String.fromCharCode.apply(String,_),_.length=0)}return N},tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nr=typeof Uint8Array>"u"?[]:new Uint8Array(256),rr=0;rr<64;rr++)nr[tr.charCodeAt(rr)]=rr;for(var Xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fi=typeof Uint8Array>"u"?[]:new Uint8Array(256),Us=0;Us<64;Us++)Fi[Xr.charCodeAt(Us)]=Us;for(var R0=function(y,m,b){return y.slice?y.slice(m,b):new Uint16Array(Array.prototype.slice.call(y,m,b))},mS=function(){function y(m,b,_,T,N,K){this.initialValue=m,this.errorValue=b,this.highStart=_,this.highValueIndex=T,this.index=N,this.data=K}return y.prototype.get=function(m){var b;if(m>=0){if(m<55296||m>56319&&m<=65535)return this.data[b=((b=this.index[m>>5])<<2)+(31&m)];if(m<=65535)return this.data[b=((b=this.index[2048+(m-55296>>5)])<<2)+(31&m)];if(m<this.highStart)return b=this.index[b=2080+(m>>11)],this.data[b=((b=this.index[b+=m>>5&63])<<2)+(31&m)];if(m<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y}(),Xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B1=typeof Uint8Array>"u"?[]:new Uint8Array(256),rf=0;rf<64;rf++)B1[Xo.charCodeAt(rf)]=rf;var b,_,T,K,ce,vu=10,F1=13,BA=15,MA=17,sf=18,P0=19,N0=20,O0=21,af=22,To=24,Zs=25,lf=26,TA=27,IA=28,yu=30,op=32,ap=33,H0=34,Q0=35,cf=37,R1=38,uf=39,Af=40,G0=42,CS=[9001,65288],Jn="\xd7",cp=(b=function(y){var _,N,K,ce,le,m=.75*y.length,b=y.length,T=0;"="===y[y.length-1]&&(m--,"="===y[y.length-2]&&m--);var we=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(m):new Array(m),Me=Array.isArray(we)?we:new Uint8Array(we);for(_=0;_<b;_+=4)N=Fi[y.charCodeAt(_)],K=Fi[y.charCodeAt(_+1)],ce=Fi[y.charCodeAt(_+2)],le=Fi[y.charCodeAt(_+3)],Me[T++]=N<<2|K>>4,Me[T++]=(15&K)<<4|ce>>2,Me[T++]=(3&ce)<<6|63&le;return we}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),_=Array.isArray(b)?function(y){for(var m=y.length,b=[],_=0;_<m;_+=4)b.push(y[_+3]<<24|y[_+2]<<16|y[_+1]<<8|y[_]);return b}(b):new Uint32Array(b),T=Array.isArray(b)?function(y){for(var m=y.length,b=[],_=0;_<m;_+=2)b.push(y[_+1]<<8|y[_]);return b}(b):new Uint16Array(b),K=R0(T,12,_[4]/2),ce=2===_[5]?R0(T,(24+_[4])/2):function(y,m,b){return y.slice?y.slice(m,b):new Uint32Array(Array.prototype.slice.call(y,m,b))}(_,Math.ceil((24+_[4])/4)),new mS(_[0],_[1],_[2],_[3],K,ce)),_i=[yu,36],j0=[1,2,3,5],U1=[vu,8],P1=[TA,lf],ES=j0.concat(U1),W0=[R1,uf,Af,H0,Q0],SS=[BA,F1],xa=function(y,m,b,_){var T=_[b];if(Array.isArray(y)?-1!==y.indexOf(T):y===T)for(var N=b;N<=_.length;){if((K=_[++N])===m)return!0;if(K!==vu)break}if(T===vu)for(N=b;N>0;){var ce=_[--N];if(Array.isArray(y)?-1!==y.indexOf(ce):y===ce)for(var le=b;le<=_.length;){var K;if((K=_[++le])===m)return!0;if(K!==vu)break}if(ce!==vu)break}return!1},N1=function(y,m){for(var b=y;b>=0;){var _=m[b];if(_!==vu)return _;b--}return 0},hs=function(y,m,b,_,T){if(0===b[_])return Jn;var N=_-1;if(Array.isArray(T)&&!0===T[N])return Jn;var K=N-1,ce=N+1,le=m[N],we=K>=0?m[K]:0,Me=m[ce];if(2===le&&3===Me)return Jn;if(-1!==j0.indexOf(le))return"!";if(-1!==j0.indexOf(Me)||-1!==U1.indexOf(Me))return Jn;if(8===N1(N,m))return"\xf7";if(11===cp.get(y[N])||(le===op||le===ap)&&11===cp.get(y[ce])||7===le||7===Me||9===le||-1===[vu,F1,BA].indexOf(le)&&9===Me||-1!==[MA,sf,P0,To,IA].indexOf(Me)||N1(N,m)===af||xa(23,af,N,m)||xa([MA,sf],O0,N,m)||xa(12,12,N,m))return Jn;if(le===vu)return"\xf7";if(23===le||23===Me)return Jn;if(16===Me||16===le)return"\xf7";if(-1!==[F1,BA,O0].indexOf(Me)||14===le||36===we&&-1!==SS.indexOf(le)||le===IA&&36===Me||Me===N0||-1!==_i.indexOf(Me)&&le===Zs||-1!==_i.indexOf(le)&&Me===Zs||le===TA&&-1!==[cf,op,ap].indexOf(Me)||-1!==[cf,op,ap].indexOf(le)&&Me===lf||-1!==_i.indexOf(le)&&-1!==P1.indexOf(Me)||-1!==P1.indexOf(le)&&-1!==_i.indexOf(Me)||-1!==[TA,lf].indexOf(le)&&(Me===Zs||-1!==[af,BA].indexOf(Me)&&m[ce+1]===Zs)||-1!==[af,BA].indexOf(le)&&Me===Zs||le===Zs&&-1!==[Zs,IA,To].indexOf(Me))return Jn;if(-1!==[Zs,IA,To,MA,sf].indexOf(Me))for(var Ue=N;Ue>=0;){if((Je=m[Ue])===Zs)return Jn;if(-1===[IA,To].indexOf(Je))break;Ue--}if(-1!==[TA,lf].indexOf(Me))for(Ue=-1!==[MA,sf].indexOf(le)?K:N;Ue>=0;){var Je;if((Je=m[Ue])===Zs)return Jn;if(-1===[IA,To].indexOf(Je))break;Ue--}if(R1===le&&-1!==[R1,uf,H0,Q0].indexOf(Me)||-1!==[uf,H0].indexOf(le)&&-1!==[uf,Af].indexOf(Me)||-1!==[Af,Q0].indexOf(le)&&Me===Af||-1!==W0.indexOf(le)&&-1!==[N0,lf].indexOf(Me)||-1!==W0.indexOf(Me)&&le===TA||-1!==_i.indexOf(le)&&-1!==_i.indexOf(Me)||le===To&&-1!==_i.indexOf(Me)||-1!==_i.concat(Zs).indexOf(le)&&Me===af&&-1===CS.indexOf(y[ce])||-1!==_i.concat(Zs).indexOf(Me)&&le===sf)return Jn;if(41===le&&41===Me){for(var Kt=b[N],Et=1;Kt>0&&41===m[--Kt];)Et++;if(Et%2!=0)return Jn}return le===op&&Me===ap?Jn:"\xf7"},DA=function(y,m){m||(m={lineBreak:"normal",wordBreak:"normal"});var b=function(y,m){void 0===m&&(m="strict");var b=[],_=[],T=[];return y.forEach(function(N,K){var ce=cp.get(N);if(ce>50?(T.push(!0),ce-=50):T.push(!1),-1!==["normal","auto","loose"].indexOf(m)&&-1!==[8208,8211,12316,12448].indexOf(N))return _.push(K),b.push(16);if(4===ce||11===ce){if(0===K)return _.push(K),b.push(yu);var le=b[K-1];return-1===ES.indexOf(le)?(_.push(_[K-1]),b.push(le)):(_.push(K),b.push(yu))}return _.push(K),31===ce?b.push("strict"===m?O0:cf):ce===G0||29===ce?b.push(yu):43===ce?b.push(N>=131072&&N<=196605||N>=196608&&N<=262141?cf:yu):void b.push(ce)}),[_,b,T]}(y,m.lineBreak),_=b[0],T=b[1],N=b[2];return("break-all"===m.wordBreak||"break-word"===m.wordBreak)&&(T=T.map(function(ce){return-1!==[Zs,yu,G0].indexOf(ce)?cf:ce})),[_,T,"keep-all"===m.wordBreak?N.map(function(ce,le){return ce&&y[le]>=19968&&y[le]<=40959}):void 0]},nl=function(){function y(m,b,_,T){this.codePoints=m,this.required="!"===b,this.start=_,this.end=T}return y.prototype.slice=function(){return It.apply(void 0,this.codePoints.slice(this.start,this.end))},y}(),rn=function(y){return y>=48&&y<=57},pf=function(y){return rn(y)||y>=65&&y<=70||y>=97&&y<=102},_u=function(y){return 10===y||9===y||32===y},pp=function(y){return function(y){return function(y){return y>=97&&y<=122}(y)||function(y){return y>=65&&y<=90}(y)}(y)||function(y){return y>=128}(y)||95===y},Y0=function(y){return pp(y)||rn(y)||45===y},QS=function(y){return y>=0&&y<=8||11===y||y>=14&&y<=31||127===y},Ea=function(y,m){return 92===y&&10!==m},bu=function(y,m,b){return 45===y?pp(m)||Ea(m,b):!!pp(y)||!(92!==y||!Ea(y,m))},gf=function(y,m,b){return 43===y||45===y?!!rn(m)||46===m&&rn(b):rn(46===y?m:y)},j1=function(y){var m=0,b=1;(43===y[m]||45===y[m])&&(45===y[m]&&(b=-1),m++);for(var _=[];rn(y[m]);)_.push(y[m++]);var T=_.length?parseInt(It.apply(void 0,_),10):0;46===y[m]&&m++;for(var N=[];rn(y[m]);)N.push(y[m++]);var K=N.length,ce=K?parseInt(It.apply(void 0,N),10):0;(69===y[m]||101===y[m])&&m++;var le=1;(43===y[m]||45===y[m])&&(45===y[m]&&(le=-1),m++);for(var we=[];rn(y[m]);)we.push(y[m++]);var Me=we.length?parseInt(It.apply(void 0,we),10):0;return b*(T+ce*Math.pow(10,-K))*Math.pow(10,le*Me)},VS={type:2},er={type:3},Z0={type:4},W1={type:13},Js={type:8},$1={type:21},rU={type:9},Gr={type:10},iU={type:11},sU={type:12},Wt={type:14},LA={type:23},J0={type:1},K1={type:25},ev={type:24},GS={type:26},tv={type:27},oU={type:28},aU={type:29},lU={type:31},q1={type:32},zS=function(){function y(){this._value=[]}return y.prototype.write=function(m){this._value=this._value.concat(en(m))},y.prototype.read=function(){for(var m=[],b=this.consumeToken();b!==q1;)m.push(b),b=this.consumeToken();return m},y.prototype.consumeToken=function(){var m=this.consumeCodePoint();switch(m){case 34:return this.consumeStringToken(34);case 35:var b=this.peekCodePoint(0),_=this.peekCodePoint(1),T=this.peekCodePoint(2);if(Y0(b)||Ea(_,T)){var N=bu(b,_,T)?2:1;return{type:5,value:this.consumeName(),flags:N}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),W1;break;case 39:return this.consumeStringToken(39);case 40:return VS;case 41:return er;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Wt;break;case 43:if(gf(m,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(m),this.consumeNumericToken();break;case 44:return Z0;case 45:var ce=m,le=this.peekCodePoint(0),we=this.peekCodePoint(1);if(gf(ce,le,we))return this.reconsumeCodePoint(m),this.consumeNumericToken();if(bu(ce,le,we))return this.reconsumeCodePoint(m),this.consumeIdentLikeToken();if(45===le&&62===we)return this.consumeCodePoint(),this.consumeCodePoint(),ev;break;case 46:if(gf(m,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(m),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Me=this.consumeCodePoint();if(42===Me&&47===(Me=this.consumeCodePoint()))return this.consumeToken();if(-1===Me)return this.consumeToken()}break;case 58:return GS;case 59:return tv;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),K1;break;case 64:var Ue=this.peekCodePoint(0),Je=this.peekCodePoint(1),Kt=this.peekCodePoint(2);if(bu(Ue,Je,Kt))return{type:7,value:this.consumeName()};break;case 91:return oU;case 92:if(Ea(m,this.peekCodePoint(0)))return this.reconsumeCodePoint(m),this.consumeIdentLikeToken();break;case 93:return aU;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Js;break;case 123:return iU;case 125:return sU;case 117:case 85:var Et=this.peekCodePoint(0),Lt=this.peekCodePoint(1);return 43===Et&&(pf(Lt)||63===Lt)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(m),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),rU;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),$1;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Gr;break;case-1:return q1}return _u(m)?(this.consumeWhiteSpace(),lU):rn(m)?(this.reconsumeCodePoint(m),this.consumeNumericToken()):pp(m)?(this.reconsumeCodePoint(m),this.consumeIdentLikeToken()):{type:6,value:It(m)}},y.prototype.consumeCodePoint=function(){var m=this._value.shift();return typeof m>"u"?-1:m},y.prototype.reconsumeCodePoint=function(m){this._value.unshift(m)},y.prototype.peekCodePoint=function(m){return m>=this._value.length?-1:this._value[m]},y.prototype.consumeUnicodeRangeToken=function(){for(var m=[],b=this.consumeCodePoint();pf(b)&&m.length<6;)m.push(b),b=this.consumeCodePoint();for(var _=!1;63===b&&m.length<6;)m.push(b),b=this.consumeCodePoint(),_=!0;if(_)return{type:30,start:parseInt(It.apply(void 0,m.map(function(le){return 63===le?48:le})),16),end:parseInt(It.apply(void 0,m.map(function(le){return 63===le?70:le})),16)};var K=parseInt(It.apply(void 0,m),16);if(45===this.peekCodePoint(0)&&pf(this.peekCodePoint(1))){this.consumeCodePoint(),b=this.consumeCodePoint();for(var ce=[];pf(b)&&ce.length<6;)ce.push(b),b=this.consumeCodePoint();return{type:30,start:K,end:parseInt(It.apply(void 0,ce),16)}}return{type:30,start:K,end:K}},y.prototype.consumeIdentLikeToken=function(){var m=this.consumeName();return"url"===m.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:m}):{type:20,value:m}},y.prototype.consumeUrlToken=function(){var m=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var b=this.peekCodePoint(0);if(39===b||34===b){var _=this.consumeStringToken(this.consumeCodePoint());return 0===_.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:_.value}):(this.consumeBadUrlRemnants(),LA)}for(;;){var T=this.consumeCodePoint();if(-1===T||41===T)return{type:22,value:It.apply(void 0,m)};if(_u(T))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:It.apply(void 0,m)}):(this.consumeBadUrlRemnants(),LA);if(34===T||39===T||40===T||QS(T))return this.consumeBadUrlRemnants(),LA;if(92===T){if(!Ea(T,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),LA;m.push(this.consumeEscapedCodePoint())}else m.push(T)}},y.prototype.consumeWhiteSpace=function(){for(;_u(this.peekCodePoint(0));)this.consumeCodePoint()},y.prototype.consumeBadUrlRemnants=function(){for(;;){var m=this.consumeCodePoint();if(41===m||-1===m)return;Ea(m,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},y.prototype.consumeStringSlice=function(m){for(var _="";m>0;){var T=Math.min(5e4,m);_+=It.apply(void 0,this._value.splice(0,T)),m-=T}return this._value.shift(),_},y.prototype.consumeStringToken=function(m){for(var b="",_=0;;){var T=this._value[_];if(-1===T||void 0===T||T===m)return{type:0,value:b+=this.consumeStringSlice(_)};if(10===T)return this._value.splice(0,_),J0;if(92===T){var N=this._value[_+1];-1!==N&&void 0!==N&&(10===N?(b+=this.consumeStringSlice(_),_=-1,this._value.shift()):Ea(T,N)&&(b+=this.consumeStringSlice(_),b+=It(this.consumeEscapedCodePoint()),_=-1))}_++}},y.prototype.consumeNumber=function(){var m=[],b=4,_=this.peekCodePoint(0);for((43===_||45===_)&&m.push(this.consumeCodePoint());rn(this.peekCodePoint(0));)m.push(this.consumeCodePoint());_=this.peekCodePoint(0);var T=this.peekCodePoint(1);if(46===_&&rn(T))for(m.push(this.consumeCodePoint(),this.consumeCodePoint()),b=8;rn(this.peekCodePoint(0));)m.push(this.consumeCodePoint());_=this.peekCodePoint(0),T=this.peekCodePoint(1);var N=this.peekCodePoint(2);if((69===_||101===_)&&((43===T||45===T)&&rn(N)||rn(T)))for(m.push(this.consumeCodePoint(),this.consumeCodePoint()),b=8;rn(this.peekCodePoint(0));)m.push(this.consumeCodePoint());return[j1(m),b]},y.prototype.consumeNumericToken=function(){var m=this.consumeNumber(),b=m[0],_=m[1],T=this.peekCodePoint(0),N=this.peekCodePoint(1),K=this.peekCodePoint(2);return bu(T,N,K)?{type:15,number:b,flags:_,unit:this.consumeName()}:37===T?(this.consumeCodePoint(),{type:16,number:b,flags:_}):{type:17,number:b,flags:_}},y.prototype.consumeEscapedCodePoint=function(){var m=this.consumeCodePoint();if(pf(m)){for(var b=It(m);pf(this.peekCodePoint(0))&&b.length<6;)b+=It(this.consumeCodePoint());_u(this.peekCodePoint(0))&&this.consumeCodePoint();var _=parseInt(b,16);return 0===_||function(y){return y>=55296&&y<=57343}(_)||_>1114111?65533:_}return-1===m?65533:m},y.prototype.consumeName=function(){for(var m="";;){var b=this.consumeCodePoint();if(Y0(b))m+=It(b);else{if(!Ea(b,this.peekCodePoint(0)))return this.reconsumeCodePoint(b),m;m+=It(this.consumeEscapedCodePoint())}}},y}(),UA=function(){function y(m){this._tokens=m}return y.create=function(m){var b=new zS;return b.write(m),new y(b.read())},y.parseValue=function(m){return y.create(m).parseComponentValue()},y.parseValues=function(m){return y.create(m).parseComponentValues()},y.prototype.parseComponentValue=function(){for(var m=this.consumeToken();31===m.type;)m=this.consumeToken();if(32===m.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(m);var b=this.consumeComponentValue();do{m=this.consumeToken()}while(31===m.type);if(32===m.type)return b;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},y.prototype.parseComponentValues=function(){for(var m=[];;){var b=this.consumeComponentValue();if(32===b.type)return m;m.push(b),m.push()}},y.prototype.consumeComponentValue=function(){var m=this.consumeToken();switch(m.type){case 11:case 28:case 2:return this.consumeSimpleBlock(m.type);case 19:return this.consumeFunction(m)}return m},y.prototype.consumeSimpleBlock=function(m){for(var b={type:m,values:[]},_=this.consumeToken();;){if(32===_.type||Bc(_,m))return b;this.reconsumeToken(_),b.values.push(this.consumeComponentValue()),_=this.consumeToken()}},y.prototype.consumeFunction=function(m){for(var b={name:m.value,values:[],type:18};;){var _=this.consumeToken();if(32===_.type||3===_.type)return b;this.reconsumeToken(_),b.values.push(this.consumeComponentValue())}},y.prototype.consumeToken=function(){var m=this._tokens.shift();return typeof m>"u"?q1:m},y.prototype.reconsumeToken=function(m){this._tokens.unshift(m)},y}(),xu=function(y){return 15===y.type},Ul=function(y){return 17===y.type},Fr=function(y){return 20===y.type},jS=function(y){return 0===y.type},nv=function(y,m){return Fr(y)&&y.value===m},rv=function(y){return 31!==y.type},Sa=function(y){return 31!==y.type&&4!==y.type},il=function(y){var m=[],b=[];return y.forEach(function(_){if(4===_.type){if(0===b.length)throw new Error("Error parsing function args, zero tokens for arg");return m.push(b),void(b=[])}31!==_.type&&b.push(_)}),b.length&&m.push(b),m},Bc=function(y,m){return 11===m&&12===y.type||28===m&&29===y.type||2===m&&3===y.type},Mc=function(y){return 17===y.type||15===y.type},Tt=function(y){return 16===y.type||Mc(y)},iv=function(y){return y.length>1?[y[0],y[1]]:[y[0]]},St={type:17,number:0,flags:4},PA={type:16,number:50,flags:4},sl={type:16,number:100,flags:4},Pl=function(y,m,b){var _=y[0],T=y[1];return[zr(_,m),zr(typeof T<"u"?T:_,b)]},zr=function(y,m){if(16===y.type)return y.number/100*m;if(xu(y))switch(y.unit){case"rem":case"em":return 16*y.number;default:return y.number}return y.number},eo_parse=function(y,m){if(15===m.type)switch(m.unit){case"deg":return Math.PI*m.number/180;case"grad":return Math.PI/200*m.number;case"rad":return m.number;case"turn":return 2*Math.PI*m.number}throw new Error("Unsupported angle type")},Ba=function(y){return 15===y.type&&("deg"===y.unit||"grad"===y.unit||"rad"===y.unit||"turn"===y.unit)},hr=function(y){switch(y.filter(Fr).map(function(b){return b.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[St,St];case"to top":case"bottom":return Ps(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[St,sl];case"to right":case"left":return Ps(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sl,sl];case"to bottom":case"top":return Ps(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sl,St];case"to left":case"right":return Ps(270)}return 0},Ps=function(y){return Math.PI*y/180},al_parse=function(y,m){if(18===m.type){var b=Z1[m.name];if(typeof b>"u")throw new Error('Attempting to parse an unsupported color function "'+m.name+'"');return b(y,m.values)}if(5===m.type){if(3===m.value.length){var _=m.value.substring(0,1),T=m.value.substring(1,2),N=m.value.substring(2,3);return Bs(parseInt(_+_,16),parseInt(T+T,16),parseInt(N+N,16),1)}if(4===m.value.length){_=m.value.substring(0,1),T=m.value.substring(1,2),N=m.value.substring(2,3);var K=m.value.substring(3,4);return Bs(parseInt(_+_,16),parseInt(T+T,16),parseInt(N+N,16),parseInt(K+K,16)/255)}if(6===m.value.length)return _=m.value.substring(0,2),T=m.value.substring(2,4),N=m.value.substring(4,6),Bs(parseInt(_,16),parseInt(T,16),parseInt(N,16),1);if(8===m.value.length)return _=m.value.substring(0,2),T=m.value.substring(2,4),N=m.value.substring(4,6),K=m.value.substring(6,8),Bs(parseInt(_,16),parseInt(T,16),parseInt(N,16),parseInt(K,16)/255)}if(20===m.type){var ce=Do[m.value.toUpperCase()];if(typeof ce<"u")return ce}return Do.TRANSPARENT},ll=function(y){return 0==(255&y)},ji=function(y){var m=255&y,b=255&y>>8,_=255&y>>16,T=255&y>>24;return m<255?"rgba("+T+","+_+","+b+","+m/255+")":"rgb("+T+","+_+","+b+")"},Bs=function(y,m,b,_){return(y<<24|m<<16|b<<8|Math.round(255*_)<<0)>>>0},NA=function(y,m){if(17===y.type)return y.number;if(16===y.type){var b=3===m?1:255;return 3===m?y.number/100*b:Math.round(y.number/100*b)}return 0},sv=function(y,m){var b=m.filter(Sa);if(3===b.length){var _=b.map(NA);return Bs(_[0],_[1],_[2],1)}if(4===b.length){var ce=b.map(NA);return Bs(ce[0],ce[1],ce[2],ce[3])}return 0};function gp(y,m,b){return b<0&&(b+=1),b>=1&&(b-=1),b<1/6?(m-y)*b*6+y:b<.5?m:b<2/3?6*(m-y)*(2/3-b)+y:y}var mp=function(y,m){var b=m.filter(Sa),_=b[0],T=b[1],N=b[2],K=b[3],ce=(17===_.type?Ps(_.number):eo_parse(y,_))/(2*Math.PI),le=Tt(T)?T.number/100:0,we=Tt(N)?N.number/100:0,Me=typeof K<"u"&&Tt(K)?zr(K,1):1;if(0===le)return Bs(255*we,255*we,255*we,1);var Ue=we<=.5?we*(le+1):we+le-we*le,Je=2*we-Ue,Kt=gp(Je,Ue,ce+1/3),Et=gp(Je,Ue,ce),Lt=gp(Je,Ue,ce-1/3);return Bs(255*Kt,255*Et,255*Lt,Me)},Z1={hsl:mp,hsla:mp,rgb:sv,rgba:sv},OA=function(y,m){return al_parse(y,UA.create(m).parseComponentValue())},Do={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},J1={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(y,m){return m.map(function(b){if(Fr(b))switch(b.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},e_={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vp=function(y,m){var b=al_parse(y,m[0]),_=m[1];return _&&Tt(_)?{color:b,stop:_}:{color:b,stop:null}},ov=function(y,m){var b=y[0],_=y[y.length-1];null===b.stop&&(b.stop=St),null===_.stop&&(_.stop=sl);for(var T=[],N=0,K=0;K<y.length;K++){var ce=y[K].stop;if(null!==ce){var le=zr(ce,m);T.push(le>N?le:N),N=le}else T.push(null)}var we=null;for(K=0;K<T.length;K++){var Me=T[K];if(null===Me)null===we&&(we=K);else if(null!==we){for(var Ue=K-we,Kt=(Me-T[we-1])/(Ue+1),Et=1;Et<=Ue;Et++)T[we+Et-1]=Kt*Et;we=null}}return y.map(function(Lt,kn){return{color:Lt.color,stop:Math.max(Math.min(1,T[kn]/m),0)}})},$S=function(y,m,b){var _="number"==typeof y?y:function(y,m,b){var _=m/2,T=b/2,N=zr(y[0],m)-_,K=T-zr(y[1],b);return(Math.atan2(K,N)+2*Math.PI)%(2*Math.PI)}(y,m,b),T=Math.abs(m*Math.sin(_))+Math.abs(b*Math.cos(_)),N=m/2,K=b/2,ce=T/2,le=Math.sin(_-Math.PI/2)*ce,we=Math.cos(_-Math.PI/2)*ce;return[T,N-we,N+we,K-le,K+le]},bi=function(y,m){return Math.sqrt(y*y+m*m)},t_=function(y,m,b,_,T){return[[0,0],[0,m],[y,0],[y,m]].reduce(function(K,ce){var Me=bi(b-ce[0],_-ce[1]);return(T?Me<K.optimumDistance:Me>K.optimumDistance)?{optimumCorner:ce,optimumDistance:Me}:K},{optimumDistance:T?1/0:-1/0,optimumCorner:null}).optimumCorner},yp=function(y,m){var b=Ps(180),_=[];return il(m).forEach(function(T,N){if(0===N){var K=T[0];if(20===K.type&&-1!==["top","left","right","bottom"].indexOf(K.value))return void(b=hr(T));if(Ba(K))return void(b=(eo_parse(y,K)+Ps(270))%Ps(360))}var ce=vp(y,T);_.push(ce)}),{angle:b,stops:_,type:1}},r_="closest-side",av="farthest-side",i_="closest-corner",s_="farthest-corner",rs="ellipse",l_="contain",ei=function(y,m){var b=0,_=3,T=[],N=[];return il(m).forEach(function(K,ce){var le=!0;if(0===ce?le=K.reduce(function(Me,Ue){if(Fr(Ue))switch(Ue.value){case"center":return N.push(PA),!1;case"top":case"left":return N.push(St),!1;case"right":case"bottom":return N.push(sl),!1}else if(Tt(Ue)||Mc(Ue))return N.push(Ue),!1;return Me},le):1===ce&&(le=K.reduce(function(Me,Ue){if(Fr(Ue))switch(Ue.value){case"circle":return b=0,!1;case rs:return b=1,!1;case l_:case r_:return _=0,!1;case av:return _=1,!1;case i_:return _=2,!1;case"cover":case s_:return _=3,!1}else if(Mc(Ue)||Tt(Ue))return Array.isArray(_)||(_=[]),_.push(Ue),!1;return Me},le)),le){var we=vp(y,K);T.push(we)}}),{size:_,shape:b,stops:T,position:N,type:2}},yn_parse=function(y,m){if(22===m.type){var b={url:m.value,type:0};return y.cache.addImage(m.value),b}if(18===m.type){var _=ir[m.name];if(typeof _>"u")throw new Error('Attempting to parse an unsupported image function "'+m.name+'"');return _(y,m.values)}throw new Error("Unsupported image type "+m.type)};for(var ir={"linear-gradient":function(y,m){var b=Ps(180),_=[];return il(m).forEach(function(T,N){if(0===N){var K=T[0];if(20===K.type&&"to"===K.value)return void(b=hr(T));if(Ba(K))return void(b=eo_parse(y,K))}var ce=vp(y,T);_.push(ce)}),{angle:b,stops:_,type:1}},"-moz-linear-gradient":yp,"-ms-linear-gradient":yp,"-o-linear-gradient":yp,"-webkit-linear-gradient":yp,"radial-gradient":function(y,m){var b=0,_=3,T=[],N=[];return il(m).forEach(function(K,ce){var le=!0;if(0===ce){var we=!1;le=K.reduce(function(Ue,Je){if(we)if(Fr(Je))switch(Je.value){case"center":return N.push(PA),Ue;case"top":case"left":return N.push(St),Ue;case"right":case"bottom":return N.push(sl),Ue}else(Tt(Je)||Mc(Je))&&N.push(Je);else if(Fr(Je))switch(Je.value){case"circle":return b=0,!1;case rs:return b=1,!1;case"at":return we=!0,!1;case r_:return _=0,!1;case"cover":case av:return _=1,!1;case l_:case i_:return _=2,!1;case s_:return _=3,!1}else if(Mc(Je)||Tt(Je))return Array.isArray(_)||(_=[]),_.push(Je),!1;return Ue},le)}if(le){var Me=vp(y,K);T.push(Me)}}),{size:_,shape:b,stops:T,position:N,type:2}},"-moz-radial-gradient":ei,"-ms-radial-gradient":ei,"-o-radial-gradient":ei,"-webkit-radial-gradient":ei,"-webkit-gradient":function(y,m){var b=Ps(180),_=[],T=1;return il(m).forEach(function(le,we){var Me=le[0];if(0===we){if(Fr(Me)&&"linear"===Me.value)return void(T=1);if(Fr(Me)&&"radial"===Me.value)return void(T=2)}if(18===Me.type)if("from"===Me.name){var Ue=al_parse(y,Me.values[0]);_.push({stop:St,color:Ue})}else if("to"===Me.name)Ue=al_parse(y,Me.values[0]),_.push({stop:sl,color:Ue});else if("color-stop"===Me.name){var Je=Me.values.filter(Sa);if(2===Je.length){Ue=al_parse(y,Je[1]);var Kt=Je[0];Ul(Kt)&&_.push({stop:{type:16,number:100*Kt.number,flags:Kt.flags},color:Ue})}}}),1===T?{angle:(b+Ps(180))%Ps(360),stops:_,type:T}:{size:3,shape:0,stops:_,position:[],type:T}}},fs={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(y,m){if(0===m.length)return[];var b=m[0];return 20===b.type&&"none"===b.value?[]:m.filter(function(_){return Sa(_)&&function to(y){return!(20===y.type&&"none"===y.value||18===y.type&&!ir[y.name])}(_)}).map(function(_){return yn_parse(y,_)})}},Ns={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(y,m){return m.map(function(b){if(Fr(b))switch(b.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},kA={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(y,m){return il(m).map(function(b){return b.filter(Tt)}).map(iv)}},Fo={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(y,m){return il(m).map(function(b){return b.filter(Fr).map(function(_){return _.value}).join(" ")}).map(u_)}},u_=function(y){switch(y){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},HA=function(y){return y.AUTO="auto",y.CONTAIN="contain",y.COVER="cover",y}(HA||{}),wp={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(y,m){return il(m).map(function(b){return b.filter(ZS)})}},ZS=function(y){return Fr(y)||Tt(y)},_p=function(y){return{name:"border-"+y+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},mi=_p("top"),Ot=_p("right"),Dn=_p("bottom"),ti=_p("left"),no=function(y){return{name:"border-radius-"+y,initialValue:"0 0",prefix:!1,type:1,parse:function(m,b){return iv(b.filter(Tt))}}},vf=no("top-left"),Ms=no("top-right"),QA=no("bottom-right"),xi=no("bottom-left"),Ma=function(y){return{name:"border-"+y+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(m,b){switch(b){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},VA=Ma("top"),Tn=Ma("right"),yf=Ma("bottom"),A_=Ma("left"),Nl=function(y){return{name:"border-"+y+"-width",initialValue:"0",type:0,prefix:!1,parse:function(m,b){return xu(b)?b.number:0}}},Ci=Nl("top"),wf=Nl("right"),GA=Nl("bottom"),cl=Nl("left"),_f={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},h_={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(y,m){return"rtl"===m?1:0}},Tc={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(y,m){return m.filter(Fr).reduce(function(b,_){return b|Ol(_.value)},0)}},Ol=function(y){switch(y){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bf={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(y,m){switch(m){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},xf={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(y,m){return 20===m.type&&"normal"===m.value?0:17===m.type||15===m.type?m.number:0}},Kn=function(y){return y.NORMAL="normal",y.STRICT="strict",y}(Kn||{}),cU={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(y,m){return"strict"===m?Kn.STRICT:Kn.NORMAL}},lv={name:"line-height",initialValue:"normal",prefix:!1,type:4},cv=function(y,m){return Fr(y)&&"normal"===y.value?1.2*m:17===y.type?m*y.number:Tt(y)?zr(y,m):m},ul={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(y,m){return 20===m.type&&"none"===m.value?null:yn_parse(y,m)}},bp={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(y,m){return"inside"===m?0:1}},Ic={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(y,m){switch(m){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Dc=function(y){return{name:"margin-"+y,initialValue:"0",prefix:!1,type:4}},ds=Dc("top"),uU=Dc("right"),ro=Dc("bottom"),Os=Dc("left"),uv={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(y,m){return m.filter(Fr).map(function(b){switch(b.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Cu={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(y,m){return"break-word"===m?"break-word":"normal"}},Eu=function(y){return{name:"padding-"+y,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ta=Eu("top"),Av=Eu("right"),JS=Eu("bottom"),eB=Eu("left"),AU={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(y,m){switch(m){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},tB={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(y,m){switch(m){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},nB={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(y,m){return 1===m.length&&nv(m[0],"none")?[]:il(m).map(function(b){for(var _={color:Do.TRANSPARENT,offsetX:St,offsetY:St,blur:St},T=0,N=0;N<b.length;N++){var K=b[N];Mc(K)?(0===T?_.offsetX=K:1===T?_.offsetY=K:_.blur=K,T++):_.color=al_parse(y,K)}return _})}},hU={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(y,m){switch(m){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fU={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(y,m){if(20===m.type&&"none"===m.value)return null;if(18===m.type){var b=gU[m.name];if(typeof b>"u")throw new Error('Attempting to parse an unsupported transform function "'+m.name+'"');return b(m.values)}return null}},gU={matrix:function(y){var m=y.filter(function(b){return 17===b.type}).map(function(b){return b.number});return 6===m.length?m:null},matrix3d:function(y){var m=y.filter(function(le){return 17===le.type}).map(function(le){return le.number});return 16===m.length?[m[0],m[1],m[4],m[5],m[12],m[13]]:null}},rB={type:16,number:50,flags:4},mU=[rB,rB],vU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(y,m){var b=m.filter(Tt);return 2!==b.length?mU:[b[0],b[1]]}},yU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(y,m){switch(m){case"hidden":return 1;case"collapse":return 2;default:return 0}}},hv=function(y){return y.NORMAL="normal",y.BREAK_ALL="break-all",y.KEEP_ALL="keep-all",y}(hv||{}),wU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(y,m){switch(m){case"break-all":return hv.BREAK_ALL;case"keep-all":return hv.KEEP_ALL;default:return hv.NORMAL}}},_U={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(y,m){if(20===m.type)return{auto:!0,order:0};if(Ul(m))return{auto:!1,order:m.number};throw new Error("Invalid z-index number parsed")}},fv={name:"time",parse:function(y,m){if(15===m.type)switch(m.unit.toLowerCase()){case"s":return 1e3*m.number;case"ms":return m.number}throw new Error("Unsupported time type")}},f_={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(y,m){return Ul(m)?m.number:1}},bU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(y,m){return m.filter(Fr).map(function(b){switch(b.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(b){return 0!==b})}},CU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(y,m){var b=[],_=[];return m.forEach(function(T){switch(T.type){case 20:case 0:b.push(T.value);break;case 17:b.push(T.number.toString());break;case 4:_.push(b.join(" ")),b.length=0}}),b.length&&_.push(b.join(" ")),_.map(function(T){return-1===T.indexOf(" ")?T:"'"+T+"'"})}},Su={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Fc={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(y,m){return Ul(m)?m.number:Fr(m)&&"bold"===m.value?700:400}},EU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(y,m){return m.filter(Fr).map(function(b){return b.value})}},SU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(y,m){switch(m){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},sr=function(y,m){return 0!=(y&m)},xp={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(y,m){if(0===m.length)return[];var b=m[0];return 20===b.type&&"none"===b.value?[]:m}},Jo={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(y,m){if(0===m.length)return null;var b=m[0];if(20===b.type&&"none"===b.value)return null;for(var _=[],T=m.filter(rv),N=0;N<T.length;N++){var K=T[N],ce=T[N+1];if(20===K.type){var le=ce&&Ul(ce)?ce.number:1;_.push({counter:K.value,increment:le})}}return _}},d_={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(y,m){if(0===m.length)return[];for(var b=[],_=m.filter(rv),T=0;T<_.length;T++){var N=_[T],K=_[T+1];if(Fr(N)&&"none"!==N.value){var ce=K&&Ul(K)?K.number:0;b.push({counter:N.value,reset:ce})}}return b}},p_={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(y,m){return m.filter(xu).map(function(b){return fv.parse(y,b)})}},g_={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(y,m){if(0===m.length)return null;var b=m[0];if(20===b.type&&"none"===b.value)return null;var _=[],T=m.filter(jS);if(T.length%2!=0)return null;for(var N=0;N<T.length;N+=2)_.push({open:T[N].value,close:T[N+1].value});return _}},dv=function(y,m,b){if(!y)return"";var _=y[Math.min(m,y.length-1)];return _?b?_.open:_.close:""},pv={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(y,m){return 1===m.length&&nv(m[0],"none")?[]:il(m).map(function(b){for(var _={color:255,offsetX:St,offsetY:St,blur:St,spread:St,inset:!1},T=0,N=0;N<b.length;N++){var K=b[N];nv(K,"inset")?_.inset=!0:Mc(K)?(0===T?_.offsetX=K:1===T?_.offsetY=K:2===T?_.blur=K:_.spread=K,T++):_.color=al_parse(y,K)}return _})}},m_={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(y,m){var _=[];return m.filter(Fr).forEach(function(T){switch(T.value){case"stroke":_.push(1);break;case"fill":_.push(0);break;case"markers":_.push(2)}}),[0,1,2].forEach(function(T){-1===_.indexOf(T)&&_.push(T)}),_}},gv={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},mv={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(y,m){return xu(m)?m.number:0}},v_=function(){function y(m,b){var _,T;this.animationDuration=Gt(m,p_,b.animationDuration),this.backgroundClip=Gt(m,J1,b.backgroundClip),this.backgroundColor=Gt(m,e_,b.backgroundColor),this.backgroundImage=Gt(m,fs,b.backgroundImage),this.backgroundOrigin=Gt(m,Ns,b.backgroundOrigin),this.backgroundPosition=Gt(m,kA,b.backgroundPosition),this.backgroundRepeat=Gt(m,Fo,b.backgroundRepeat),this.backgroundSize=Gt(m,wp,b.backgroundSize),this.borderTopColor=Gt(m,mi,b.borderTopColor),this.borderRightColor=Gt(m,Ot,b.borderRightColor),this.borderBottomColor=Gt(m,Dn,b.borderBottomColor),this.borderLeftColor=Gt(m,ti,b.borderLeftColor),this.borderTopLeftRadius=Gt(m,vf,b.borderTopLeftRadius),this.borderTopRightRadius=Gt(m,Ms,b.borderTopRightRadius),this.borderBottomRightRadius=Gt(m,QA,b.borderBottomRightRadius),this.borderBottomLeftRadius=Gt(m,xi,b.borderBottomLeftRadius),this.borderTopStyle=Gt(m,VA,b.borderTopStyle),this.borderRightStyle=Gt(m,Tn,b.borderRightStyle),this.borderBottomStyle=Gt(m,yf,b.borderBottomStyle),this.borderLeftStyle=Gt(m,A_,b.borderLeftStyle),this.borderTopWidth=Gt(m,Ci,b.borderTopWidth),this.borderRightWidth=Gt(m,wf,b.borderRightWidth),this.borderBottomWidth=Gt(m,GA,b.borderBottomWidth),this.borderLeftWidth=Gt(m,cl,b.borderLeftWidth),this.boxShadow=Gt(m,pv,b.boxShadow),this.color=Gt(m,_f,b.color),this.direction=Gt(m,h_,b.direction),this.display=Gt(m,Tc,b.display),this.float=Gt(m,bf,b.cssFloat),this.fontFamily=Gt(m,CU,b.fontFamily),this.fontSize=Gt(m,Su,b.fontSize),this.fontStyle=Gt(m,SU,b.fontStyle),this.fontVariant=Gt(m,EU,b.fontVariant),this.fontWeight=Gt(m,Fc,b.fontWeight),this.letterSpacing=Gt(m,xf,b.letterSpacing),this.lineBreak=Gt(m,cU,b.lineBreak),this.lineHeight=Gt(m,lv,b.lineHeight),this.listStyleImage=Gt(m,ul,b.listStyleImage),this.listStylePosition=Gt(m,bp,b.listStylePosition),this.listStyleType=Gt(m,Ic,b.listStyleType),this.marginTop=Gt(m,ds,b.marginTop),this.marginRight=Gt(m,uU,b.marginRight),this.marginBottom=Gt(m,ro,b.marginBottom),this.marginLeft=Gt(m,Os,b.marginLeft),this.opacity=Gt(m,f_,b.opacity);var N=Gt(m,uv,b.overflow);this.overflowX=N[0],this.overflowY=N[N.length>1?1:0],this.overflowWrap=Gt(m,Cu,b.overflowWrap),this.paddingTop=Gt(m,Ta,b.paddingTop),this.paddingRight=Gt(m,Av,b.paddingRight),this.paddingBottom=Gt(m,JS,b.paddingBottom),this.paddingLeft=Gt(m,eB,b.paddingLeft),this.paintOrder=Gt(m,m_,b.paintOrder),this.position=Gt(m,tB,b.position),this.textAlign=Gt(m,AU,b.textAlign),this.textDecorationColor=Gt(m,bU,null!==(_=b.textDecorationColor)&&void 0!==_?_:b.color),this.textDecorationLine=Gt(m,xU,null!==(T=b.textDecorationLine)&&void 0!==T?T:b.textDecoration),this.textShadow=Gt(m,nB,b.textShadow),this.textTransform=Gt(m,hU,b.textTransform),this.transform=Gt(m,fU,b.transform),this.transformOrigin=Gt(m,vU,b.transformOrigin),this.visibility=Gt(m,yU,b.visibility),this.webkitTextStrokeColor=Gt(m,gv,b.webkitTextStrokeColor),this.webkitTextStrokeWidth=Gt(m,mv,b.webkitTextStrokeWidth),this.wordBreak=Gt(m,wU,b.wordBreak),this.zIndex=Gt(m,_U,b.zIndex)}return y.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},y.prototype.isTransparent=function(){return ll(this.backgroundColor)},y.prototype.isTransformed=function(){return null!==this.transform},y.prototype.isPositioned=function(){return 0!==this.position},y.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},y.prototype.isFloating=function(){return 0!==this.float},y.prototype.isInlineLevel=function(){return sr(this.display,4)||sr(this.display,33554432)||sr(this.display,268435456)||sr(this.display,536870912)||sr(this.display,67108864)||sr(this.display,134217728)},y}(),y_=function y(m,b){this.content=Gt(m,xp,b.content),this.quotes=Gt(m,g_,b.quotes)},vv=function y(m,b){this.counterIncrement=Gt(m,Jo,b.counterIncrement),this.counterReset=Gt(m,d_,b.counterReset)},Gt=function(y,m,b){var _=new zS,T=null!==b&&typeof b<"u"?b.toString():m.initialValue;_.write(T);var N=new UA(_.read());switch(m.type){case 2:var K=N.parseComponentValue();return m.parse(y,Fr(K)?K.value:m.initialValue);case 0:return m.parse(y,N.parseComponentValue());case 1:return m.parse(y,N.parseComponentValues());case 4:return N.parseComponentValue();case 3:switch(m.format){case"angle":return eo_parse(y,N.parseComponentValue());case"color":return al_parse(y,N.parseComponentValue());case"image":return yn_parse(y,N.parseComponentValue());case"length":var ce=N.parseComponentValue();return Mc(ce)?ce:St;case"length-percentage":var le=N.parseComponentValue();return Tt(le)?le:St;case"time":return fv.parse(y,N.parseComponentValue())}}},Cp=function(y,m){var b=function(y){switch(y.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(y);return 1===b||m===b},kl=function y(m,b){this.context=m,this.textNodes=[],this.elements=[],this.flags=0,Cp(b,3),this.styles=new v_(m,window.getComputedStyle(b,null)),Mv(b)&&(this.styles.animationDuration.some(function(_){return _>0})&&(b.style.animationDuration="0s"),null!==this.styles.transform&&(b.style.transform="none")),this.bounds=rt(this.context,b),Cp(b,4)&&(this.flags|=16)},iB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ef=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ep=0;Ep<64;Ep++)Ef[iB.charCodeAt(Ep)]=Ep;for(var S_=function(y,m,b){return y.slice?y.slice(m,b):new Uint16Array(Array.prototype.slice.call(y,m,b))},uB=function(){function y(m,b,_,T,N,K){this.initialValue=m,this.errorValue=b,this.highStart=_,this.highValueIndex=T,this.index=N,this.data=K}return y.prototype.get=function(m){var b;if(m>=0){if(m<55296||m>56319&&m<=65535)return this.data[b=((b=this.index[m>>5])<<2)+(31&m)];if(m<=65535)return this.data[b=((b=this.index[2048+(m-55296>>5)])<<2)+(31&m)];if(m<this.highStart)return b=this.index[b=2080+(m>>11)],this.data[b=((b=this.index[b+=m>>5&63])<<2)+(31&m)];if(m<=1114111)return this.data[this.highValueIndex]}return this.errorValue},y}(),M_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T_=typeof Uint8Array>"u"?[]:new Uint8Array(256),Bf=0;Bf<64;Bf++)T_[M_.charCodeAt(Bf)]=Bf;var Lr=8,Tf=9,Hs=11,D_=12,fB=function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];if(String.fromCodePoint)return String.fromCodePoint.apply(String,y);var b=y.length;if(!b)return"";for(var _=[],T=-1,N="";++T<b;){var K=y[T];K<=65535?_.push(K):_.push(55296+((K-=65536)>>10),K%1024+56320),(T+1===b||_.length>16384)&&(N+=String.fromCharCode.apply(String,_),_.length=0)}return N},dB=function(y,m){var b=function(y){var _,N,K,ce,le,m=.75*y.length,b=y.length,T=0;"="===y[y.length-1]&&(m--,"="===y[y.length-2]&&m--);var we=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(m):new Array(m),Me=Array.isArray(we)?we:new Uint8Array(we);for(_=0;_<b;_+=4)N=Ef[y.charCodeAt(_)],K=Ef[y.charCodeAt(_+1)],ce=Ef[y.charCodeAt(_+2)],le=Ef[y.charCodeAt(_+3)],Me[T++]=N<<2|K>>4,Me[T++]=(15&K)<<4|ce>>2,Me[T++]=(3&ce)<<6|63&le;return we}(y),_=Array.isArray(b)?function(y){for(var m=y.length,b=[],_=0;_<m;_+=4)b.push(y[_+3]<<24|y[_+2]<<16|y[_+1]<<8|y[_]);return b}(b):new Uint32Array(b),T=Array.isArray(b)?function(y){for(var m=y.length,b=[],_=0;_<m;_+=2)b.push(y[_+1]<<8|y[_]);return b}(b):new Uint16Array(b),K=S_(T,12,_[4]/2),ce=2===_[5]?S_(T,(24+_[4])/2):function(y,m,b){return y.slice?y.slice(m,b):new Uint32Array(Array.prototype.slice.call(y,m,b))}(_,Math.ceil((24+_[4])/4));return new uB(_[0],_[1],_[2],_[3],K,ce)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),pB=function(y){return dB.get(y)},F_=function(y,m,b){var _=b-2,T=m[_],N=m[b-1],K=m[b];if(2===N&&3===K)return"\xd7";if(2===N||3===N||4===N||2===K||3===K||4===K)return"\xf7";if(N===Lr&&-1!==[Lr,Tf,Hs,D_].indexOf(K)||(N===Hs||N===Tf)&&(K===Tf||10===K)||(N===D_||10===N)&&10===K||13===K||5===K||7===K||1===N)return"\xd7";if(13===N&&14===K){for(;5===T;)T=m[--_];if(14===T)return"\xd7"}if(15===N&&15===K){for(var ce=0;15===T;)ce++,T=m[--_];if(ce%2==0)return"\xd7"}return"\xf7"},R_=function(y){var m=function(y){for(var m=[],b=0,_=y.length;b<_;){var T=y.charCodeAt(b++);if(T>=55296&&T<=56319&&b<_){var N=y.charCodeAt(b++);56320==(64512&N)?m.push(((1023&T)<<10)+(1023&N)+65536):(m.push(T),b--)}else m.push(T)}return m}(y),b=m.length,_=0,T=0,N=m.map(pB);return{next:function(){if(_>=b)return{done:!0,value:null};for(var K="\xd7";_<b&&"\xd7"===(K=F_(0,N,++_)););if("\xd7"!==K||_===b){var ce=fB.apply(null,m.slice(T,_));return T=_,{value:ce,done:!1}}return{done:!0,value:null}}}},P_=function(y){return 0===y[0]&&255===y[1]&&0===y[2]&&255===y[3]},Mp=function(y,m,b,_,T){var N="http://www.w3.org/2000/svg",K=document.createElementNS(N,"svg"),ce=document.createElementNS(N,"foreignObject");return K.setAttributeNS(null,"width",y.toString()),K.setAttributeNS(null,"height",m.toString()),ce.setAttributeNS(null,"width","100%"),ce.setAttributeNS(null,"height","100%"),ce.setAttributeNS(null,"x",b.toString()),ce.setAttributeNS(null,"y",_.toString()),ce.setAttributeNS(null,"externalResourcesRequired","true"),K.appendChild(ce),ce.appendChild(T),K},Tu=function(y){return new Promise(function(m,b){var _=new Image;_.onload=function(){return m(_)},_.onerror=b,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(y))})},ps={get SUPPORT_RANGE_BOUNDS(){var y=function(y){if(y.createRange){var b=y.createRange();if(b.getBoundingClientRect){var _=y.createElement("boundtest");_.style.height="123px",_.style.display="block",y.body.appendChild(_),b.selectNode(_);var T=b.getBoundingClientRect(),N=Math.round(T.height);if(y.body.removeChild(_),123===N)return!0}}return!1}(document);return Object.defineProperty(ps,"SUPPORT_RANGE_BOUNDS",{value:y}),y},get SUPPORT_WORD_BREAKING(){var y=ps.SUPPORT_RANGE_BOUNDS&&function(y){var m=y.createElement("boundtest");m.style.width="50px",m.style.display="block",m.style.fontSize="12px",m.style.letterSpacing="0px",m.style.wordSpacing="0px",y.body.appendChild(m);var b=y.createRange();m.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var _=m.firstChild,T=en(_.data).map(function(le){return It(le)}),N=0,K={},ce=T.every(function(le,we){b.setStart(_,N),b.setEnd(_,N+le.length);var Me=b.getBoundingClientRect();N+=le.length;var Ue=Me.x>K.x||Me.y>K.y;return K=Me,0===we||Ue});return y.body.removeChild(m),ce}(document);return Object.defineProperty(ps,"SUPPORT_WORD_BREAKING",{value:y}),y},get SUPPORT_SVG_DRAWING(){var y=function(y){var m=new Image,b=y.createElement("canvas"),_=b.getContext("2d");if(!_)return!1;m.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{_.drawImage(m,0,0),b.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(ps,"SUPPORT_SVG_DRAWING",{value:y}),y},get SUPPORT_FOREIGNOBJECT_DRAWING(){var y="function"==typeof Array.from&&"function"==typeof window.fetch?function(y){var m=y.createElement("canvas"),b=100;m.width=b,m.height=b;var _=m.getContext("2d");if(!_)return Promise.reject(!1);_.fillStyle="rgb(0, 255, 0)",_.fillRect(0,0,b,b);var T=new Image,N=m.toDataURL();T.src=N;var K=Mp(b,b,0,0,T);return _.fillStyle="red",_.fillRect(0,0,b,b),Tu(K).then(function(ce){_.drawImage(ce,0,0);var le=_.getImageData(0,0,b,b).data;_.fillStyle="red",_.fillRect(0,0,b,b);var we=y.createElement("div");return we.style.backgroundImage="url("+N+")",we.style.height=b+"px",P_(le)?Tu(Mp(b,b,0,0,we)):Promise.reject(!1)}).then(function(ce){return _.drawImage(ce,0,0),P_(_.getImageData(0,0,b,b).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(ps,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:y}),y},get SUPPORT_CORS_IMAGES(){var y=typeof(new Image).crossOrigin<"u";return Object.defineProperty(ps,"SUPPORT_CORS_IMAGES",{value:y}),y},get SUPPORT_RESPONSE_TYPE(){var y="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(ps,"SUPPORT_RESPONSE_TYPE",{value:y}),y},get SUPPORT_CORS_XHR(){var y="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ps,"SUPPORT_CORS_XHR",{value:y}),y},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var y=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ps,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:y}),y}},If=function y(m,b){this.text=m,this.bounds=b},wB=function(y,m){var b=m.ownerDocument;if(b){var _=b.createElement("html2canvaswrapper");_.appendChild(m.cloneNode(!0));var T=m.parentNode;if(T){T.replaceChild(_,m);var N=rt(y,_);return _.firstChild&&T.replaceChild(_.firstChild,_),N}}return $e.EMPTY},N_=function(y,m,b){var _=y.ownerDocument;if(!_)throw new Error("Node has no owner document");var T=_.createRange();return T.setStart(y,m),T.setEnd(y,m+b),T},At=function(y){if(ps.SUPPORT_NATIVE_TEXT_SEGMENTATION){var m=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(m.segment(y)).map(function(b){return b.segment})}return function(y){for(var _,m=R_(y),b=[];!(_=m.next()).done;)_.value&&b.push(_.value.slice());return b}(y)},_B=function(y,m){return 0!==m.letterSpacing?At(y):function(y,m){if(ps.SUPPORT_NATIVE_TEXT_SEGMENTATION){var b=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(b.segment(y)).map(function(_){return _.segment})}return gs(y,m)}(y,m)},bB=[32,160,4961,65792,65793,4153,4241],gs=function(y,m){for(var T,b=function(y,m){var b=en(y),_=DA(b,m),T=_[0],N=_[1],K=_[2],ce=b.length,le=0,we=0;return{next:function(){if(we>=ce)return{done:!0,value:null};for(var Me=Jn;we<ce&&(Me=hs(b,N,T,++we,K))===Jn;);if(Me!==Jn||we===ce){var Ue=new nl(b,Me,le,we);return le=we,{value:Ue,done:!1}}return{done:!0,value:null}}}}(y,{lineBreak:m.lineBreak,wordBreak:"break-word"===m.overflowWrap?"break-word":m.wordBreak}),_=[],N=function(){if(T.value){var K=T.value.slice(),ce=en(K),le="";ce.forEach(function(we){-1===bB.indexOf(we)?le+=It(we):(le.length&&_.push(le),_.push(It(we)),le="")}),le.length&&_.push(le)}};!(T=b.next()).done;)N();return _},O_=function y(m,b,_){this.text=Df(b.data,_.textTransform),this.textBounds=function(y,m,b,_){var T=_B(m,b),N=[],K=0;return T.forEach(function(ce){if(b.textDecorationLine.length||ce.trim().length>0)if(ps.SUPPORT_RANGE_BOUNDS){var le=N_(_,K,ce.length).getClientRects();if(le.length>1){var we=At(ce),Me=0;we.forEach(function(Je){N.push(new If(Je,$e.fromDOMRectList(y,N_(_,Me+K,Je.length).getClientRects()))),Me+=Je.length})}else N.push(new If(ce,$e.fromDOMRectList(y,le)))}else{var Ue=_.splitText(ce.length);N.push(new If(ce,wB(y,_))),_=Ue}else ps.SUPPORT_RANGE_BOUNDS||(_=_.splitText(ce.length));K+=ce.length}),N}(m,this.text,_,b)},Df=function(y,m){switch(m){case 1:return y.toLowerCase();case 3:return y.replace(Al,xv);case 2:return y.toUpperCase();default:return y}},Al=/(^|\s|:|-|\(|\))([a-z])/g,xv=function(y,m,b){return y.length>0?m+b.toUpperCase():y},Tp=function(y){function m(b,_){var T=y.call(this,b,_)||this;return T.src=_.currentSrc||_.src,T.intrinsicWidth=_.naturalWidth,T.intrinsicHeight=_.naturalHeight,T.context.cache.addImage(T.src),T}return jt(m,y),m}(kl),k_=function(y){function m(b,_){var T=y.call(this,b,_)||this;return T.canvas=_,T.intrinsicWidth=_.width,T.intrinsicHeight=_.height,T}return jt(m,y),m}(kl),xB=function(y){function m(b,_){var T=y.call(this,b,_)||this,N=new XMLSerializer,K=rt(b,_);return _.setAttribute("width",K.width+"px"),_.setAttribute("height",K.height+"px"),T.svg="data:image/svg+xml,"+encodeURIComponent(N.serializeToString(_)),T.intrinsicWidth=_.width.baseVal.value,T.intrinsicHeight=_.height.baseVal.value,T.context.cache.addImage(T.svg),T}return jt(m,y),m}(kl),Cv=function(y){function m(b,_){var T=y.call(this,b,_)||this;return T.value=_.value,T}return jt(m,y),m}(kl),ms=function(y){function m(b,_){var T=y.call(this,b,_)||this;return T.start=_.start,T.reversed="boolean"==typeof _.reversed&&!0===_.reversed,T}return jt(m,y),m}(kl),Hl=[{type:15,flags:0,unit:"px",number:3}],H_=[{type:16,flags:0,number:50}],Ip="checkbox",Ff="radio",CB="password",Q_=707406591,Rf=function(y){function m(b,_){var T=y.call(this,b,_)||this;switch(T.type=_.type.toLowerCase(),T.checked=_.checked,T.value=function(y){var m=y.type===CB?new Array(y.value.length+1).join("\u2022"):y.value;return 0===m.length?y.placeholder||"":m}(_),(T.type===Ip||T.type===Ff)&&(T.styles.backgroundColor=3739148031,T.styles.borderTopColor=T.styles.borderRightColor=T.styles.borderBottomColor=T.styles.borderLeftColor=2779096575,T.styles.borderTopWidth=T.styles.borderRightWidth=T.styles.borderBottomWidth=T.styles.borderLeftWidth=1,T.styles.borderTopStyle=T.styles.borderRightStyle=T.styles.borderBottomStyle=T.styles.borderLeftStyle=1,T.styles.backgroundClip=[0],T.styles.backgroundOrigin=[0],T.bounds=function(y){return y.width>y.height?new $e(y.left+(y.width-y.height)/2,y.top,y.height,y.height):y.width<y.height?new $e(y.left,y.top+(y.height-y.width)/2,y.width,y.width):y}(T.bounds)),T.type){case Ip:T.styles.borderTopRightRadius=T.styles.borderTopLeftRadius=T.styles.borderBottomRightRadius=T.styles.borderBottomLeftRadius=Hl;break;case Ff:T.styles.borderTopRightRadius=T.styles.borderTopLeftRadius=T.styles.borderBottomRightRadius=T.styles.borderBottomLeftRadius=H_}return T}return jt(m,y),m}(kl),Dp=function(y){function m(b,_){var T=y.call(this,b,_)||this,N=_.options[_.selectedIndex||0];return T.value=N&&N.text||"",T}return jt(m,y),m}(kl),Ev=function(y){function m(b,_){var T=y.call(this,b,_)||this;return T.value=_.value,T}return jt(m,y),m}(kl),Fp=function(y){function m(b,_){var T=y.call(this,b,_)||this;T.src=_.src,T.width=parseInt(_.width,10)||0,T.height=parseInt(_.height,10)||0,T.backgroundColor=T.styles.backgroundColor;try{if(_.contentWindow&&_.contentWindow.document&&_.contentWindow.document.documentElement){T.tree=Sv(b,_.contentWindow.document.documentElement);var N=_.contentWindow.document.documentElement?OA(b,getComputedStyle(_.contentWindow.document.documentElement).backgroundColor):Do.TRANSPARENT,K=_.contentWindow.document.body?OA(b,getComputedStyle(_.contentWindow.document.body).backgroundColor):Do.TRANSPARENT;T.backgroundColor=ll(N)?ll(K)?T.styles.backgroundColor:K:N}}catch{}return T}return jt(m,y),m}(kl),EB=["OL","UL","MENU"],Lf=function(y,m,b,_){for(var T=m.firstChild,N=void 0;T;T=N)if(N=T.nextSibling,Bv(T)&&T.data.trim().length>0)b.textNodes.push(new O_(y,T,b.styles));else if(Rc(T))if(Pf(T)&&T.assignedNodes)T.assignedNodes().forEach(function(ce){return Lf(y,ce,b,_)});else{var K=Rp(y,T);K.styles.isVisible()&&(V_(T,K,_)?K.flags|=4:G_(K.styles)&&(K.flags|=2),-1!==EB.indexOf(T.tagName)&&(K.flags|=8),b.elements.push(K),T.shadowRoot?Lf(y,T.shadowRoot,K,_):!Du(T)&&!j_(T)&&!Fu(T)&&Lf(y,T,K,_))}},Rp=function(y,m){return Up(m)?new Tp(y,m):W_(m)?new k_(y,m):j_(m)?new xB(y,m):Vs(m)?new Cv(y,m):Iu(m)?new ms(y,m):li(m)?new Rf(y,m):Fu(m)?new Dp(y,m):Du(m)?new Ev(y,m):Uf(m)?new Fp(y,m):new kl(y,m)},Sv=function(y,m){var b=Rp(y,m);return b.flags|=4,Lf(y,m,b,b),b},V_=function(y,m,b){return m.styles.isPositionedWithZIndex()||m.styles.opacity<1||m.styles.isTransformed()||Tv(y)&&b.styles.isTransparent()},G_=function(y){return y.isPositioned()||y.isFloating()},Bv=function(y){return y.nodeType===Node.TEXT_NODE},Rc=function(y){return y.nodeType===Node.ELEMENT_NODE},Mv=function(y){return Rc(y)&&typeof y.style<"u"&&!Lp(y)},Lp=function(y){return"object"==typeof y.className},Vs=function(y){return"LI"===y.tagName},Iu=function(y){return"OL"===y.tagName},li=function(y){return"INPUT"===y.tagName},j_=function(y){return"svg"===y.tagName},Tv=function(y){return"BODY"===y.tagName},W_=function(y){return"CANVAS"===y.tagName},Iv=function(y){return"VIDEO"===y.tagName},Up=function(y){return"IMG"===y.tagName},Uf=function(y){return"IFRAME"===y.tagName},Vl=function(y){return"STYLE"===y.tagName},Du=function(y){return"TEXTAREA"===y.tagName},Fu=function(y){return"SELECT"===y.tagName},Pf=function(y){return"SLOT"===y.tagName},Pp=function(y){return y.tagName.indexOf("-")>0},$_=function(){function y(){this.counters={}}return y.prototype.getCounterValue=function(m){var b=this.counters[m];return b&&b.length?b[b.length-1]:1},y.prototype.getCounterValues=function(m){return this.counters[m]||[]},y.prototype.pop=function(m){var b=this;m.forEach(function(_){return b.counters[_].pop()})},y.prototype.parse=function(m){var b=this,_=m.counterIncrement,T=m.counterReset,N=!0;null!==_&&_.forEach(function(ce){var le=b.counters[ce.counter];le&&0!==ce.increment&&(N=!1,le.length||le.push(1),le[Math.max(0,le.length-1)]+=ce.increment)});var K=[];return N&&T.forEach(function(ce){var le=b.counters[ce.counter];K.push(ce.counter),le||(le=b.counters[ce.counter]=[]),le.push(ce.reset)}),K},y}(),Dv={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},K_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},$A={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Nf={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},KA=function(y,m,b,_,T,N){return y<m||y>b?Uc(y,T,N.length>0):_.integers.reduce(function(K,ce,le){for(;y>=ce;)y-=ce,K+=_.values[le];return K},"")+N},BB=function(y,m,b,_){var T="";do{b||y--,T=_(y)+T,y/=m}while(y*m>=m);return T},ci=function(y,m,b,_,T){var N=b-m+1;return(y<0?"-":"")+(BB(Math.abs(y),N,_,function(K){return It(Math.floor(K%N)+m)})+T)},qA=function(y,m,b){void 0===b&&(b=". ");var _=m.length;return BB(Math.abs(y),_,!1,function(T){return m[Math.floor(T%_)]})+b},Da=function(y,m,b,_,T,N){if(y<-9999||y>9999)return Uc(y,4,T.length>0);var K=Math.abs(y),ce=T;if(0===K)return m[0]+ce;for(var le=0;K>0&&le<=4;le++){var we=K%10;0===we&&sr(N,1)&&""!==ce?ce=m[we]+ce:we>1||1===we&&0===le||1===we&&1===le&&sr(N,2)||1===we&&1===le&&sr(N,4)&&y>100||1===we&&le>1&&sr(N,8)?ce=m[we]+(le>0?b[le-1]:"")+ce:1===we&&le>0&&(ce=b[le-1]+ce),K=Math.floor(K/10)}return(y<0?_:"")+ce},Of="\ub9c8\uc774\ub108\uc2a4",Uc=function(y,m,b){var _=b?". ":"",T=b?"\u3001":"",N=b?", ":"",K=b?" ":"";switch(m){case 0:return"\u2022"+K;case 1:return"\u25e6"+K;case 2:return"\u25fe"+K;case 5:var ce=ci(y,48,57,!0,_);return ce.length<4?"0"+ce:ce;case 4:return qA(y,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",T);case 6:return KA(y,1,3999,Dv,3,_).toLowerCase();case 7:return KA(y,1,3999,Dv,3,_);case 8:return ci(y,945,969,!1,_);case 9:return ci(y,97,122,!1,_);case 10:return ci(y,65,90,!1,_);case 11:return ci(y,1632,1641,!0,_);case 12:case 49:return KA(y,1,9999,K_,3,_);case 35:return KA(y,1,9999,K_,3,_).toLowerCase();case 13:return ci(y,2534,2543,!0,_);case 14:case 30:return ci(y,6112,6121,!0,_);case 15:return qA(y,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",T);case 16:return qA(y,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",T);case 17:case 48:return Da(y,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",T,14);case 47:return Da(y,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",T,15);case 42:return Da(y,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",T,14);case 41:return Da(y,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",T,15);case 26:return Da(y,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",T,0);case 25:return Da(y,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",T,7);case 31:return Da(y,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Of,N,7);case 33:return Da(y,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Of,N,0);case 32:return Da(y,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Of,N,7);case 18:return ci(y,2406,2415,!0,_);case 20:return KA(y,1,19999,Nf,3,_);case 21:return ci(y,2790,2799,!0,_);case 22:return ci(y,2662,2671,!0,_);case 22:return KA(y,1,10999,$A,3,_);case 23:return qA(y,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return qA(y,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return ci(y,3302,3311,!0,_);case 28:return qA(y,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",T);case 29:return qA(y,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",T);case 34:return ci(y,3792,3801,!0,_);case 37:return ci(y,6160,6169,!0,_);case 38:return ci(y,4160,4169,!0,_);case 39:return ci(y,2918,2927,!0,_);case 40:return ci(y,1776,1785,!0,_);case 43:return ci(y,3046,3055,!0,_);case 44:return ci(y,3174,3183,!0,_);case 45:return ci(y,3664,3673,!0,_);case 46:return ci(y,3872,3881,!0,_);default:return ci(y,48,57,!0,_)}},MB="data-html2canvas-ignore",Fv=function(){function y(m,b,_){if(this.context=m,this.options=_,this.scrolledElements=[],this.referenceElement=b,this.counters=new $_,this.quoteDepth=0,!b.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(b.ownerDocument.documentElement,!1)}return y.prototype.toIFrame=function(m,b){var _=this,T=TB(m,b);if(!T.contentWindow)return Promise.reject("Unable to find iframe window");var N=m.defaultView.pageXOffset,K=m.defaultView.pageYOffset,ce=T.contentWindow,le=ce.document,we=Op(T).then(function(){return fn(_,void 0,void 0,function(){var Me,Ue;return On(this,function(Je){switch(Je.label){case 0:return this.scrolledElements.forEach(DB),ce&&(ce.scrollTo(b.left,b.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ce.scrollY!==b.top||ce.scrollX!==b.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ce.scrollX-b.left,ce.scrollY-b.top,0,0))),Me=this.options.onclone,typeof(Ue=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:le.fonts&&le.fonts.ready?[4,le.fonts.ready]:[3,2];case 1:Je.sent(),Je.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,IB(le)]:[3,4];case 3:Je.sent(),Je.label=4;case 4:return"function"==typeof Me?[2,Promise.resolve().then(function(){return Me(le,Ue)}).then(function(){return T})]:[2,T]}})})});return le.open(),le.write(Hp(document.doctype)+"<html></html>"),Lv(this.referenceElement.ownerDocument,N,K),le.replaceChild(le.adoptNode(this.documentElement),le.documentElement),le.close(),we},y.prototype.createElementClone=function(m){if(Cp(m,2),W_(m))return this.createCanvasClone(m);if(Iv(m))return this.createVideoClone(m);if(Vl(m))return this.createStyleClone(m);var b=m.cloneNode(!1);return Up(b)&&(Up(m)&&m.currentSrc&&m.currentSrc!==m.src&&(b.src=m.currentSrc,b.srcset=""),"lazy"===b.loading&&(b.loading="eager")),Pp(b)?this.createCustomElementClone(b):b},y.prototype.createCustomElementClone=function(m){var b=document.createElement("html2canvascustomelement");return kp(m.style,b),b},y.prototype.createStyleClone=function(m){try{var b=m.sheet;if(b&&b.cssRules){var _=[].slice.call(b.cssRules,0).reduce(function(N,K){return K&&"string"==typeof K.cssText?N+K.cssText:N},""),T=m.cloneNode(!1);return T.textContent=_,T}}catch(N){if(this.context.logger.error("Unable to access cssRules property",N),"SecurityError"!==N.name)throw N}return m.cloneNode(!1)},y.prototype.createCanvasClone=function(m){var b;if(this.options.inlineImages&&m.ownerDocument){var _=m.ownerDocument.createElement("img");try{return _.src=m.toDataURL(),_}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",m)}}var T=m.cloneNode(!1);try{T.width=m.width,T.height=m.height;var N=m.getContext("2d"),K=T.getContext("2d");if(K)if(!this.options.allowTaint&&N)K.putImageData(N.getImageData(0,0,m.width,m.height),0,0);else{var ce=null!==(b=m.getContext("webgl2"))&&void 0!==b?b:m.getContext("webgl");if(ce){var le=ce.getContextAttributes();!1===le?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",m)}K.drawImage(m,0,0)}return T}catch{this.context.logger.info("Unable to clone canvas as it is tainted",m)}return T},y.prototype.createVideoClone=function(m){var b=m.ownerDocument.createElement("canvas");b.width=m.offsetWidth,b.height=m.offsetHeight;var _=b.getContext("2d");try{return _&&(_.drawImage(m,0,0,b.width,b.height),this.options.allowTaint||_.getImageData(0,0,b.width,b.height)),b}catch{this.context.logger.info("Unable to clone video as it is tainted",m)}var T=m.ownerDocument.createElement("canvas");return T.width=m.offsetWidth,T.height=m.offsetHeight,T},y.prototype.appendChildNode=function(m,b,_){(!Rc(b)||!function(y){return"SCRIPT"===y.tagName}(b)&&!b.hasAttribute(MB)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(b)))&&(!this.options.copyStyles||!Rc(b)||!Vl(b))&&m.appendChild(this.cloneNode(b,_))},y.prototype.cloneChildNodes=function(m,b,_){for(var T=this,N=m.shadowRoot?m.shadowRoot.firstChild:m.firstChild;N;N=N.nextSibling)if(Rc(N)&&Pf(N)&&"function"==typeof N.assignedNodes){var K=N.assignedNodes();K.length&&K.forEach(function(ce){return T.appendChildNode(b,ce,_)})}else this.appendChildNode(b,N,_)},y.prototype.cloneNode=function(m,b){if(Bv(m))return document.createTextNode(m.data);if(!m.ownerDocument)return m.cloneNode(!1);var _=m.ownerDocument.defaultView;if(_&&Rc(m)&&(Mv(m)||Lp(m))){var T=this.createElementClone(m);T.style.transitionProperty="none";var N=_.getComputedStyle(m),K=_.getComputedStyle(m,":before"),ce=_.getComputedStyle(m,":after");this.referenceElement===m&&Mv(T)&&(this.clonedReferenceElement=T),Tv(T)&&Gp(T);var le=this.counters.parse(new vv(this.context,N)),we=this.resolvePseudoContent(m,T,K,kf.BEFORE);Pp(m)&&(b=!0),Iv(m)||this.cloneChildNodes(m,T,b),we&&T.insertBefore(we,T.firstChild);var Me=this.resolvePseudoContent(m,T,ce,kf.AFTER);return Me&&T.appendChild(Me),this.counters.pop(le),(N&&(this.options.copyStyles||Lp(m))&&!Uf(m)||b)&&kp(N,T),(0!==m.scrollTop||0!==m.scrollLeft)&&this.scrolledElements.push([T,m.scrollLeft,m.scrollTop]),(Du(m)||Fu(m))&&(Du(T)||Fu(T))&&(T.value=m.value),T}return m.cloneNode(!1)},y.prototype.resolvePseudoContent=function(m,b,_,T){var N=this;if(_){var K=_.content,ce=b.ownerDocument;if(ce&&K&&"none"!==K&&"-moz-alt-content"!==K&&"none"!==_.display){this.counters.parse(new vv(this.context,_));var le=new y_(this.context,_),we=ce.createElement("html2canvaspseudoelement");kp(_,we),le.content.forEach(function(Ue){if(0===Ue.type)we.appendChild(ce.createTextNode(Ue.value));else if(22===Ue.type){var Je=ce.createElement("img");Je.src=Ue.value,Je.style.opacity="1",we.appendChild(Je)}else if(18===Ue.type){if("attr"===Ue.name){var Kt=Ue.values.filter(Fr);Kt.length&&we.appendChild(ce.createTextNode(m.getAttribute(Kt[0].value)||""))}else if("counter"===Ue.name){var Et=Ue.values.filter(Sa),kn=Et[1];if((Lt=Et[0])&&Fr(Lt)){var on=N.counters.getCounterValue(Lt.value),Jt=kn&&Fr(kn)?Ic.parse(N.context,kn.value):3;we.appendChild(ce.createTextNode(Uc(on,Jt,!1)))}}else if("counters"===Ue.name){var Lt,yr=Ue.values.filter(Sa),qn=yr[1];if(kn=yr[2],(Lt=yr[0])&&Fr(Lt)){var wn=N.counters.getCounterValues(Lt.value),$t=kn&&Fr(kn)?Ic.parse(N.context,kn.value):3,fr=qn&&0===qn.type?qn.value:"",dr=wn.map(function(io){return Uc(io,$t,!1)}).join(fr);we.appendChild(ce.createTextNode(dr))}}}else if(20===Ue.type)switch(Ue.value){case"open-quote":we.appendChild(ce.createTextNode(dv(le.quotes,N.quoteDepth++,!0)));break;case"close-quote":we.appendChild(ce.createTextNode(dv(le.quotes,--N.quoteDepth,!1)));break;default:we.appendChild(ce.createTextNode(Ue.value))}}),we.className=Qp+" "+Vp;var Me=T===kf.BEFORE?" "+Qp:" "+Vp;return Lp(b)?b.className.baseValue+=Me:b.className+=Me,we}}},y.destroy=function(m){return!!m.parentNode&&(m.parentNode.removeChild(m),!0)},y}(),kf=function(y){return y[y.BEFORE=0]="BEFORE",y[y.AFTER=1]="AFTER",y}(kf||{}),TB=function(y,m){var b=y.createElement("iframe");return b.className="html2canvas-container",b.style.visibility="hidden",b.style.position="fixed",b.style.left="-10000px",b.style.top="0px",b.style.border="0",b.width=m.width.toString(),b.height=m.height.toString(),b.scrolling="no",b.setAttribute(MB,"true"),y.body.appendChild(b),b},hl=function(y){return new Promise(function(m){y.complete?m():y.src?(y.onload=m,y.onerror=m):m()})},IB=function(y){return Promise.all([].slice.call(y.images,0).map(hl))},Op=function(y){return new Promise(function(m,b){var _=y.contentWindow;if(!_)return b("No window assigned for iframe");var T=_.document;_.onload=y.onload=function(){_.onload=y.onload=null;var N=setInterval(function(){T.body.childNodes.length>0&&"complete"===T.readyState&&(clearInterval(N),m(y))},50)}})},Rv=["all","d","content"],kp=function(y,m){for(var b=y.length-1;b>=0;b--){var _=y.item(b);-1===Rv.indexOf(_)&&m.style.setProperty(_,y.getPropertyValue(_))}return m},Hp=function(y){var m="";return y&&(m+="<!DOCTYPE ",y.name&&(m+=y.name),y.internalSubset&&(m+=y.internalSubset),y.publicId&&(m+='"'+y.publicId+'"'),y.systemId&&(m+='"'+y.systemId+'"'),m+=">"),m},Lv=function(y,m,b){y&&y.defaultView&&(m!==y.defaultView.pageXOffset||b!==y.defaultView.pageYOffset)&&y.defaultView.scrollTo(m,b)},DB=function(y){var m=y[0],_=y[2];m.scrollLeft=y[1],m.scrollTop=_},Qp="___html2canvas___pseudoelement_before",Vp="___html2canvas___pseudoelement_after",Z_='{\n    content: "" !important;\n    display: none !important;\n}',Gp=function(y){Lu(y,"."+Qp+":before"+Z_+"\n         ."+Vp+":after"+Z_)},Lu=function(y,m){var b=y.ownerDocument;if(b){var _=b.createElement("style");_.textContent=m,y.appendChild(_)}},J_=function(){function y(){}return y.getOrigin=function(m){var b=y._link;return b?(b.href=m,b.href=b.href,b.protocol+b.hostname+b.port):"about:blank"},y.isSameOrigin=function(m){return y.getOrigin(m)===y._origin},y.setContext=function(m){y._link=m.document.createElement("a"),y._origin=y.getOrigin(m.location.href)},y._origin="about:blank",y}(),eb=function(){function y(m,b){this.context=m,this._options=b,this._cache={}}return y.prototype.addImage=function(m){var b=Promise.resolve();return this.has(m)||(Qf(m)||Gs(m))&&(this._cache[m]=this.loadImage(m)).catch(function(){}),b},y.prototype.match=function(m){return this._cache[m]},y.prototype.loadImage=function(m){return fn(this,void 0,void 0,function(){var b,_,T,N,K=this;return On(this,function(ce){switch(ce.label){case 0:return b=J_.isSameOrigin(m),_=!Uv(m)&&!0===this._options.useCORS&&ps.SUPPORT_CORS_IMAGES&&!b,T=!Uv(m)&&!b&&!Qf(m)&&"string"==typeof this._options.proxy&&ps.SUPPORT_CORS_XHR&&!_,b||!1!==this._options.allowTaint||Uv(m)||Qf(m)||T||_?(N=m,T?[4,this.proxy(N)]:[3,2]):[2];case 1:N=ce.sent(),ce.label=2;case 2:return this.context.logger.debug("Added image "+m.substring(0,256)),[4,new Promise(function(le,we){var Me=new Image;Me.onload=function(){return le(Me)},Me.onerror=we,(vs(N)||_)&&(Me.crossOrigin="anonymous"),Me.src=N,!0===Me.complete&&setTimeout(function(){return le(Me)},500),K._options.imageTimeout>0&&setTimeout(function(){return we("Timed out ("+K._options.imageTimeout+"ms) loading image")},K._options.imageTimeout)})];case 3:return[2,ce.sent()]}})})},y.prototype.has=function(m){return typeof this._cache[m]<"u"},y.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},y.prototype.proxy=function(m){var b=this,_=this._options.proxy;if(!_)throw new Error("No proxy defined");var T=m.substring(0,256);return new Promise(function(N,K){var ce=ps.SUPPORT_RESPONSE_TYPE?"blob":"text",le=new XMLHttpRequest;le.onload=function(){if(200===le.status)if("text"===ce)N(le.response);else{var Ue=new FileReader;Ue.addEventListener("load",function(){return N(Ue.result)},!1),Ue.addEventListener("error",function(Je){return K(Je)},!1),Ue.readAsDataURL(le.response)}else K("Failed to proxy resource "+T+" with status code "+le.status)},le.onerror=K;var we=_.indexOf("?")>-1?"&":"?";if(le.open("GET",""+_+we+"url="+encodeURIComponent(m)+"&responseType="+ce),"text"!==ce&&le instanceof XMLHttpRequest&&(le.responseType=ce),b._options.imageTimeout){var Me=b._options.imageTimeout;le.timeout=Me,le.ontimeout=function(){return K("Timed out ("+Me+"ms) proxying "+T)}}le.send()})},y}(),tb=/^data:image\/svg\+xml/i,Hf=/^data:image\/.*;base64,/i,FB=/^data:image\/.*/i,Gs=function(y){return ps.SUPPORT_SVG_DRAWING||!RB(y)},Uv=function(y){return FB.test(y)},vs=function(y){return Hf.test(y)},Qf=function(y){return"blob"===y.substr(0,4)},RB=function(y){return"svg"===y.substr(-3).toLowerCase()||tb.test(y)},kt=function(){function y(m,b){this.type=0,this.x=m,this.y=b}return y.prototype.add=function(m,b){return new y(this.x+m,this.y+b)},y}(),Gl=function(y,m,b){return new kt(y.x+(m.x-y.x)*b,y.y+(m.y-y.y)*b)},zl=function(){function y(m,b,_,T){this.type=1,this.start=m,this.startControl=b,this.endControl=_,this.end=T}return y.prototype.subdivide=function(m,b){var _=Gl(this.start,this.startControl,m),T=Gl(this.startControl,this.endControl,m),N=Gl(this.endControl,this.end,m),K=Gl(_,T,m),ce=Gl(T,N,m),le=Gl(K,ce,m);return b?new y(this.start,_,K,le):new y(le,ce,N,this.end)},y.prototype.add=function(m,b){return new y(this.start.add(m,b),this.startControl.add(m,b),this.endControl.add(m,b),this.end.add(m,b))},y.prototype.reverse=function(){return new y(this.end,this.endControl,this.startControl,this.start)},y}(),ys=function(y){return 1===y.type},JA=function y(m){var b=m.styles,_=m.bounds,T=Pl(b.borderTopLeftRadius,_.width,_.height),N=T[0],K=T[1],ce=Pl(b.borderTopRightRadius,_.width,_.height),le=ce[0],we=ce[1],Me=Pl(b.borderBottomRightRadius,_.width,_.height),Ue=Me[0],Je=Me[1],Kt=Pl(b.borderBottomLeftRadius,_.width,_.height),Et=Kt[0],Lt=Kt[1],kn=[];kn.push((N+le)/_.width),kn.push((Et+Ue)/_.width),kn.push((K+Lt)/_.height),kn.push((we+Je)/_.height);var on=Math.max.apply(Math,kn);on>1&&(N/=on,K/=on,le/=on,we/=on,Ue/=on,Je/=on,Et/=on,Lt/=on);var Jt=_.width-le,yr=_.height-Je,qn=_.width-Ue,wn=_.height-Lt,$t=b.borderTopWidth,fr=b.borderRightWidth,dr=b.borderBottomWidth,In=b.borderLeftWidth,$i=zr(b.paddingTop,m.bounds.width),io=zr(b.paddingRight,m.bounds.width),Ts=zr(b.paddingBottom,m.bounds.width),wr=zr(b.paddingLeft,m.bounds.width);this.topLeftBorderDoubleOuterBox=N>0||K>0?jr(_.left+In/3,_.top+$t/3,N-In/3,K-$t/3,Cr.TOP_LEFT):new kt(_.left+In/3,_.top+$t/3),this.topRightBorderDoubleOuterBox=N>0||K>0?jr(_.left+Jt,_.top+$t/3,le-fr/3,we-$t/3,Cr.TOP_RIGHT):new kt(_.left+_.width-fr/3,_.top+$t/3),this.bottomRightBorderDoubleOuterBox=Ue>0||Je>0?jr(_.left+qn,_.top+yr,Ue-fr/3,Je-dr/3,Cr.BOTTOM_RIGHT):new kt(_.left+_.width-fr/3,_.top+_.height-dr/3),this.bottomLeftBorderDoubleOuterBox=Et>0||Lt>0?jr(_.left+In/3,_.top+wn,Et-In/3,Lt-dr/3,Cr.BOTTOM_LEFT):new kt(_.left+In/3,_.top+_.height-dr/3),this.topLeftBorderDoubleInnerBox=N>0||K>0?jr(_.left+2*In/3,_.top+2*$t/3,N-2*In/3,K-2*$t/3,Cr.TOP_LEFT):new kt(_.left+2*In/3,_.top+2*$t/3),this.topRightBorderDoubleInnerBox=N>0||K>0?jr(_.left+Jt,_.top+2*$t/3,le-2*fr/3,we-2*$t/3,Cr.TOP_RIGHT):new kt(_.left+_.width-2*fr/3,_.top+2*$t/3),this.bottomRightBorderDoubleInnerBox=Ue>0||Je>0?jr(_.left+qn,_.top+yr,Ue-2*fr/3,Je-2*dr/3,Cr.BOTTOM_RIGHT):new kt(_.left+_.width-2*fr/3,_.top+_.height-2*dr/3),this.bottomLeftBorderDoubleInnerBox=Et>0||Lt>0?jr(_.left+2*In/3,_.top+wn,Et-2*In/3,Lt-2*dr/3,Cr.BOTTOM_LEFT):new kt(_.left+2*In/3,_.top+_.height-2*dr/3),this.topLeftBorderStroke=N>0||K>0?jr(_.left+In/2,_.top+$t/2,N-In/2,K-$t/2,Cr.TOP_LEFT):new kt(_.left+In/2,_.top+$t/2),this.topRightBorderStroke=N>0||K>0?jr(_.left+Jt,_.top+$t/2,le-fr/2,we-$t/2,Cr.TOP_RIGHT):new kt(_.left+_.width-fr/2,_.top+$t/2),this.bottomRightBorderStroke=Ue>0||Je>0?jr(_.left+qn,_.top+yr,Ue-fr/2,Je-dr/2,Cr.BOTTOM_RIGHT):new kt(_.left+_.width-fr/2,_.top+_.height-dr/2),this.bottomLeftBorderStroke=Et>0||Lt>0?jr(_.left+In/2,_.top+wn,Et-In/2,Lt-dr/2,Cr.BOTTOM_LEFT):new kt(_.left+In/2,_.top+_.height-dr/2),this.topLeftBorderBox=N>0||K>0?jr(_.left,_.top,N,K,Cr.TOP_LEFT):new kt(_.left,_.top),this.topRightBorderBox=le>0||we>0?jr(_.left+Jt,_.top,le,we,Cr.TOP_RIGHT):new kt(_.left+_.width,_.top),this.bottomRightBorderBox=Ue>0||Je>0?jr(_.left+qn,_.top+yr,Ue,Je,Cr.BOTTOM_RIGHT):new kt(_.left+_.width,_.top+_.height),this.bottomLeftBorderBox=Et>0||Lt>0?jr(_.left,_.top+wn,Et,Lt,Cr.BOTTOM_LEFT):new kt(_.left,_.top+_.height),this.topLeftPaddingBox=N>0||K>0?jr(_.left+In,_.top+$t,Math.max(0,N-In),Math.max(0,K-$t),Cr.TOP_LEFT):new kt(_.left+In,_.top+$t),this.topRightPaddingBox=le>0||we>0?jr(_.left+Math.min(Jt,_.width-fr),_.top+$t,Jt>_.width+fr?0:Math.max(0,le-fr),Math.max(0,we-$t),Cr.TOP_RIGHT):new kt(_.left+_.width-fr,_.top+$t),this.bottomRightPaddingBox=Ue>0||Je>0?jr(_.left+Math.min(qn,_.width-In),_.top+Math.min(yr,_.height-dr),Math.max(0,Ue-fr),Math.max(0,Je-dr),Cr.BOTTOM_RIGHT):new kt(_.left+_.width-fr,_.top+_.height-dr),this.bottomLeftPaddingBox=Et>0||Lt>0?jr(_.left+In,_.top+Math.min(wn,_.height-dr),Math.max(0,Et-In),Math.max(0,Lt-dr),Cr.BOTTOM_LEFT):new kt(_.left+In,_.top+_.height-dr),this.topLeftContentBox=N>0||K>0?jr(_.left+In+wr,_.top+$t+$i,Math.max(0,N-(In+wr)),Math.max(0,K-($t+$i)),Cr.TOP_LEFT):new kt(_.left+In+wr,_.top+$t+$i),this.topRightContentBox=le>0||we>0?jr(_.left+Math.min(Jt,_.width+In+wr),_.top+$t+$i,Jt>_.width+In+wr?0:le-In+wr,we-($t+$i),Cr.TOP_RIGHT):new kt(_.left+_.width-(fr+io),_.top+$t+$i),this.bottomRightContentBox=Ue>0||Je>0?jr(_.left+Math.min(qn,_.width-(In+wr)),_.top+Math.min(yr,_.height+$t+$i),Math.max(0,Ue-(fr+io)),Je-(dr+Ts),Cr.BOTTOM_RIGHT):new kt(_.left+_.width-(fr+io),_.top+_.height-(dr+Ts)),this.bottomLeftContentBox=Et>0||Lt>0?jr(_.left+In+wr,_.top+wn,Math.max(0,Et-(In+wr)),Lt-(dr+Ts),Cr.BOTTOM_LEFT):new kt(_.left+In+wr,_.top+_.height-(dr+Ts))},Cr=function(y){return y[y.TOP_LEFT=0]="TOP_LEFT",y[y.TOP_RIGHT=1]="TOP_RIGHT",y[y.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",y[y.BOTTOM_LEFT=3]="BOTTOM_LEFT",y}(Cr||{}),jr=function(y,m,b,_,T){var N=(Math.sqrt(2)-1)/3*4,K=b*N,ce=_*N,le=y+b,we=m+_;switch(T){case Cr.TOP_LEFT:return new zl(new kt(y,we),new kt(y,we-ce),new kt(le-K,m),new kt(le,m));case Cr.TOP_RIGHT:return new zl(new kt(y,m),new kt(y+K,m),new kt(le,we-ce),new kt(le,we));case Cr.BOTTOM_RIGHT:return new zl(new kt(le,m),new kt(le,m+ce),new kt(y+K,we),new kt(y,we));default:return new zl(new kt(le,we),new kt(le-K,we),new kt(y,m+ce),new kt(y,m))}},jl=function(y){return[y.topLeftBorderBox,y.topRightBorderBox,y.bottomRightBorderBox,y.bottomLeftBorderBox]},zp=function(y){return[y.topLeftPaddingBox,y.topRightPaddingBox,y.bottomRightPaddingBox,y.bottomLeftPaddingBox]},RU=function y(m,b,_){this.offsetX=m,this.offsetY=b,this.matrix=_,this.type=0,this.target=6},Pv=function y(m,b){this.path=m,this.target=b,this.type=1},LU=function y(m){this.opacity=m,this.type=2,this.target=6},LB=function(y){return 1===y.type},Uu=function(y,m){return y.length===m.length&&y.some(function(b,_){return b===m[_]})},nb=function y(m){this.element=m,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Ri=function(){function y(m,b){if(this.container=m,this.parent=b,this.effects=[],this.curves=new JA(this.container),this.container.styles.opacity<1&&this.effects.push(new LU(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new RU(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var K=jl(this.curves),ce=zp(this.curves);Uu(K,ce)?this.effects.push(new Pv(K,6)):(this.effects.push(new Pv(K,2)),this.effects.push(new Pv(ce,4)))}}return y.prototype.getEffects=function(m){for(var b=-1===[2,3].indexOf(this.container.styles.position),_=this.parent,T=this.effects.slice(0);_;){var N=_.effects.filter(function(le){return!LB(le)});if(b||0!==_.container.styles.position||!_.parent){if(T.unshift.apply(T,N),b=-1===[2,3].indexOf(_.container.styles.position),0!==_.container.styles.overflowX){var K=jl(_.curves),ce=zp(_.curves);Uu(K,ce)||T.unshift(new Pv(ce,6))}}else T.unshift.apply(T,N);_=_.parent}return T.filter(function(le){return sr(le.target,m)})},y}(),Nv=function(y,m,b,_){y.container.elements.forEach(function(T){var N=sr(T.flags,4),K=sr(T.flags,2),ce=new Ri(T,y);sr(T.styles.display,2048)&&_.push(ce);var le=sr(T.flags,8)?[]:_;if(N||K){var we=N||T.styles.isPositioned()?b:m,Me=new nb(ce);if(T.styles.isPositioned()||T.styles.opacity<1||T.styles.isTransformed()){var Ue=T.styles.zIndex.order;if(Ue<0){var Je=0;we.negativeZIndex.some(function(Et,Lt){return Ue>Et.element.container.styles.zIndex.order?(Je=Lt,!1):Je>0}),we.negativeZIndex.splice(Je,0,Me)}else if(Ue>0){var Kt=0;we.positiveZIndex.some(function(Et,Lt){return Ue>=Et.element.container.styles.zIndex.order?(Kt=Lt+1,!1):Kt>0}),we.positiveZIndex.splice(Kt,0,Me)}else we.zeroOrAutoZIndexOrTransformedOrOpacity.push(Me)}else T.styles.isFloating()?we.nonPositionedFloats.push(Me):we.nonPositionedInlineLevel.push(Me);Nv(ce,Me,N?Me:b,le)}else T.styles.isInlineLevel()?m.inlineLevel.push(ce):m.nonInlineLevel.push(ce),Nv(ce,m,b,le);sr(T.flags,8)&&eh(T,le)})},eh=function(y,m){for(var b=y instanceof ms?y.start:1,_=y instanceof ms&&y.reversed,T=0;T<m.length;T++){var N=m[T];N.container instanceof Cv&&"number"==typeof N.container.value&&0!==N.container.value&&(b=N.container.value),N.listValue=Uc(b,N.container.styles.listStyleType,!0),b+=_?-1:1}},Ro=function(y,m){switch(m){case 0:return ea(y.topLeftBorderBox,y.topLeftPaddingBox,y.topRightBorderBox,y.topRightPaddingBox);case 1:return ea(y.topRightBorderBox,y.topRightPaddingBox,y.bottomRightBorderBox,y.bottomRightPaddingBox);case 2:return ea(y.bottomRightBorderBox,y.bottomRightPaddingBox,y.bottomLeftBorderBox,y.bottomLeftPaddingBox);default:return ea(y.bottomLeftBorderBox,y.bottomLeftPaddingBox,y.topLeftBorderBox,y.topLeftPaddingBox)}},Pc=function(y,m){var b=[];return ys(y)?b.push(y.subdivide(.5,!1)):b.push(y),ys(m)?b.push(m.subdivide(.5,!0)):b.push(m),b},ea=function(y,m,b,_){var T=[];return ys(y)?T.push(y.subdivide(.5,!1)):T.push(y),ys(b)?T.push(b.subdivide(.5,!0)):T.push(b),ys(_)?T.push(_.subdivide(.5,!0).reverse()):T.push(_),ys(m)?T.push(m.subdivide(.5,!1).reverse()):T.push(m),T},NB=function(y){var b=y.styles;return y.bounds.add(b.borderLeftWidth,b.borderTopWidth,-(b.borderRightWidth+b.borderLeftWidth),-(b.borderTopWidth+b.borderBottomWidth))},Wp=function(y){var m=y.styles,b=y.bounds,_=zr(m.paddingLeft,b.width),T=zr(m.paddingRight,b.width),N=zr(m.paddingTop,b.width),K=zr(m.paddingBottom,b.width);return b.add(_+m.borderLeftWidth,N+m.borderTopWidth,-(m.borderRightWidth+m.borderLeftWidth+_+T),-(m.borderTopWidth+m.borderBottomWidth+N+K))},Vf=function(y,m,b){var _=function(y,m){return 0===y?m.bounds:2===y?Wp(m):NB(m)}(nh(y.styles.backgroundOrigin,m),y),T=function(y,m){return 0===y?m.bounds:2===y?Wp(m):NB(m)}(nh(y.styles.backgroundClip,m),y),N=ib(nh(y.styles.backgroundSize,m),b,_),K=N[0],ce=N[1],le=Pl(nh(y.styles.backgroundPosition,m),_.width-K,_.height-ce);return[OB(nh(y.styles.backgroundRepeat,m),le,N,_,T),Math.round(_.left+le[0]),Math.round(_.top+le[1]),K,ce]},Fa=function(y){return Fr(y)&&y.value===HA.AUTO},Ov=function(y){return"number"==typeof y},ib=function(y,m,b){var _=m[0],T=m[1],N=m[2],K=y[0],ce=y[1];if(!K)return[0,0];if(Tt(K)&&ce&&Tt(ce))return[zr(K,b.width),zr(ce,b.height)];var le=Ov(N);if(Fr(K)&&(K.value===HA.CONTAIN||K.value===HA.COVER))return Ov(N)?b.width/b.height<N!=(K.value===HA.COVER)?[b.width,b.width/N]:[b.height*N,b.height]:[b.width,b.height];var Me=Ov(_),Ue=Ov(T),Je=Me||Ue;if(Fa(K)&&(!ce||Fa(ce)))return Me&&Ue?[_,T]:le||Je?Je&&le?[Me?_:T*N,Ue?T:_/N]:[Me?_:b.width,Ue?T:b.height]:[b.width,b.height];if(le){var on=0,Jt=0;return Tt(K)?on=zr(K,b.width):Tt(ce)&&(Jt=zr(ce,b.height)),Fa(K)?on=Jt*N:(!ce||Fa(ce))&&(Jt=on/N),[on,Jt]}var yr=null,qn=null;if(Tt(K)?yr=zr(K,b.width):ce&&Tt(ce)&&(qn=zr(ce,b.height)),null!==yr&&(!ce||Fa(ce))&&(qn=Me&&Ue?yr/_*T:b.height),null!==qn&&Fa(K)&&(yr=Me&&Ue?qn/T*_:b.width),null!==yr&&null!==qn)return[yr,qn];throw new Error("Unable to calculate background-size for element")},nh=function(y,m){var b=y[m];return typeof b>"u"?y[0]:b},OB=function(y,m,b,_,T){var N=m[0],K=m[1],ce=b[0],le=b[1];switch(y){case 2:return[new kt(Math.round(_.left),Math.round(_.top+K)),new kt(Math.round(_.left+_.width),Math.round(_.top+K)),new kt(Math.round(_.left+_.width),Math.round(le+_.top+K)),new kt(Math.round(_.left),Math.round(le+_.top+K))];case 3:return[new kt(Math.round(_.left+N),Math.round(_.top)),new kt(Math.round(_.left+N+ce),Math.round(_.top)),new kt(Math.round(_.left+N+ce),Math.round(_.height+_.top)),new kt(Math.round(_.left+N),Math.round(_.height+_.top))];case 1:return[new kt(Math.round(_.left+N),Math.round(_.top+K)),new kt(Math.round(_.left+N+ce),Math.round(_.top+K)),new kt(Math.round(_.left+N+ce),Math.round(_.top+K+le)),new kt(Math.round(_.left+N),Math.round(_.top+K+le))];default:return[new kt(Math.round(T.left),Math.round(T.top)),new kt(Math.round(T.left+T.width),Math.round(T.top)),new kt(Math.round(T.left+T.width),Math.round(T.height+T.top)),new kt(Math.round(T.left),Math.round(T.height+T.top))]}},sb="Hidden Text",HB=function(){function y(m){this._data={},this._document=m}return y.prototype.parseMetrics=function(m,b){var _=this._document.createElement("div"),T=this._document.createElement("img"),N=this._document.createElement("span"),K=this._document.body;_.style.visibility="hidden",_.style.fontFamily=m,_.style.fontSize=b,_.style.margin="0",_.style.padding="0",_.style.whiteSpace="nowrap",K.appendChild(_),T.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",T.width=1,T.height=1,T.style.margin="0",T.style.padding="0",T.style.verticalAlign="baseline",N.style.fontFamily=m,N.style.fontSize=b,N.style.margin="0",N.style.padding="0",N.appendChild(this._document.createTextNode(sb)),_.appendChild(N),_.appendChild(T);var ce=T.offsetTop-N.offsetTop+2;_.removeChild(N),_.appendChild(this._document.createTextNode(sb)),_.style.lineHeight="normal",T.style.verticalAlign="super";var le=T.offsetTop-_.offsetTop+2;return K.removeChild(_),{baseline:ce,middle:le}},y.prototype.getMetrics=function(m,b){var _=m+" "+b;return typeof this._data[_]>"u"&&(this._data[_]=this.parseMetrics(m,b)),this._data[_]},y}(),ob=function y(m,b){this.context=m,this.options=b},$p=function(y){function m(b,_){var T=y.call(this,b,_)||this;return T._activeEffects=[],T.canvas=_.canvas?_.canvas:document.createElement("canvas"),T.ctx=T.canvas.getContext("2d"),_.canvas||(T.canvas.width=Math.floor(_.width*_.scale),T.canvas.height=Math.floor(_.height*_.scale),T.canvas.style.width=_.width+"px",T.canvas.style.height=_.height+"px"),T.fontMetrics=new HB(document),T.ctx.scale(T.options.scale,T.options.scale),T.ctx.translate(-_.x,-_.y),T.ctx.textBaseline="bottom",T._activeEffects=[],T.context.logger.debug("Canvas renderer initialized ("+_.width+"x"+_.height+") with scale "+_.scale),T}return jt(m,y),m.prototype.applyEffects=function(b){for(var _=this;this._activeEffects.length;)this.popEffect();b.forEach(function(T){return _.applyEffect(T)})},m.prototype.applyEffect=function(b){this.ctx.save(),function(y){return 2===y.type}(b)&&(this.ctx.globalAlpha=b.opacity),function(y){return 0===y.type}(b)&&(this.ctx.translate(b.offsetX,b.offsetY),this.ctx.transform(b.matrix[0],b.matrix[1],b.matrix[2],b.matrix[3],b.matrix[4],b.matrix[5]),this.ctx.translate(-b.offsetX,-b.offsetY)),LB(b)&&(this.path(b.path),this.ctx.clip()),this._activeEffects.push(b)},m.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},m.prototype.renderStack=function(b){return fn(this,void 0,void 0,function(){return On(this,function(T){switch(T.label){case 0:return b.element.container.styles.isVisible()?[4,this.renderStackContent(b)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})})},m.prototype.renderNode=function(b){return fn(this,void 0,void 0,function(){return On(this,function(_){switch(_.label){case 0:return sr(b.container.flags,16),b.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(b)]:[3,3];case 1:return _.sent(),[4,this.renderNodeContent(b)];case 2:_.sent(),_.label=3;case 3:return[2]}})})},m.prototype.renderTextWithLetterSpacing=function(b,_,T){var N=this;0===_?this.ctx.fillText(b.text,b.bounds.left,b.bounds.top+T):At(b.text).reduce(function(ce,le){return N.ctx.fillText(le,ce,b.bounds.top+T),ce+N.ctx.measureText(le).width},b.bounds.left)},m.prototype.createFontStyle=function(b){var _=b.fontVariant.filter(function(K){return"normal"===K||"small-caps"===K}).join(""),T=GB(b.fontFamily).join(", "),N=xu(b.fontSize)?""+b.fontSize.number+b.fontSize.unit:b.fontSize.number+"px";return[[b.fontStyle,_,b.fontWeight,N,T].join(" "),T,N]},m.prototype.renderTextNode=function(b,_){return fn(this,void 0,void 0,function(){var T,K,ce,le,we,Me,Ue,Je=this;return On(this,function(Kt){return T=this.createFontStyle(_),K=T[1],ce=T[2],this.ctx.font=T[0],this.ctx.direction=1===_.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",le=this.fontMetrics.getMetrics(K,ce),we=le.baseline,Me=le.middle,Ue=_.paintOrder,b.textBounds.forEach(function(Et){Ue.forEach(function(Lt){switch(Lt){case 0:Je.ctx.fillStyle=ji(_.color),Je.renderTextWithLetterSpacing(Et,_.letterSpacing,we);var kn=_.textShadow;kn.length&&Et.text.trim().length&&(kn.slice(0).reverse().forEach(function(on){Je.ctx.shadowColor=ji(on.color),Je.ctx.shadowOffsetX=on.offsetX.number*Je.options.scale,Je.ctx.shadowOffsetY=on.offsetY.number*Je.options.scale,Je.ctx.shadowBlur=on.blur.number,Je.renderTextWithLetterSpacing(Et,_.letterSpacing,we)}),Je.ctx.shadowColor="",Je.ctx.shadowOffsetX=0,Je.ctx.shadowOffsetY=0,Je.ctx.shadowBlur=0),_.textDecorationLine.length&&(Je.ctx.fillStyle=ji(_.textDecorationColor||_.color),_.textDecorationLine.forEach(function(on){switch(on){case 1:Je.ctx.fillRect(Et.bounds.left,Math.round(Et.bounds.top+we),Et.bounds.width,1);break;case 2:Je.ctx.fillRect(Et.bounds.left,Math.round(Et.bounds.top),Et.bounds.width,1);break;case 3:Je.ctx.fillRect(Et.bounds.left,Math.ceil(Et.bounds.top+Me),Et.bounds.width,1)}}));break;case 1:_.webkitTextStrokeWidth&&Et.text.trim().length&&(Je.ctx.strokeStyle=ji(_.webkitTextStrokeColor),Je.ctx.lineWidth=_.webkitTextStrokeWidth,Je.ctx.lineJoin=window.chrome?"miter":"round",Je.ctx.strokeText(Et.text,Et.bounds.left,Et.bounds.top+we)),Je.ctx.strokeStyle="",Je.ctx.lineWidth=0,Je.ctx.lineJoin="miter"}})}),[2]})})},m.prototype.renderReplacedElement=function(b,_,T){if(T&&b.intrinsicWidth>0&&b.intrinsicHeight>0){var N=Wp(b),K=zp(_);this.path(K),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(T,0,0,b.intrinsicWidth,b.intrinsicHeight,N.left,N.top,N.width,N.height),this.ctx.restore()}},m.prototype.renderNodeContent=function(b){return fn(this,void 0,void 0,function(){var _,T,N,K,ce,Me,Ue,Je,Et,Lt,kn,on,Jt,yr,qn,wn;return On(this,function($t){switch($t.label){case 0:this.applyEffects(b.getEffects(4)),T=b.curves,N=(_=b.container).styles,K=0,ce=_.textNodes,$t.label=1;case 1:return K<ce.length?[4,this.renderTextNode(ce[K],N)]:[3,4];case 2:$t.sent(),$t.label=3;case 3:return K++,[3,1];case 4:if(!(_ instanceof Tp))return[3,8];$t.label=5;case 5:return $t.trys.push([5,7,,8]),[4,this.context.cache.match(_.src)];case 6:return Jt=$t.sent(),this.renderReplacedElement(_,T,Jt),[3,8];case 7:return $t.sent(),this.context.logger.error("Error loading image "+_.src),[3,8];case 8:if(_ instanceof k_&&this.renderReplacedElement(_,T,_.canvas),!(_ instanceof xB))return[3,12];$t.label=9;case 9:return $t.trys.push([9,11,,12]),[4,this.context.cache.match(_.svg)];case 10:return Jt=$t.sent(),this.renderReplacedElement(_,T,Jt),[3,12];case 11:return $t.sent(),this.context.logger.error("Error loading svg "+_.svg.substring(0,255)),[3,12];case 12:return _ instanceof Fp&&_.tree?[4,new m(this.context,{scale:this.options.scale,backgroundColor:_.backgroundColor,x:0,y:0,width:_.width,height:_.height}).render(_.tree)]:[3,14];case 13:Me=$t.sent(),_.width&&_.height&&this.ctx.drawImage(Me,0,0,_.width,_.height,_.bounds.left,_.bounds.top,_.bounds.width,_.bounds.height),$t.label=14;case 14:if(_ instanceof Rf&&(Ue=Math.min(_.bounds.width,_.bounds.height),_.type===Ip?_.checked&&(this.ctx.save(),this.path([new kt(_.bounds.left+.39363*Ue,_.bounds.top+.79*Ue),new kt(_.bounds.left+.16*Ue,_.bounds.top+.5549*Ue),new kt(_.bounds.left+.27347*Ue,_.bounds.top+.44071*Ue),new kt(_.bounds.left+.39694*Ue,_.bounds.top+.5649*Ue),new kt(_.bounds.left+.72983*Ue,_.bounds.top+.23*Ue),new kt(_.bounds.left+.84*Ue,_.bounds.top+.34085*Ue),new kt(_.bounds.left+.39363*Ue,_.bounds.top+.79*Ue)]),this.ctx.fillStyle=ji(Q_),this.ctx.fill(),this.ctx.restore()):_.type===Ff&&_.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(_.bounds.left+Ue/2,_.bounds.top+Ue/2,Ue/4,0,2*Math.PI,!0),this.ctx.fillStyle=ji(Q_),this.ctx.fill(),this.ctx.restore())),QB(_)&&_.value.length){switch(Je=this.createFontStyle(N),Et=this.fontMetrics.getMetrics(qn=Je[0],Je[1]).baseline,this.ctx.font=qn,this.ctx.fillStyle=ji(N.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=VB(_.styles.textAlign),wn=Wp(_),Lt=0,_.styles.textAlign){case 1:Lt+=wn.width/2;break;case 2:Lt+=wn.width}kn=wn.add(Lt,0,0,-wn.height/2+1),this.ctx.save(),this.path([new kt(wn.left,wn.top),new kt(wn.left+wn.width,wn.top),new kt(wn.left+wn.width,wn.top+wn.height),new kt(wn.left,wn.top+wn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new If(_.value,kn),N.letterSpacing,Et),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!sr(_.styles.display,2048))return[3,20];if(null===_.styles.listStyleImage)return[3,19];if(0!==(on=_.styles.listStyleImage).type)return[3,18];Jt=void 0,yr=on.url,$t.label=15;case 15:return $t.trys.push([15,17,,18]),[4,this.context.cache.match(yr)];case 16:return Jt=$t.sent(),this.ctx.drawImage(Jt,_.bounds.left-(Jt.width+10),_.bounds.top),[3,18];case 17:return $t.sent(),this.context.logger.error("Error loading list-style-image "+yr),[3,18];case 18:return[3,20];case 19:b.listValue&&-1!==_.styles.listStyleType&&(qn=this.createFontStyle(N)[0],this.ctx.font=qn,this.ctx.fillStyle=ji(N.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",wn=new $e(_.bounds.left,_.bounds.top+zr(_.styles.paddingTop,_.bounds.width),_.bounds.width,cv(N.lineHeight,N.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new If(b.listValue,wn),N.letterSpacing,cv(N.lineHeight,N.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),$t.label=20;case 20:return[2]}})})},m.prototype.renderStackContent=function(b){return fn(this,void 0,void 0,function(){var _,T,N,K,ce,le,we,Me,Ue,Je,Kt,Et,Lt,kn;return On(this,function(Jt){switch(Jt.label){case 0:return sr(b.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(b.element)];case 1:Jt.sent(),_=0,T=b.negativeZIndex,Jt.label=2;case 2:return _<T.length?[4,this.renderStack(T[_])]:[3,5];case 3:Jt.sent(),Jt.label=4;case 4:return _++,[3,2];case 5:return[4,this.renderNodeContent(b.element)];case 6:Jt.sent(),N=0,K=b.nonInlineLevel,Jt.label=7;case 7:return N<K.length?[4,this.renderNode(K[N])]:[3,10];case 8:Jt.sent(),Jt.label=9;case 9:return N++,[3,7];case 10:ce=0,le=b.nonPositionedFloats,Jt.label=11;case 11:return ce<le.length?[4,this.renderStack(le[ce])]:[3,14];case 12:Jt.sent(),Jt.label=13;case 13:return ce++,[3,11];case 14:we=0,Me=b.nonPositionedInlineLevel,Jt.label=15;case 15:return we<Me.length?[4,this.renderStack(Me[we])]:[3,18];case 16:Jt.sent(),Jt.label=17;case 17:return we++,[3,15];case 18:Ue=0,Je=b.inlineLevel,Jt.label=19;case 19:return Ue<Je.length?[4,this.renderNode(Je[Ue])]:[3,22];case 20:Jt.sent(),Jt.label=21;case 21:return Ue++,[3,19];case 22:Kt=0,Et=b.zeroOrAutoZIndexOrTransformedOrOpacity,Jt.label=23;case 23:return Kt<Et.length?[4,this.renderStack(Et[Kt])]:[3,26];case 24:Jt.sent(),Jt.label=25;case 25:return Kt++,[3,23];case 26:Lt=0,kn=b.positiveZIndex,Jt.label=27;case 27:return Lt<kn.length?[4,this.renderStack(kn[Lt])]:[3,30];case 28:Jt.sent(),Jt.label=29;case 29:return Lt++,[3,27];case 30:return[2]}})})},m.prototype.mask=function(b){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(b.slice(0).reverse()),this.ctx.closePath()},m.prototype.path=function(b){this.ctx.beginPath(),this.formatPath(b),this.ctx.closePath()},m.prototype.formatPath=function(b){var _=this;b.forEach(function(T,N){var K=ys(T)?T.start:T;0===N?_.ctx.moveTo(K.x,K.y):_.ctx.lineTo(K.x,K.y),ys(T)&&_.ctx.bezierCurveTo(T.startControl.x,T.startControl.y,T.endControl.x,T.endControl.y,T.end.x,T.end.y)})},m.prototype.renderRepeat=function(b,_,T,N){this.path(b),this.ctx.fillStyle=_,this.ctx.translate(T,N),this.ctx.fill(),this.ctx.translate(-T,-N)},m.prototype.resizeImage=function(b,_,T){var N;if(b.width===_&&b.height===T)return b;var ce=(null!==(N=this.canvas.ownerDocument)&&void 0!==N?N:document).createElement("canvas");return ce.width=Math.max(1,_),ce.height=Math.max(1,T),ce.getContext("2d").drawImage(b,0,0,b.width,b.height,0,0,_,T),ce},m.prototype.renderBackgroundImage=function(b){return fn(this,void 0,void 0,function(){var _,T,N,K,ce;return On(this,function(we){switch(we.label){case 0:_=b.styles.backgroundImage.length-1,T=function(Me){var Ue,Je,Kt,Et,Lt,kn,on,Jt,yr,qn,wn,$t,fr,dr,In,$i,io,Ts,wr,is,Wl,zs,Ki,Nc,Ra,La,fl,so,$l,Pu,Kl;return On(this,function(Nu){switch(Nu.label){case 0:if(0!==Me.type)return[3,5];Ue=void 0,Je=Me.url,Nu.label=1;case 1:return Nu.trys.push([1,3,,4]),[4,N.context.cache.match(Je)];case 2:return Ue=Nu.sent(),[3,4];case 3:return Nu.sent(),N.context.logger.error("Error loading background-image "+Je),[3,4];case 4:return Ue&&(Kt=Vf(b,_,[Ue.width,Ue.height,Ue.width/Ue.height]),$i=Kt[0],zs=Kt[1],Ki=Kt[2],dr=N.ctx.createPattern(N.resizeImage(Ue,wr=Kt[3],is=Kt[4]),"repeat"),N.renderRepeat($i,dr,zs,Ki)),[3,6];case 5:!function(y){return 1===y.type}(Me)?function(y){return 2===y.type}(Me)&&(In=Vf(b,_,[null,null,null]),$i=In[0],io=In[1],Ts=In[2],is=In[4],zs=zr((Wl=0===Me.position.length?[PA]:Me.position)[0],wr=In[3]),Ki=zr(Wl[Wl.length-1],is),Nc=function(y,m,b,_,T){var N=0,K=0;switch(y.size){case 0:0===y.shape?N=K=Math.min(Math.abs(m),Math.abs(m-_),Math.abs(b),Math.abs(b-T)):1===y.shape&&(N=Math.min(Math.abs(m),Math.abs(m-_)),K=Math.min(Math.abs(b),Math.abs(b-T)));break;case 2:if(0===y.shape)N=K=Math.min(bi(m,b),bi(m,b-T),bi(m-_,b),bi(m-_,b-T));else if(1===y.shape){var ce=Math.min(Math.abs(b),Math.abs(b-T))/Math.min(Math.abs(m),Math.abs(m-_)),le=t_(_,T,m,b,!0);K=ce*(N=bi(le[0]-m,(le[1]-b)/ce))}break;case 1:0===y.shape?N=K=Math.max(Math.abs(m),Math.abs(m-_),Math.abs(b),Math.abs(b-T)):1===y.shape&&(N=Math.max(Math.abs(m),Math.abs(m-_)),K=Math.max(Math.abs(b),Math.abs(b-T)));break;case 3:if(0===y.shape)N=K=Math.max(bi(m,b),bi(m,b-T),bi(m-_,b),bi(m-_,b-T));else if(1===y.shape){ce=Math.max(Math.abs(b),Math.abs(b-T))/Math.max(Math.abs(m),Math.abs(m-_));var Ue=t_(_,T,m,b,!1);K=ce*(N=bi(Ue[0]-m,(Ue[1]-b)/ce))}}return Array.isArray(y.size)&&(N=zr(y.size[0],_),K=2===y.size.length?zr(y.size[1],T):N),[N,K]}(Me,zs,Ki,wr,is),La=Nc[1],(Ra=Nc[0])>0&&La>0&&(fl=N.ctx.createRadialGradient(io+zs,Ts+Ki,0,io+zs,Ts+Ki,Ra),ov(Me.stops,2*Ra).forEach(function(Ou){return fl.addColorStop(Ou.stop,ji(Ou.color))}),N.path($i),N.ctx.fillStyle=fl,Ra!==La?(so=b.bounds.left+.5*b.bounds.width,$l=b.bounds.top+.5*b.bounds.height,Kl=1/(Pu=La/Ra),N.ctx.save(),N.ctx.translate(so,$l),N.ctx.transform(1,0,0,Pu,0,0),N.ctx.translate(-so,-$l),N.ctx.fillRect(io,Kl*(Ts-$l)+$l,wr,is*Kl),N.ctx.restore()):N.ctx.fill())):(Et=Vf(b,_,[null,null,null]),$i=Et[0],zs=Et[1],Ki=Et[2],Lt=$S(Me.angle,wr=Et[3],is=Et[4]),kn=Lt[0],on=Lt[1],Jt=Lt[2],yr=Lt[3],qn=Lt[4],(wn=document.createElement("canvas")).width=wr,wn.height=is,$t=wn.getContext("2d"),fr=$t.createLinearGradient(on,yr,Jt,qn),ov(Me.stops,kn).forEach(function(Ou){return fr.addColorStop(Ou.stop,ji(Ou.color))}),$t.fillStyle=fr,$t.fillRect(0,0,wr,is),wr>0&&is>0&&(dr=N.ctx.createPattern(wn,"repeat"),N.renderRepeat($i,dr,zs,Ki))),Nu.label=6;case 6:return _--,[2]}})},N=this,K=0,ce=b.styles.backgroundImage.slice(0).reverse(),we.label=1;case 1:return K<ce.length?[5,T(ce[K])]:[3,4];case 2:we.sent(),we.label=3;case 3:return K++,[3,1];case 4:return[2]}})})},m.prototype.renderSolidBorder=function(b,_,T){return fn(this,void 0,void 0,function(){return On(this,function(N){return this.path(Ro(T,_)),this.ctx.fillStyle=ji(b),this.ctx.fill(),[2]})})},m.prototype.renderDoubleBorder=function(b,_,T,N){return fn(this,void 0,void 0,function(){var K,ce;return On(this,function(le){switch(le.label){case 0:return _<3?[4,this.renderSolidBorder(b,T,N)]:[3,2];case 1:return le.sent(),[2];case 2:return K=function(y,m){switch(m){case 0:return ea(y.topLeftBorderBox,y.topLeftBorderDoubleOuterBox,y.topRightBorderBox,y.topRightBorderDoubleOuterBox);case 1:return ea(y.topRightBorderBox,y.topRightBorderDoubleOuterBox,y.bottomRightBorderBox,y.bottomRightBorderDoubleOuterBox);case 2:return ea(y.bottomRightBorderBox,y.bottomRightBorderDoubleOuterBox,y.bottomLeftBorderBox,y.bottomLeftBorderDoubleOuterBox);default:return ea(y.bottomLeftBorderBox,y.bottomLeftBorderDoubleOuterBox,y.topLeftBorderBox,y.topLeftBorderDoubleOuterBox)}}(N,T),this.path(K),this.ctx.fillStyle=ji(b),this.ctx.fill(),ce=function(y,m){switch(m){case 0:return ea(y.topLeftBorderDoubleInnerBox,y.topLeftPaddingBox,y.topRightBorderDoubleInnerBox,y.topRightPaddingBox);case 1:return ea(y.topRightBorderDoubleInnerBox,y.topRightPaddingBox,y.bottomRightBorderDoubleInnerBox,y.bottomRightPaddingBox);case 2:return ea(y.bottomRightBorderDoubleInnerBox,y.bottomRightPaddingBox,y.bottomLeftBorderDoubleInnerBox,y.bottomLeftPaddingBox);default:return ea(y.bottomLeftBorderDoubleInnerBox,y.bottomLeftPaddingBox,y.topLeftBorderDoubleInnerBox,y.topLeftPaddingBox)}}(N,T),this.path(ce),this.ctx.fill(),[2]}})})},m.prototype.renderNodeBackgroundAndBorders=function(b){return fn(this,void 0,void 0,function(){var _,T,N,K,ce,le,we,Me,Ue=this;return On(this,function(Je){switch(Je.label){case 0:return this.applyEffects(b.getEffects(2)),T=!ll((_=b.container.styles).backgroundColor)||_.backgroundImage.length,N=[{style:_.borderTopStyle,color:_.borderTopColor,width:_.borderTopWidth},{style:_.borderRightStyle,color:_.borderRightColor,width:_.borderRightWidth},{style:_.borderBottomStyle,color:_.borderBottomColor,width:_.borderBottomWidth},{style:_.borderLeftStyle,color:_.borderLeftColor,width:_.borderLeftWidth}],K=Kp(nh(_.backgroundClip,0),b.curves),T||_.boxShadow.length?(this.ctx.save(),this.path(K),this.ctx.clip(),ll(_.backgroundColor)||(this.ctx.fillStyle=ji(_.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(b.container)]):[3,2];case 1:Je.sent(),this.ctx.restore(),_.boxShadow.slice(0).reverse().forEach(function(Kt){Ue.ctx.save();var Et=jl(b.curves),Lt=Kt.inset?0:1e4,kn=function(y,m,b,_,T){return y.map(function(N,K){switch(K){case 0:return N.add(m,b);case 1:return N.add(m+_,b);case 2:return N.add(m+_,b+T);case 3:return N.add(m,b+T)}return N})}(Et,(Kt.inset?1:-1)*Kt.spread.number-Lt,(Kt.inset?1:-1)*Kt.spread.number,Kt.spread.number*(Kt.inset?-2:2),Kt.spread.number*(Kt.inset?-2:2));Kt.inset?(Ue.path(Et),Ue.ctx.clip(),Ue.mask(kn)):(Ue.mask(Et),Ue.ctx.clip(),Ue.path(kn)),Ue.ctx.shadowOffsetX=Kt.offsetX.number+Lt,Ue.ctx.shadowOffsetY=Kt.offsetY.number,Ue.ctx.shadowColor=ji(Kt.color),Ue.ctx.shadowBlur=Kt.blur.number,Ue.ctx.fillStyle=Kt.inset?ji(Kt.color):"rgba(0,0,0,1)",Ue.ctx.fill(),Ue.ctx.restore()}),Je.label=2;case 2:ce=0,le=0,we=N,Je.label=3;case 3:return le<we.length?0!==(Me=we[le]).style&&!ll(Me.color)&&Me.width>0?2!==Me.style?[3,5]:[4,this.renderDashedDottedBorder(Me.color,Me.width,ce,b.curves,2)]:[3,11]:[3,13];case 4:return Je.sent(),[3,11];case 5:return 3!==Me.style?[3,7]:[4,this.renderDashedDottedBorder(Me.color,Me.width,ce,b.curves,3)];case 6:return Je.sent(),[3,11];case 7:return 4!==Me.style?[3,9]:[4,this.renderDoubleBorder(Me.color,Me.width,ce,b.curves)];case 8:return Je.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Me.color,ce,b.curves)];case 10:Je.sent(),Je.label=11;case 11:ce++,Je.label=12;case 12:return le++,[3,3];case 13:return[2]}})})},m.prototype.renderDashedDottedBorder=function(b,_,T,N,K){return fn(this,void 0,void 0,function(){var ce,le,we,Me,Ue,Je,Kt,Et,Lt,kn,on,Jt,yr,qn,wn,$t;return On(this,function(fr){return this.ctx.save(),ce=function(y,m){switch(m){case 0:return Pc(y.topLeftBorderStroke,y.topRightBorderStroke);case 1:return Pc(y.topRightBorderStroke,y.bottomRightBorderStroke);case 2:return Pc(y.bottomRightBorderStroke,y.bottomLeftBorderStroke);default:return Pc(y.bottomLeftBorderStroke,y.topLeftBorderStroke)}}(N,T),le=Ro(N,T),2===K&&(this.path(le),this.ctx.clip()),ys(le[0])?(we=le[0].start.x,Me=le[0].start.y):(we=le[0].x,Me=le[0].y),ys(le[1])?(Ue=le[1].end.x,Je=le[1].end.y):(Ue=le[1].x,Je=le[1].y),Kt=0===T||2===T?Math.abs(we-Ue):Math.abs(Me-Je),this.ctx.beginPath(),this.formatPath(3===K?ce:le.slice(0,2)),Et=_<3?3*_:2*_,Lt=_<3?2*_:_,3===K&&(Et=_,Lt=_),kn=!0,Kt<=2*Et?kn=!1:Kt<=2*Et+Lt?(Et*=on=Kt/(2*Et+Lt),Lt*=on):(Jt=Math.floor((Kt+Lt)/(Et+Lt)),yr=(Kt-Jt*Et)/(Jt-1),Lt=(qn=(Kt-(Jt+1)*Et)/Jt)<=0||Math.abs(Lt-yr)<Math.abs(Lt-qn)?yr:qn),kn&&this.ctx.setLineDash(3===K?[0,Et+Lt]:[Et,Lt]),3===K?(this.ctx.lineCap="round",this.ctx.lineWidth=_):this.ctx.lineWidth=2*_+1.1,this.ctx.strokeStyle=ji(b),this.ctx.stroke(),this.ctx.setLineDash([]),2===K&&(ys(le[0])&&(wn=le[3],$t=le[0],this.ctx.beginPath(),this.formatPath([new kt(wn.end.x,wn.end.y),new kt($t.start.x,$t.start.y)]),this.ctx.stroke()),ys(le[1])&&(wn=le[1],$t=le[2],this.ctx.beginPath(),this.formatPath([new kt(wn.end.x,wn.end.y),new kt($t.start.x,$t.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},m.prototype.render=function(b){return fn(this,void 0,void 0,function(){var _;return On(this,function(T){switch(T.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ji(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),_=function(y){var m=new Ri(y,null),b=new nb(m),_=[];return Nv(m,b,b,_),eh(m.container,_),b}(b),[4,this.renderStack(_)];case 1:return T.sent(),this.applyEffects([]),[2,this.canvas]}})})},m}(ob),QB=function(y){return y instanceof Ev||y instanceof Dp||y instanceof Rf&&y.type!==Ff&&y.type!==Ip},Kp=function(y,m){switch(y){case 0:return jl(m);case 2:return function(y){return[y.topLeftContentBox,y.topRightContentBox,y.bottomRightContentBox,y.bottomLeftContentBox]}(m);default:return zp(m)}},VB=function(y){switch(y){case 1:return"center";case 2:return"right";default:return"left"}},qp=["-apple-system","system-ui"],GB=function(y){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?y.filter(function(m){return-1===qp.indexOf(m)}):y},ab=function(y){function m(b,_){var T=y.call(this,b,_)||this;return T.canvas=_.canvas?_.canvas:document.createElement("canvas"),T.ctx=T.canvas.getContext("2d"),T.options=_,T.canvas.width=Math.floor(_.width*_.scale),T.canvas.height=Math.floor(_.height*_.scale),T.canvas.style.width=_.width+"px",T.canvas.style.height=_.height+"px",T.ctx.scale(T.options.scale,T.options.scale),T.ctx.translate(-_.x,-_.y),T.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+_.width+"x"+_.height+" at "+_.x+","+_.y+") with scale "+_.scale),T}return jt(m,y),m.prototype.render=function(b){return fn(this,void 0,void 0,function(){var _,T;return On(this,function(N){switch(N.label){case 0:return _=Mp(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,b),[4,Hv(_)];case 1:return T=N.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ji(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(T,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},m}(ob),Hv=function(y){return new Promise(function(m,b){var _=new Image;_.onload=function(){m(_)},_.onerror=b,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(y))})},Xp=function(){function y(m){var _=m.enabled;this.id=m.id,this.enabled=_,this.start=Date.now()}return y.prototype.debug=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,Rn([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},y.prototype.getTime=function(){return Date.now()-this.start},y.prototype.info=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,Rn([this.id,this.getTime()+"ms"],m))},y.prototype.warn=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,Rn([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},y.prototype.error=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,Rn([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},y.instances={},y}(),lb=function(){function y(m,b){var _;this.windowBounds=b,this.instanceName="#"+y.instanceCount++,this.logger=new Xp({id:this.instanceName,enabled:m.logging}),this.cache=null!==(_=m.cache)&&void 0!==_?_:new eb(this,m)}return y.instanceCount=1,y}();typeof window<"u"&&J_.setContext(window);var jB=function(y,m){return fn(void 0,void 0,void 0,function(){var b,_,T,N,K,ce,le,we,Me,Ue,Je,Kt,Et,Lt,kn,on,Jt,yr,qn,wn,$t,dr,In,$i,io,Ts,wr,is,Wl,zs,Ki,Nc,Ra,La,fl,so,$l,Pu;return On(this,function(Kl){switch(Kl.label){case 0:if(!y||"object"!=typeof y)return[2,Promise.reject("Invalid element provided as first argument")];if(!(b=y.ownerDocument))throw new Error("Element is not attached to a Document");if(!(_=b.defaultView))throw new Error("Document is not attached to a Window");return T={allowTaint:null!==(dr=m.allowTaint)&&void 0!==dr&&dr,imageTimeout:null!==(In=m.imageTimeout)&&void 0!==In?In:15e3,proxy:m.proxy,useCORS:null!==($i=m.useCORS)&&void 0!==$i&&$i},N=ln({logging:null===(io=m.logging)||void 0===io||io,cache:m.cache},T),K={windowWidth:null!==(Ts=m.windowWidth)&&void 0!==Ts?Ts:_.innerWidth,windowHeight:null!==(wr=m.windowHeight)&&void 0!==wr?wr:_.innerHeight,scrollX:null!==(is=m.scrollX)&&void 0!==is?is:_.pageXOffset,scrollY:null!==(Wl=m.scrollY)&&void 0!==Wl?Wl:_.pageYOffset},ce=new $e(K.scrollX,K.scrollY,K.windowWidth,K.windowHeight),le=new lb(N,ce),we=null!==(zs=m.foreignObjectRendering)&&void 0!==zs&&zs,Me={allowTaint:null!==(Ki=m.allowTaint)&&void 0!==Ki&&Ki,onclone:m.onclone,ignoreElements:m.ignoreElements,inlineImages:we,copyStyles:we},le.logger.debug("Starting document clone with size "+ce.width+"x"+ce.height+" scrolled to "+-ce.left+","+-ce.top),Ue=new Fv(le,y,Me),(Je=Ue.clonedReferenceElement)?[4,Ue.toIFrame(b,ce)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Kt=Kl.sent(),Et=Tv(Je)||function(y){return"HTML"===y.tagName}(Je)?function(y){var m=y.body,b=y.documentElement;if(!m||!b)throw new Error("Unable to get document size");var _=Math.max(Math.max(m.scrollWidth,b.scrollWidth),Math.max(m.offsetWidth,b.offsetWidth),Math.max(m.clientWidth,b.clientWidth)),T=Math.max(Math.max(m.scrollHeight,b.scrollHeight),Math.max(m.offsetHeight,b.offsetHeight),Math.max(m.clientHeight,b.clientHeight));return new $e(0,0,_,T)}(Je.ownerDocument):rt(le,Je),Lt=Et.width,kn=Et.height,on=Et.left,Jt=Et.top,yr=rh(le,Je,m.backgroundColor),qn={canvas:m.canvas,backgroundColor:yr,scale:null!==(Ra=null!==(Nc=m.scale)&&void 0!==Nc?Nc:_.devicePixelRatio)&&void 0!==Ra?Ra:1,x:(null!==(La=m.x)&&void 0!==La?La:0)+on,y:(null!==(fl=m.y)&&void 0!==fl?fl:0)+Jt,width:null!==(so=m.width)&&void 0!==so?so:Math.ceil(Lt),height:null!==($l=m.height)&&void 0!==$l?$l:Math.ceil(kn)},we?(le.logger.debug("Document cloned, using foreign object rendering"),[4,new ab(le,qn).render(Je)]):[3,3];case 2:return wn=Kl.sent(),[3,5];case 3:return le.logger.debug("Document cloned, element located at "+on+","+Jt+" with size "+Lt+"x"+kn+" using computed rendering"),le.logger.debug("Starting DOM parsing"),$t=Sv(le,Je),yr===$t.styles.backgroundColor&&($t.styles.backgroundColor=Do.TRANSPARENT),le.logger.debug("Starting renderer for element at "+qn.x+","+qn.y+" with size "+qn.width+"x"+qn.height),[4,new $p(le,qn).render($t)];case 4:wn=Kl.sent(),Kl.label=5;case 5:return(!(null!==(Pu=m.removeContainer)&&void 0!==Pu)||Pu)&&(Fv.destroy(Kt)||le.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),le.logger.debug("Finished rendering"),[2,wn]}})})},rh=function(y,m,b){var _=m.ownerDocument,T=_.documentElement?OA(y,getComputedStyle(_.documentElement).backgroundColor):Do.TRANSPARENT,N=_.body?OA(y,getComputedStyle(_.body).backgroundColor):Do.TRANSPARENT,K="string"==typeof b?OA(y,b):null===b?Do.TRANSPARENT:4294967295;return m===_.documentElement?ll(T)?ll(N)?K:N:T:K};return function(y,m){return void 0===m&&(m={}),jB(y,m)}}()},7156:Vi=>{function pn(ln,fn,On,Rn,$e,rt,Mt){try{var en=ln[rt](Mt),It=en.value}catch(tr){return void On(tr)}en.done?fn(It):Promise.resolve(It).then(Rn,$e)}Vi.exports=function jt(ln){return function(){var fn=this,On=arguments;return new Promise(function(Rn,$e){var rt=ln.apply(fn,On);function Mt(It){pn(rt,Rn,$e,Mt,en,"next",It)}function en(It){pn(rt,Rn,$e,Mt,en,"throw",It)}Mt(void 0)})}},Vi.exports.__esModule=!0,Vi.exports.default=Vi.exports},5861:(Vi,pn,jt)=>{"use strict";function ln(On,Rn,$e,rt,Mt,en,It){try{var tr=On[en](It),nr=tr.value}catch(rr){return void $e(rr)}tr.done?Rn(nr):Promise.resolve(nr).then(rt,Mt)}function fn(On){return function(){var Rn=this,$e=arguments;return new Promise(function(rt,Mt){var en=On.apply(Rn,$e);function It(nr){ln(en,rt,Mt,It,tr,"next",nr)}function tr(nr){ln(en,rt,Mt,It,tr,"throw",nr)}It(void 0)})}}jt.d(pn,{Z:()=>fn})}},Vi=>{Vi(Vi.s=7638)}]);